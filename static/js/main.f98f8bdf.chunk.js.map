{"version":3,"sources":["zoomableImage.js","reflectionInfo.js","VideoEmbed.js","eventCard.js","eventDateCard.js","metadataCard.js","suitDetail.js","suits.js","filterBox.js","suitFilter.js","fetchSuitInfo.js","suitPage.js","SuitDetailPage.js","Navbar.js","ContactPage.js","CreditsPage.js","PrivacyPolicy.js","Wishlist.js","Closet.js","App.js","reportWebVitals.js","index.js"],"names":["SuitDetail","props","toggleZoom","setState","zoomed","state","loading","nextProps","nextState","this","src","className","onClick","alt","style","width","height","position","onLoad","id","Component","ReflectionInfo","decrement","level","increment","exists","iconUrl","length","compress","dangerouslySetInnerHTML","__html","CoR","marginTop","color","VideoEmbed","url","autoplay","embedUrl","includes","slice","frameBorder","allow","allowFullScreen","title","renderEventSuit","suit","href","detailPageUrl","name","rarity","type","eventCard","event","sortedSuits","sourceType","suits","sort","a","b","map","monthStr","getDateRangeString","start","end","Date","sd","ed","getFullYear","getMonth","getDate","printRelativeDate","release","anchorDateStr","getTime","now","relativeTimeString","getEventStatus","releases","subtype","eventType","sd_1","curTime","timeString","timeInMs","msPerDay","msPerMonth","msPerYear","elapsed","days","Math","round","months","years","eventDateCard","sourceSubype","Object","keys","server","toLowerCase","renderEventRelease","metadataCard","attribute","nation","archive","nextSuit","isFavourited","favourite","unfavourite","isOwned","setOwned","isAwakened","setAwakened","setNotOwned","closePane","isMobile","useState","activeImgType","setActiveImgType","ArrowKeysReact","config","left","forward","right","useEffect","video","images","renderSuitImageButton","btnImgType","cn","toUpperCase","substring","getSuitSourceString","string","source","verboseEventTypes","reflectionImgUrl","reflection","events","tabIndex","designer","awakenedName","eventName","e","likes","entries","filter","imgType","renderSuitImages","showStatus","showThumbs","useKeyboardArrows","icon","renderSuitInfoCards","SuitCards","setActiveSuit","renderSuitCard","idx","activeSuit","bind","SwipeReact","promo","filterPaneOpen","FilterBox","toggleExpand","expanded","toggleCheckbox","option","parent","onChange","category","target","checked","showChildren","subcategories","showOptions","options","status","hasIcons","showAllOptions","getNumAppliedFilters","values","c","fontWeight","fontSize","initialFilterState","Rarity","SR","SSR","UR","Attribute","Cool","Elegant","Fresh","Sexy","Sweet","Source","Pavillion","Crafting","Free","Paid","Nation","Apple","Cloud","Ninir","North","Pigeon","Ruin","Wasteland","Special","Obtained","Unawakened","Awakened","initialChildFilterState","SuitFilter","getNestedValue","obj","path","res","step","String","updateFilter","subcategory","value","filters","filterSuits","childFilters","triggerUpdate","filteredCategories","some","val","searchedSuits","searchByNameResults","searchByDesignerResults","reduce","appliedFilters","v","appliedFiltersTitleCase","suitVal","metadata","paths","activeChildFilters","affectedParentFilters","selectedChildOptions","x","concat","push","suitSubVal","childPaths","updateFilteredSuits","renderFilters","handleSearch","searchTerm","results","handleClear","handleSelect","handleDesignerSearch","designers","filteredSuits","handleDesignerSelect","designerObj","handleDesignerClear","renderSearchBars","index","self","indexOf","localeCompare","items","placeholder","onSearch","onSelect","onClear","styling","searchIconMargin","zIndex","useCaching","categoryInfo","sum","renderClearFiltersBtn","disabled","stopPropagation","renderSortBtn","sortType","activeSortType","setSortType","isDescending","renderSortBtns","sortTypes","suitCount","numAppliedFilters","toggleFilterPane","fetchAllSuits","window","fetch","then","r","json","fetchSuitById","suitId","SuitPanel","setSuits","favourites","setFavourites","ownedSuits","setOwnedSuits","setFilteredSuits","awakenedSuits","setAwakenedSuits","setIsDescending","useAuth0","user","isAuthenticated","loginWithRedirect","innerWidth","setFilterPaneOpen","addFavourite","sub","suitIdx","copy","filteredSuitIdx","method","addOwnedSuit","findIndex","s","suitsCopy","owned","obtained","addAwakenedSuit","awakened","removeFavourite","splice","removeOwnedSuit","escFunction","useCallback","keyCode","document","addEventListener","removeEventListener","onSuitClick","curSuitIdx","newSuitIdx","newSortType","filteredSuitsCopy","reverse","releaseSortFn","datestr_a","TW","datestr_b","parse","favouriteSuits","renderAllSuitImageTiles","imgUrl","suitImgUrl","renderSuitImageTile","renderSuitIcons","SuitDetailPage","setSuit","useParams","suitName","replace","videoUrl","Navbar","logout","menuOpen","setMenuOpen","role","ContactPage","CreditsPage","PrivacyPolicy","WishlistPage","userid","fetchedSuits","Promise","all","allSuits","faveSuits","undefined","closet","console","log","App","location","hash","domain","clientId","redirectUri","origin","exact","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f98f8bdf.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './zoomableImage.css';\n\nexport default class SuitDetail extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            zoomed: false,\n            loading: true,\n        };\n    }\n\n    toggleZoom = () => {\n        this.setState({zoomed: !this.state.zoomed})\n    }\n\n    componentWillUpdate(nextProps, nextState) {\n        if(this.props.src !== nextProps.src) {\n            this.setState({loading: true})\n        }\n    }\n\n    render() {\n        return (\n            <div className='zoomable-img-wrapper'>\n                <div\n                    className={this.state.zoomed ? 'dark-background' : ''}\n                    onClick={this.toggleZoom}\n                />\n                {!this.state.zoomed && (\n                    <div>\n                         <img src='zoom-in-button.png' className='zoom-in-button-background' alt='click to zoom' onClick={this.toggleZoom} />\n                         <img src='zoom-in-button.png' className='zoom-in-button' alt='click to zoom' onClick={this.toggleZoom} />\n                     </div>\n                 )}\n\n                <div style={{width: '100%', height: '100%', position: 'relative'}}>\n                    <img\n                        className={`${this.props.className}${this.state.loading ? ' loading' : ''} zoomed-out`}\n                        src={this.props.src}\n                        alt={this.props.alt}\n                        onClick={this.toggleZoom}\n                        onLoad={() => this.setState({loading: false})}\n                    />\n                    {this.state.loading && <div id=\"loading-spinner\" />}\n                </div>\n                {this.state.zoomed && <img\n                    className={`${this.props.className} zoomed-in`}\n                    src={this.props.src}\n                    alt={this.props.alt}\n                    onClick={this.toggleZoom}\n                />}\n            </div>\n        );\n    }\n}\n","import { Component } from 'react';\nimport './reflectionInfo.css';\n\nexport default class ReflectionInfo extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            level: 1\n        };\n    }\n\n    decrement = () => {\n        if(this.state.level > 1) {\n            this.setState({ level: this.state.level - 1 })\n        };\n    }\n\n    increment = () => {\n        if(this.state.level < 5){\n            this.setState({ level: this.state.level + 1 })\n        }\n    }\n\n    render() {\n        if(!this.props.exists) return (\n            <div className={`reflection-info-card${this.props.compress ? ' compress' : ''}`}>\n                <div className='reflection-card-column'>\n                    <div className=\"CoR-title\">Skill Info</div>\n                    <div className=\"CoR-description\" style={{marginTop: '5px', color: 'darkgray'}}>N/A - suit does not have a reflection</div>\n                </div>\n            </div>\n        );\n\n        if(!this.props.iconUrl?.length) return (\n            <div className={`reflection-info-card${this.props.compress ? ' compress' : ''}`}>\n                <div className='reflection-card-column'>\n                    <div className=\"CoR-title\">Skill Info</div>\n                    <div className=\"CoR-description\" style={{marginTop: '5px', color: 'darkgray'}}><i>(no skill info found)</i></div>\n                </div>\n            </div>\n        );\n        return (\n            <div className={`reflection-info-card${this.props.compress ? ' compress' : ''}`}>\n                <div className='reflection-card-column'>\n                    <div className=\"CoR-title\">Skill Info</div>\n                    <img className='reflection-icon' src={this.props.iconUrl} alt='reflection-icon' />\n                </div>\n                <div className='reflection-card-column'>\n                    <div className=\"level-input\">\n                        <button className='CoR-level-change' onClick={this.decrement}>-</button>\n                        <div className='CoR-level'>{`Lvl ${this.state.level}`}</div>\n                        <button className='CoR-level-change' onClick={this.increment}>+</button>\n                    </div>\n                    <div className=\"CoR-description\" dangerouslySetInnerHTML={{__html: this.props.CoR[this.state.level]}}></div>\n                </div>\n            </div>\n        );\n    }\n}\n","\nconst VideoEmbed = ({ url, autoplay=false }) => {\n    if(!url) return null;\n    const embedUrl = (\n          url.includes('youtu')\n        ? `https://www.youtube.com/embed/${url.slice(url.length-11)}`\n        : url\n    );\n    if(autoplay) {\n        return (\n          <div className=\"video-responsive\">\n            <iframe\n              width=\"100%\"\n              height=\"100%\"\n              src={embedUrl}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              autoplay\n              allowFullScreen\n              title=\"YouTube video player\"\n            />\n          </div>\n        );\n    }\n    return (\n      <div className=\"video-responsive\">\n        <iframe\n          width=\"100%\"\n          height=\"100%\"\n          src={embedUrl}\n          frameBorder=\"0\"\n          allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          title=\"YouTube video player\"\n        />\n      </div>\n    );\n}\n\nexport default VideoEmbed;\n","import './eventCard.css'\n\nfunction renderEventSuit(suit) {\n    return (\n        <li className='suit-link'>\n            <div><a className='inline' href={suit.detailPageUrl/*.replace('https://asukii314.github.io/sn-suit-reference','')*/}>{suit.name}</a> - {suit.rarity} {suit.type}</div>\n        </li>\n    );\n}\n\nexport default function eventCard({ event, sourceType }) {\n    let sortedSuits = (event.suits?.length ? [...event.suits] : []);\n    sortedSuits.sort(function(a,b) {\n        if(a.rarity === b.rarity) return 0;\n        return (a.rarity < b.rarity ? +1 : -1)\n    })\n    return (\n        <div className='event-card-container'>\n            <div className=\"event-title\">Event Suits</div>\n            <div className=\"event-subtitle\">{event.name}</div>\n            <ul className=\"event-suit-list\">\n                {sortedSuits.map(renderEventSuit)}\n            </ul>\n        </div>\n    );\n}\n","import './eventCard.css'\n\nconst monthStr = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\nfunction getDateRangeString(start, end) {\n    if(!end) {\n        if(start) {\n            const sd = new Date(start);\n            return `${start}`;\n        }\n        return 'N/A';\n    }\n    const sd = new Date(start);\n    const ed = new Date(end);\n\n    if (sd.getFullYear() === ed.getFullYear()) {\n        if(sd.getMonth() === ed.getMonth()) {\n            return `${monthStr[sd.getMonth()]} ${sd.getDate()}${ed.getDate()}, ${sd.getFullYear()}`;\n        } else {\n            return `${monthStr[sd.getMonth()]} ${sd.getDate()}${monthStr[ed.getMonth()]} ${ed.getDate()}, ${sd.getFullYear()}`;\n        }\n    } else {\n        return `${monthStr[sd.getMonth()]} ${sd.getDate()}, ${sd.getFullYear()}${monthStr[ed.getMonth()]} ${ed.getDate()}, ${ed.getFullYear()}`\n    }\n}\n\nfunction printRelativeDate(release) {\n     if(!release || !release.start) return;\n     const sd = new Date(release.start);\n     const anchorDateStr = (release.end && sd.getTime() < Date.now() ? release.end : release.start)\n     return (\n         <i className='relative-event-date'>({relativeTimeString(anchorDateStr)})</i>\n     )\n}\n\nfunction renderEventRelease(server, releases, type, subtype, eventType) {\n    return (\n        <div className='event-release'>\n            <b>{server}: </b>{getEventStatus(releases, type.toLowerCase(), subtype?.toLowerCase(), eventType?.toLowerCase())}\n            <ul className='event-release-list'>\n                {releases?.map(release => (\n                    <li>{getDateRangeString(release.start, release.end)} {printRelativeDate(release)}</li>\n                ))}\n            </ul>\n        </div>\n    )\n}\n\nfunction getEventStatus(releases, type, subtype, eventType) {\n    // check if no release info\n    // TODO: change to \"unreleased\" once more event info added, and then \"unannounced\" once 'spotted in index' info is added\n    if(!releases || releases.length === 0) {\n        return 'No release info';\n    }\n\n    const sd_1 = new Date(releases[0].start);\n    const curTime = Date.now();\n\n    // check for permanent availability\n    if(releases.length === 1 && !releases[0].end) {\n        if(sd_1.getTime() < curTime) {\n            return 'Permanently Available';\n        } else {\n            return 'Coming Soon';\n        }\n    }\n\n    // check if 2+ runs completed\n    if(releases.length >= 2) {\n        const ed_2 = new Date(releases[releases.length - 1].end);\n\n        if(ed_2.getTime() < curTime) {\n            if(subtype === 'gleam') {\n                return 'Rerun Expected';\n            } else {\n                return 'Completed';\n            }\n        }\n\n        const sd_2 = new Date(releases[1].start);\n        if(sd_2.getTime() < curTime) {\n            return 'Live Now (Rerun)';\n        } else {\n            return 'Coming Soon (Rerun)';\n        }\n    }\n\n    // exactly one run completed\n    const ed_1 = new Date(releases[0].end);\n    if(ed_1.getTime() < curTime) {\n        const singleRunSubtypes = [\n            'collab',\n            'pinnacle battle',\n            'fashion plan'\n        ];\n\n        const permSeasonSubtypes = [\n            'arena',\n            'memory stairway',\n            'styling competition'\n        ]\n        if(singleRunSubtypes.includes(subtype)) {\n            return 'Completed';\n        } else if(permSeasonSubtypes.includes(subtype)) {\n            return 'Permanently Available';\n        } else if(subtype === 'welfare') {\n            if(eventType === 'welfare') return 'Completed';\n            else return 'Rerun Expected';\n        } else {\n            return 'Rerun Expected';\n        }\n    }\n\n    if(sd_1.getTime() < curTime) {\n        return 'Live Now';\n    } else {\n        return 'Coming Soon';\n    }\n\n}\n\nfunction relativeTimeString(timeString) {\n    const date = new Date(timeString);\n    const timeInMs = date.getTime();\n\n    const msPerDay = 60 * 1000 * 60 * 24;\n    const msPerMonth = msPerDay * 30;\n    const msPerYear = msPerDay * 365;\n\n    var elapsed = Date.now() - timeInMs;\n\n    if (timeInMs > Date.now()) {\n        const days = Math.round(-1*elapsed/msPerDay);\n        return `In ${days} day${days === 1 ? '' : 's'}`;\n    }\n\n    else if (elapsed < msPerMonth) {\n        const days = Math.round(1*elapsed/msPerDay);\n        return `${days} day${days === 1 ? '' : 's'} ago`;\n    }\n\n    else if (elapsed < msPerYear) {\n        const months = Math.round(1*elapsed/msPerMonth);\n        return `${months} month${months === 1 ? '' : 's'} ago`;\n    }\n\n    else {\n        const years = Math.round(1*elapsed/msPerYear);\n        return `${years} year${years === 1 ? '' : 's'} ago`;\n    }\n}\n\nexport default function eventDateCard({ releases, sourceType, sourceSubype, eventType }) {\n    return (\n        <div className='event-card-container'>\n            <div className=\"event-title\">Releases</div>\n            <div className='event-release-container'>\n                {releases && Object.keys(releases).map(server => renderEventRelease(server, releases[server], sourceType, sourceSubype, eventType))}\n            </div>\n        </div>\n    );\n}\n","import './eventCard.css'\n\nexport default function metadataCard({ attribute, rarity, nation, archive }) {\n    return (\n        <div className='event-card-container'>\n            <div className=\"event-title\">Suit Info</div>\n            <div className=\"metadata-list\">\n                {(rarity && <div className='metadata-list-item'>\n                    <img src={`rarity/${rarity.toLowerCase()}.png`} className='suit-icon' alt={rarity} />\n                    <b>{rarity}</b> <i>(rarity)</i>\n                </div>)}\n                {(attribute && <div className='metadata-list-item'>\n                    <img src={`attribute/${attribute.toLowerCase()}.png`} className='suit-icon' alt={attribute} />\n                    <b>{attribute}</b> <i>(attribute)</i>\n                </div>)}\n                {(nation && <div className='metadata-list-item'>\n                    <img src={`nation/${nation.toLowerCase()}.png`} className='suit-icon' alt={nation} />\n                    <b>{nation}</b> <i>(nation)</i>\n                </div>)}\n                {(archive && archive !== '(N/A - no reflection)' && <div className='metadata-list-item'>\n                    <b className='indent'>{archive}</b> <i>(archive)</i>\n                </div>)}\n            </div>\n        </div>\n    );\n}\n","import { useState, useEffect } from 'react';\r\nimport ZoomableImage from './zoomableImage';\r\nimport ReflectionInfo from './reflectionInfo';\r\nimport VideoEmbed from './VideoEmbed';\r\nimport EventCard from './eventCard';\r\nimport EventDateCard from './eventDateCard';\r\nimport MetadataCard from './metadataCard';\r\nimport ArrowKeysReact from 'arrow-keys-react';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport './suitDetail.css';\r\n\r\nexport default function SuitDetail({\r\n    suit,\r\n    nextSuit,\r\n    isFavourited,\r\n    favourite,\r\n    unfavourite,\r\n    isOwned,\r\n    setOwned,\r\n    isAwakened,\r\n    setAwakened,\r\n    setNotOwned,\r\n    closePane,\r\n    isMobile,\r\n}) {\r\n\r\n    let [activeImgType, setActiveImgType] = useState(\"promo\");\r\n    ArrowKeysReact.config({\r\n      left: () => nextSuit({forward: false}),\r\n      right: () => nextSuit({forward: true})\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(!suit) return;\r\n        if( (activeImgType === 'video' && !suit.video) ||\r\n            (activeImgType !== 'video' && !suit.images[activeImgType])\r\n        ) {\r\n            setActiveImgType(\"promo\");\r\n        }\r\n    })\r\n\r\n    const renderSuitImageButton = (btnImgType) => {\r\n        const cn = 'suit-detail-type-button' + (btnImgType === activeImgType ? ' selected' : '');\r\n        return (\r\n            <button\r\n                className={cn}\r\n                key={btnImgType}\r\n                onClick={() => setActiveImgType(btnImgType)}\r\n            >{btnImgType[0].toUpperCase() + btnImgType.substring(1)}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    const renderSuitImageButtons = () => {\r\n        return (\r\n            <div className='suit-image-buttons-container'>\r\n                {Object.entries(suit.images)\r\n                    .filter(([imgType, imgUrl]) => !!imgUrl)\r\n                    .map(([imgType, imgUrl]) => {\r\n                        return renderSuitImageButton(imgType);\r\n                    }\r\n                )}\r\n                {suit.video && renderSuitImageButton('video')}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const getSuitSourceString = () => {\r\n        let string = (\r\n            suit.source.subtype\r\n                ? suit.source.subtype[0].toUpperCase() + suit.source.subtype.substring(1)\r\n                : suit.source.type\r\n        );\r\n\r\n        const verboseEventTypes = [\r\n            'Single SSR',\r\n            'Double SSR',\r\n            'Single UR',\r\n            'Double UR'\r\n        ];\r\n        const verboseEventSubtypes = [\r\n            'memory stairway',\r\n            'welfare',\r\n            'gleam',\r\n            'arena',\r\n            'recharge',\r\n        ]\r\n        if(suit.source.subtype === 'event' && verboseEventTypes.includes(suit.source.event?.type)) {\r\n            string = `${suit.source.event.type} event`\r\n        }\r\n        if(suit.source.subtype === 'collab' && verboseEventTypes.includes(suit.source.event?.type)) {\r\n            string = `${suit.source.event.type} collab`\r\n        }\r\n        if(verboseEventSubtypes.includes(suit.source.subtype)) {\r\n            string = `${string} suit`\r\n        }\r\n        if(suit.source.subtype === 'permanent') {\r\n            string = 'Permanent pavillion suit'\r\n        }\r\n\r\n        return string;\r\n    }\r\n\r\n    const renderActionBar = () => {\r\n        return (\r\n            <div className='favourite-icon-container detail'>\r\n                <div className='labelled-action-container'>\r\n                    <div className='suit-attribute-label favourites light'>\r\n                        {isAwakened ? 'Owned  Awakened' :\r\n                            isOwned ? 'Owned  Unawakened' : 'Not Owned'}\r\n                    </div>\r\n                    {!isOwned && !isAwakened && <img\r\n                        src='tick-empty.png'\r\n                        className='action-bar-icon owned-icon detail shadowed'\r\n                        alt='Mark as owned'\r\n                        title='Mark as owned'\r\n                        onClick={(e) => setOwned(suit,e)}\r\n                    />}\r\n                    {isOwned && !isAwakened &&\r\n                        <img src='tick-filled.png'\r\n                        className='action-bar-icon owned-icon detail shadowed green'\r\n                        alt='Mark as awakened'\r\n                        title='Mark as awakened'\r\n                        onClick={(e) => setAwakened(suit,e)}\r\n                    />}\r\n                    {isAwakened &&\r\n                        <img src='tick-filled.png'\r\n                        className='action-bar-icon owned-icon detail shadowed gold'\r\n                        alt='Unmark as owned'\r\n                        title='Unmark as owned'\r\n                        onClick={(e) => setNotOwned(suit,e)}\r\n                    />}\r\n                </div>\r\n                <div className='labelled-action-container'>\r\n                    <div className='suit-attribute-label favourites'>{suit.likes}</div>\r\n                    {!isFavourited && <img\r\n                        src='heart_outline.png'\r\n                        className='action-bar-icon detail unfavourited'\r\n                        alt='Favourite'\r\n                        title='Favourite'\r\n                        onClick={() => favourite(suit)}\r\n                    />}\r\n                    {isFavourited && <img\r\n                        src='heart_red.png'\r\n                        className='action-bar-icon detail favourited'\r\n                        alt='Unfavourite'\r\n                        title='Unfavourite'\r\n                        onClick={() => unfavourite(suit)}\r\n                    />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderSuitImages = (reflectionImgUrl) => {\r\n        return (\r\n            <div className='suit-detail-left-column'>\r\n            {renderActionBar()}\r\n            <div className='suit-detail-img-container'>\r\n                {renderSuitImageButtons()}\r\n                {activeImgType === 'video' &&\r\n                    <VideoEmbed url={suit.video}/>\r\n                }\r\n                {activeImgType !== 'video' && <ZoomableImage\r\n                    className='suit-detail-img'\r\n                    src={suit.images[activeImgType]}\r\n                    alt={activeImgType}\r\n                />}\r\n                {reflectionImgUrl && <ZoomableImage\r\n                    className='suit-detail-img'\r\n                    src={reflectionImgUrl}\r\n                    alt='reflection'\r\n                />}\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSuitInfoCards = () => {\r\n        if(isMobile) {\r\n            return (\r\n                <div className='suit-detail-infocard-container'>\r\n                <Carousel\r\n                    className='carousel'\r\n                    showStatus={false}\r\n                    showThumbs={false}\r\n                    useKeyboardArrows={false}\r\n                >\r\n                    <MetadataCard\r\n                        attribute={suit.attribute}\r\n                        rarity={suit.rarity}\r\n                        nation={suit.nation}\r\n                        archive={suit.archive}\r\n                    />\r\n                    <EventDateCard\r\n                        releases={suit.source?.event?.releases}\r\n                        eventType={suit.source?.event?.type}\r\n                        sourceType={suit.source.type}\r\n                        sourceSubype={suit.source.subtype}\r\n                    />\r\n                    <EventCard\r\n                        event={suit.source?.event}\r\n                        sourceType={getSuitSourceString()}\r\n                    />\r\n                    <ReflectionInfo\r\n                        exists={suit.archive !== '(N/A - no reflection)'}\r\n                        iconUrl={suit.reflection?.images?.icon}\r\n                        CoR={suit.reflection?.CoR}\r\n                    />\r\n                </Carousel>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className='suit-detail-infocard-container'>\r\n                    <EventDateCard\r\n                        releases={suit.source?.event?.releases}\r\n                        eventType={suit.source?.event?.type}\r\n                        sourceType={suit.source.type}\r\n                        sourceSubype={suit.source.subtype}\r\n                    />\r\n                    <EventCard\r\n                        event={suit.source?.event}\r\n                        sourceType={getSuitSourceString()}\r\n                    />\r\n                    <ReflectionInfo\r\n                        exists={suit.archive !== '(N/A - no reflection)'}\r\n                        iconUrl={suit.reflection?.images?.icon}\r\n                        CoR={suit.reflection?.CoR}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    if(suit) {\r\n        const reflectionImgUrl = suit.reflection?.images?.[activeImgType];\r\n        return (\r\n            <div className='suit-detail-container' {/*...SwipeReact.events*/ ...ArrowKeysReact.events} tabIndex=\"1\">\r\n                <input type='image' className='suit-select-arrow previous' src='./down-arrow.png' onClick={() => nextSuit({forward: false})}/>\r\n                <button className='suit-detail-close-button' onClick={closePane}></button>\r\n                <div className='suit-surtitle'>{getSuitSourceString()}</div>\r\n                <div className='suit-title'>{`${suit.designer}  ${(activeImgType === 'awakened' && suit.awakenedName !== '') ? suit.awakenedName : suit.name}`}</div>\r\n                <div className='suit-subtitle'>{suit.source?.eventName === suit.name ? '' : suit.source?.eventName}</div>\r\n                {renderSuitImages(reflectionImgUrl)}\r\n                {renderSuitInfoCards()}\r\n                <input type='image' className='suit-select-arrow next' src='./down-arrow.png' onClick={() => nextSuit({forward: true})}/>\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n\r\n}\r\n","import { Component } from 'react';\r\nimport 'whatwg-fetch';\r\nimport './suits.css';\r\nimport ArrowKeysReact from 'arrow-keys-react';\r\nimport SwipeReact from 'swipe-react';\r\n\r\nexport default class SuitCards extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        ArrowKeysReact.config({\r\n            left: () => this.props.nextSuit({forward: false}),\r\n            right: () => this.props.nextSuit({forward: true})\r\n        });\r\n        SwipeReact.config({\r\n            left: () => this.props.nextSuit({forward: false}),\r\n            right: () => this.props.nextSuit({forward: true})\r\n        });\r\n    }\r\n\r\n    onClick = (suit) => {\r\n        this.props.setActiveSuit(suit);\r\n    }\r\n\r\n    renderSuitCard = (suit, idx) => {\r\n        return (\r\n            <div\r\n                className={`suit-card${suit === this.props.activeSuit ? ' active' : ''}`}\r\n                key={idx}\r\n                onClick={this.onClick.bind(this,suit)}\r\n                {...ArrowKeysReact.events} tabIndex=\"1\"\r\n                {...SwipeReact.events}\r\n            >\r\n                <div className='suit-icon-container'>\r\n                    <div className='favourite-icon-container'>\r\n\r\n\r\n\r\n                        {/* Rarity icon */}\r\n                        {suit.rarity && <div className='favourite-icon-with-label'>\r\n                            <img src={`rarity/${suit.rarity.toLowerCase()}.png`} className='suit-icon shadowed' alt='rarity' />\r\n                            <div className='icon-label'>{suit.rarity.toUpperCase()} rarity</div>\r\n                        </div>}\r\n\r\n                        {/* Attribute icon */}\r\n                        {suit.attribute && <div className='favourite-icon-with-label'>\r\n                            {suit.attribute && <img src={`attribute/${suit.attribute.toLowerCase()}.png`} className='suit-icon' alt='attribute' />}\r\n                            <div className='icon-label'>{suit.attribute} attribute</div>\r\n                        </div>}\r\n\r\n                        {/* Nation icon */}\r\n                        {suit.nation && <div className='favourite-icon-with-label'>\r\n                            {suit.nation && <img src={`nation/${suit.nation.toLowerCase()}.png`} className='suit-icon' alt='nation' />}\r\n                            <div className='icon-label'>{suit.nation} nation</div>\r\n                        </div>}\r\n                    </div>\r\n                </div>\r\n                <img src={suit.images.promo} className='suit-img' alt={suit.name}/>\r\n                <p className='suit-name'> {suit.name} </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    setActiveSuit = (suit) => {\r\n        this.props.setActiveSuit(suit);\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.suits) return null;\r\n        return (\r\n            <div className={`suit-cards-container${this.props.suits.length ? ' loaded' : ''}${this.props.filterPaneOpen ? ' pane-open' : ' pane-closed'}`}>\r\n                {this.props.suits.map(this.renderSuitCard)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { Component } from 'react';\nimport './filterBox.css';\n\nexport default class FilterBox extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            expanded: false\n        };\n    }\n\n    toggleExpand = () => {\n        this.setState({expanded: !this.state.expanded})\n    }\n\n    toggleCheckbox = (option, parent, e) => {\n        this.props.onChange(this.props.category, (this.props.category === parent ? null : parent), option, e.target.checked)\n    }\n\n    showChildren = (option) => {\n        if (!this.props.subcategories?.[option] || !this.props.checked[option]){\n            return null;\n        } else {\n            return (\n                <div className='child-option-container'>\n                    {this.showOptions(\n                        Object.keys(this.props.subcategories[option]),\n                        this.props.subcategories[option],\n                        option\n                    )}\n                </div>\n            )\n\n        }\n    }\n\n    showOptions = (options, status, parent) => {\n        return (\n            options.map((option) => {\n            return (\n                <div key={`${option}-wrapper`}>\n                    <div className='filter-option' key={`${option}-container`}>\n                        <input\n                            type='checkbox'\n                            key={`${option}-checkbox`}\n                            checked={status[option]}\n                            onChange={this.toggleCheckbox.bind(this,option, parent)}\n                        />\n                        {this.props.hasIcons && <img\n                            className='filter-icon'\n                            key={`${option}-icon`}\n                            alt={`${option}-icon`}\n                            src={`${this.props.category.toLowerCase()}/${option.toLowerCase()}.png`}\n                        />}\n                        <div className='filter-label' key={`${option}-label`}>{option}</div>\n                    </div>\n                    {this.showChildren(option)}\n                </div>\n            );\n        })\n    )\n    }\n\n    showAllOptions = () => {\n        return this.showOptions(\n            Object.keys(this.props.checked),\n            this.props.checked,\n            this.props.category\n        );\n    }\n\n    // todo - make this care about subcategories\n    getNumAppliedFilters = () => {\n        return Object.values(this.props.checked).filter(c => c).length;\n    }\n\n    render() {\n        return (\n            <div className='filter-box-container' >\n            <div className='filter-box-title' onClick={this.toggleExpand}>\n                <div className='title-text-wrapper'>\n                    <div>{this.props.category}</div>\n                    {this.getNumAppliedFilters() > 0 && <div className='applied-filters'>{this.getNumAppliedFilters()}</div>}\n                </div>\n                <div style={{fontWeight: 'normal', fontSize: '10px'}}>{this.state.expanded ? '' : ''}</div>\n            </div>\n\n                {this.state.expanded && (<div className='filter-option-container'>{this.showAllOptions()}</div>)}\n            </div>\n        );\n    }\n}\n","import { Component } from 'react';\nimport './suitFilter.css';\nimport FilterBox from './filterBox';\nimport { ReactSearchAutocomplete } from 'react-search-autocomplete';\n\nconst initialFilterState = {\n    Rarity: {\n        SR: false,\n        SSR: false,\n        UR: false\n    },\n    Attribute: {\n        Cool: false,\n        Elegant: false,\n        Fresh: false,\n        Sexy: false,\n        Sweet: false\n    },\n    Source: {\n        Pavillion: false,\n        Crafting: false,\n        Free: false,\n        Paid: false,\n        'Other event type': false\n    },\n    Nation : {\n        Apple: false,\n        Cloud: false,\n        Ninir: false,\n        North: false,\n        Pigeon: false,\n        Ruin: false,\n        Wasteland: false,\n        Special: false,\n    },\n    Obtained: {\n        'Not Owned': false,\n        Unawakened: false,\n        Awakened: false\n    }\n}\n\nconst initialChildFilterState = {\n    Source: {\n        Pavillion: {\n            'Permanent': false,\n            'Gleam': false,\n            'Event': false,\n            'Collab': false,\n        },\n        Crafting: {\n            'Lifetime': false,\n            'Chapter suit': false,\n            'Mind maze': false,\n            'Memory stairway': false,\n            'Other': false,\n        },\n        Free: {\n            'Arena': false,\n            'Pinnacle battle': false,\n            'Styling competition': false,\n            'Intel hub': false,\n            'Welfare': false,\n            'Other': false,\n        },\n        Paid: {\n            'Recharge': false,\n            'VIP level': false,\n            'Fashion plan': false,\n            'Purple diamonds': false,\n        }\n    }\n}\n\nexport default class SuitFilter extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            searchByNameResults: null,\n            searchByDesignerResults: null,\n            filters: initialFilterState,\n            childFilters: initialChildFilterState,\n        };\n        this.metadata = {\n            Rarity: {\n                paths: ['rarity'],\n                hasIcons: true,\n            },\n            Attribute: {\n                paths: ['attribute'],\n                hasIcons: true,\n            },\n            Source: {\n                paths: ['source', 'type'],\n                hasIcons: false,\n                childPaths: ['source', 'subtype']\n            },\n            Nation: {\n                paths: ['nation'],\n                hasIcons: true,\n            },\n            Obtained: {\n                paths: ['obtained'],\n                hasIcons: false\n            }\n        }\n    }\n\n    getNestedValue = (obj, path) => {\n        let res = obj;\n        for(const step of path){\n            res = res?.[step];\n        }\n        return String(res);\n    }\n\n    updateFilter = (category, subcategory, option, value) => {\n        if(subcategory === null) {\n            return this.setState({\n                filters: {\n                    ...this.state.filters,\n                    [category]: {\n                        ...this.state.filters[category],\n                        [option]: value\n                    }\n                }\n\n            }, this.filterSuits)\n        } else {\n            return this.setState({\n                childFilters: {\n                    ...this.state.childFilters,\n                    [category]: {\n                        ...this.state.childFilters[category],\n                        [subcategory]: {\n                            ...this.state.childFilters[category][subcategory],\n                            [option]: value\n                        }\n                    }\n                }\n            }, this.filterSuits)\n        }\n    }\n\n    filterSuits = ({triggerUpdate = true} = {}) => {\n        const filteredCategories = Object.keys(this.state.filters).filter((category) =>\n            Object.values(this.state.filters[category]).some((val) => !!val)\n        )\n\n        // check both search bars\n        const searchedSuits = this.props.suits.filter((suit) => {\n            if((this.state.searchByNameResults && !this.state.searchByNameResults.map(suit => suit.name).includes(suit.name)) ||\n               (this.state.searchByDesignerResults && !this.state.searchByDesignerResults.map(suit => suit.name).includes(suit.name))) {\n                   return false;\n            }\n            return true;\n        })\n\n        // check parent categories\n        const res = filteredCategories.reduce((suits, category) => {\n            const appliedFilters = Object.keys(this.state.filters[category]).filter((val) =>\n                this.state.filters[category][val]\n            ).map((v) => v.toLowerCase());\n\n            // ughhhhhh I hate this hack lmao\n            const appliedFiltersTitleCase = Object.keys(this.state.filters[category]).filter((val) =>\n                this.state.filters[category][val]\n            );\n\n            return suits.filter((suit) => {\n                // can we rule out based on the parent categoories only?\n                const suitVal = this.getNestedValue(suit, this.metadata[category].paths).toLowerCase();\n                if(!appliedFilters.includes(suitVal)) return false;\n\n                // check children\n                if(this.state.childFilters[category]) {\n                    let activeChildFilters = [], affectedParentFilters = [];\n                    for (const subcategory of appliedFiltersTitleCase) {\n                        if(!this.state.childFilters[category][subcategory]) continue;\n                        const selectedChildOptions = (\n                            Object.keys(this.state.childFilters[category]?.[subcategory])\n                            .filter((option) => this.state.childFilters[category][subcategory]?.[option])\n                            .map(x => x.toLowerCase())\n                        );\n\n                        // affectedParentFilters -> if suit it from a category that hasn't been narrowed, don't force narrowing\n                        if(selectedChildOptions.length > 0) {\n                            activeChildFilters = activeChildFilters.concat(selectedChildOptions);\n                            affectedParentFilters.push(subcategory.toLowerCase());\n                        }\n                    }\n\n                    if(activeChildFilters.length > 0 && affectedParentFilters.includes(suitVal)) {\n                        const suitSubVal = this.getNestedValue(suit, this.metadata[category].childPaths)?.toLowerCase();\n                        if(!activeChildFilters.includes(suitSubVal)) {\n                            return false;\n                        }\n                    }\n                }\n\n                return true;\n            })\n        }, searchedSuits);\n        if(triggerUpdate) {\n            this.props.updateFilteredSuits(res);\n        }\n        return res;\n    }\n\n    renderFilters = () => {\n        return Object.keys(this.state.filters).map((category) => {\n            return (\n                <FilterBox\n                    category={category}\n                    key={category}\n                    checked={this.state.filters[category]}\n                    subcategories={this.state.childFilters[category]}\n                    onChange={this.updateFilter}\n                    hasIcons={this.metadata[category].hasIcons}\n                    isMobile={this.props.isMobile}\n                />\n            )\n        })\n    }\n\n    handleSearch = (searchTerm, results) => {\n        this.setState(\n            {searchByNameResults: results},\n            this.props.updateFilteredSuits(results)\n        );\n    }\n\n    handleClear = () => {\n        this.setState(\n            {searchByNameResults: null},\n            this.filterSuits\n        );\n    }\n\n    handleSelect = (suit) => {\n        this.handleSearch([suit]);\n        this.props.setActiveSuit(suit);\n    }\n\n    handleDesignerSearch = (searchTerm, results) => {\n        const designers = results.map(obj => obj.name);\n        const filteredSuits =\n            this.filterSuits({triggerUpdate: false})\n                .filter(suit => designers.includes(suit.designer));\n\n        this.setState(\n            {searchByDesignerResults: filteredSuits},\n            () => this.props.updateFilteredSuits(filteredSuits)\n        );\n    }\n\n    handleDesignerSelect = (designerObj) => {\n        this.handleDesignerSearch(null, [designerObj])\n    }\n\n\n    handleDesignerClear = () => {\n        this.setState(\n            {searchByDesignerResults: null},\n            this.filterSuits\n        );\n    }\n\n    renderSearchBars = () => {\n        const designers = this.props.suits\n            .map((suit) => suit.designer)\n            .filter((value, index, self) => self.indexOf(value) === index)\n            .filter((name) => name.length > 0)\n            .sort((a, b) => a.localeCompare(b))\n            .map((name) => { return {name} })\n\n        return (\n            <div>\n                {/*<div className='search-bar-wrapper first'>\n                    <ReactSearchAutocomplete\n                        items={this.props.suits}\n                        placeholder='Search by suit name'\n                        onSearch={this.handleSearch}\n                        onSelect={this.handleSelect}\n                        onClear={this.handleClear}\n                        styling={{\n                            fontSize: '11px',\n                            height: '30px',\n                            searchIconMargin: '0px 0px 0px 8px',\n                        }}\n                        useCaching={false}\n                      />\n                      </div>*/}\n                      <div className='search-bar-wrapper'>\n                      <ReactSearchAutocomplete\n                          items={designers}\n                          placeholder='Search by designer'\n                          onSearch={this.handleDesignerSearch}\n                          onSelect={this.handleDesignerSelect}\n                          onClear={this.handleDesignerClear}\n                          styling={{\n                              fontSize: '11px',\n                              height: '30px',\n                              searchIconMargin: '0px 0px 0px 8px',\n                              zIndex: 9 /* weird bug here;\n                                            too high & it renders overtop of zoomed images with a higher z-index than itself,\n                                            too low & list items render below the suit detail pane.\n                                            leaving low for now but should investigate more later */\n                          }}\n                          useCaching={false}\n                        />\n                </div>\n            </div>\n        )\n    }\n\n    getNumAppliedFilters = () => {\n        return Object.values(this.state.filters).map((categoryInfo) => {\n            return Object.values(categoryInfo).filter(c => c).length\n        }).reduce((sum, val) => sum + val, 0)\n    }\n\n    renderClearFiltersBtn = () => {\n        return (\n            <button\n                className='clear-filters-btn'\n                disabled={this.getNumAppliedFilters() === 0}\n                onClick={(e) => {\n                    e.stopPropagation();\n                    this.setState({\n                        filters: initialFilterState,\n                        childFilters: initialChildFilterState\n                    }, this.handleDesignerClear);\n                }}\n            >\n            Clear Filters\n            </button>\n        )\n    }\n\n    renderSortBtn = (sortType) => {\n        if(sortType === this.props.activeSortType) {\n            return (\n                <button\n                    className='sort-button active'\n                    onClick={(e) => this.props.setSortType(sortType)}\n                >\n                {sortType}\n                <img\n                    className={`sort-dir-icon ${this.props.isDescending ? 'descending' : 'ascending'}`}\n                    alt={this.props.isDescending ? 'Descending' :'Ascending'}\n                    title={this.props.isDescending ? 'Descending' :'Ascending'}\n                    src='down-filled-triangular-arrow.png'\n                />\n                </button>\n            )\n        }\n        return (\n            <button\n                className='sort-button'\n                onClick={(e) => this.props.setSortType(sortType)}\n            >\n            {sortType}\n            </button>\n        )\n    }\n\n    renderSortBtns = () => {\n        if(!this.props.sortTypes) return null;\n        return (\n            <div className='sort-bar-container'>\n                <div className='sort-btn-container'>\n                    Sort by:\n                    {this.props.sortTypes.map(this.renderSortBtn)}\n                </div>\n                {this.props.expanded && <div className='suit-count-label expanded'>Suits ({this.props.suitCount})</div>}\n            </div>\n        )\n    }\n\n    render() {\n        const numAppliedFilters = this.getNumAppliedFilters();\n        return (\n            <div className={`suit-filter-container ${this.props.expanded ? 'expanded' : 'collapsed'}`}>\n                <div className='toggle-filter-btn' onClick={this.props.toggleFilterPane}>\n                    <img\n                        className={`toggle-filter-icon${this.props.expanded ? ' collapse' : ''}`}\n                        alt='toggle-filter-view'\n                        title={this.props.expanded ? 'Close filter pane' :'Open filter pane'}\n                        src={this.props.expanded ? 'black-x-icon.png' :'filter-icon.png'}\n                    />\n                    <div className={`toggle-filter-label${this.props.expanded ? ' hidden' : ''}`}>Show Filters</div>\n                    {numAppliedFilters > 0 && <div className={`applied-filters${this.props.expanded ? ' hidden' : ''}`}>{numAppliedFilters}</div>}\n                    {numAppliedFilters > 0 && !this.props.expanded && this.renderClearFiltersBtn()}\n                </div>\n                <div className={`filter-wrapper ${this.props.expanded ? 'visible' : 'hidden'}`}>\n                    <div className='filter-fields-wrapper'>\n                        {this.renderSearchBars()}\n                        {this.renderFilters()}\n                        {this.renderClearFiltersBtn()}\n                    </div>\n                    <hr className='filter-divider'/>\n                    {this.renderSortBtns()}\n                </div>\n                {!this.props.expanded && <div className='suit-count-label collapsed'>Suits ({this.props.suitCount})</div>}\n            </div>\n        );\n    }\n}\n","import 'whatwg-fetch';\n\nexport default function fetchAllSuits() {\n    return window.fetch('https://sn-suit-reference-api.herokuapp.com/suits')\n        .then(r => r.json())\n}\n\nexport function fetchSuitById(suitId) {\n    return window.fetch(`https://sn-suit-reference-api.herokuapp.com/suits/${suitId}`)\n        .then(r => r.json())\n}\n","import SuitDetail from './suitDetail';\nimport SuitCards from './suits';\nimport SuitFilter from './suitFilter';\nimport fetchAllSuits from './fetchSuitInfo';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport 'whatwg-fetch';\nimport './suits.css';\n\nexport default function SuitPanel() {\n    let [suits, setSuits] = useState([]);\n    let [favourites, setFavourites] = useState([]);\n    let [ownedSuits, setOwnedSuits] = useState([]);\n    let [filteredSuits, setFilteredSuits] = useState([]);\n    let [awakenedSuits, setAwakenedSuits] = useState([]);\n    let [activeSuit, setActiveSuit] = useState(null);\n    let [fetchedFavourites, setFetchedFavourites] = useState(false);\n    let [isDescending, setIsDescending] = useState(true);\n    let [sortType, setSortType] = useState('Alphabetical')\n    const { user, isAuthenticated, loginWithRedirect } = useAuth0();\n\n    const [width, setWidth] = useState(window.innerWidth);\n    function handleWindowSizeChange() {\n        setWidth(window.innerWidth);\n    }\n    // useEffect(() => {\n    //     window.addEventListener('resize', handleWindowSizeChange);\n    //     return () => {\n    //         window.removeEventListener('resize', handleWindowSizeChange);\n    //     }\n    // }, []);\n    // const isMobile = width <= 768;\n    const isMobile = true;\n\n    let [filterPaneOpen, setFilterPaneOpen] = useState(!isMobile);\n\n    useEffect(() => {\n        if(!suits.length) {\n            fetchAllSuits().then(suits => {\n                setSuits(suits);\n                setFilteredSuits(suits);\n            })\n        }\n\n\n    })\n\n    const addFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setFavourites([...favourites, suit.id])\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes + 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes + 1\n            }\n            setFilteredSuits(copy);\n        }\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const addOwnedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setOwnedSuits([...ownedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: true,\n            obtained: 'Unawakened'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const addAwakenedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setAwakenedSuits([...awakenedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            awakened: true,\n            obtained: 'Awakened'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/awakened/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const removeFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n        const index = favourites.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...favourites];\n            copy.splice(index, 1)\n            setFavourites(copy);\n        }\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes - 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes - 1\n            }\n            setFilteredSuits(copy);\n        }\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const removeOwnedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n\n        let index = ownedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...ownedSuits];\n            copy.splice(index, 1)\n            setOwnedSuits(copy);\n        }\n\n        index = awakenedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...awakenedSuits];\n            copy.splice(index, 1)\n            setAwakenedSuits(copy);\n        }\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: false,\n            awakened: false,\n            obtained: 'Not Owned'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const escFunction = useCallback((event) => {\n      if (event.keyCode === 27) {\n        closePane();\n      }\n    }, []);\n    useEffect(() => {\n      document.addEventListener(\"keydown\", escFunction);\n      return () => {\n        document.removeEventListener(\"keydown\", escFunction);\n      };\n    }, [escFunction]);\n\n    const onSuitClick = (suit) => {\n        activeSuit === suit\n            ? closePane()\n            : setActiveSuit(suit);\n    }\n\n    const closePane = () => {\n        setActiveSuit(null);\n    }\n\n    const toggleFilterPane = () => {\n        setFilterPaneOpen(!filterPaneOpen);\n    }\n\n    const nextSuit = ({forward=true}={}) => {\n        if(!activeSuit) return;\n        const curSuitIdx = filteredSuits.map(suit => suit.name).indexOf(activeSuit.name);\n        const newSuitIdx = curSuitIdx + (forward ? 1 : -1);\n        if(newSuitIdx < 0 || newSuitIdx >= filteredSuits.length) return;\n        setActiveSuit(filteredSuits[newSuitIdx]);\n    }\n\n    const updateSortType = (newSortType) => {\n        const suitsCopy = [...suits];\n        const filteredSuitsCopy = [...filteredSuits];\n\n        if(newSortType === sortType) {\n            suitsCopy.reverse();\n            setSuits(suitsCopy);\n            filteredSuitsCopy.reverse();\n            setFilteredSuits(filteredSuitsCopy);\n            setIsDescending(!isDescending);\n            return;\n        }\n        setSortType(newSortType);\n        setIsDescending(true);\n        switch(newSortType) {\n            case '# of Likes':\n                suitsCopy.sort((a, b) => b.likes - a.likes);\n                setSuits(suitsCopy);\n                filteredSuitsCopy.sort((a, b) => b.likes - a.likes);\n                setFilteredSuits(filteredSuitsCopy);\n                break;\n\n            case 'Alphabetical':\n                suitsCopy.sort((a, b) => b.name.toUpperCase() < a.name.toUpperCase() ? 1 : -1);\n                setSuits(suitsCopy);\n                filteredSuitsCopy.sort((a, b) => b.name.toUpperCase() < a.name.toUpperCase() ? 1 : -1);\n                setFilteredSuits(filteredSuitsCopy);\n                break;\n\n            case '1st Release (TW)':\n                const releaseSortFn = (a, b) => {\n                    const datestr_a = a.source?.event?.releases?.TW?.[0]?.start;\n                    const datestr_b = b.source?.event?.releases?.TW?.[0]?.start;\n                    if(!datestr_a && !datestr_b) return 0;\n                    if(!datestr_a) return 1;\n                    if(!datestr_b) return -1;\n                    return Date.parse(datestr_b) - Date.parse(datestr_a);\n                }\n                suitsCopy.sort(releaseSortFn);\n                setSuits(suitsCopy);\n                filteredSuitsCopy.sort(releaseSortFn);\n                setFilteredSuits(filteredSuitsCopy);\n                break;\n        }\n    }\n\n    if(!suits) return null;\n    return (\n        <div>\n            <SuitFilter\n                suits={suits}\n                updateFilteredSuits={setFilteredSuits}\n                suitCount={filteredSuits.length}\n                expanded={filterPaneOpen}\n                toggleFilterPane={toggleFilterPane}\n                setActiveSuit={onSuitClick}\n                isMobile={isMobile}\n                sortTypes={['Alphabetical', '# of Likes', '1st Release (TW)']}\n                activeSortType={sortType}\n                isDescending={isDescending}\n                setSortType={updateSortType}\n            />\n            <div className='suit-page-main-content'>\n                <SuitDetail\n                    suit={activeSuit}\n                    closePane={closePane}\n                    nextSuit={nextSuit}\n                    isFavourited={favourites.includes(activeSuit?.id) || false}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    isOwned={ownedSuits.includes(activeSuit?.id) || false}\n                    isAwakened={awakenedSuits.includes(activeSuit?.id) || false}\n                    setOwned={addOwnedSuit}\n                    setAwakened={addAwakenedSuit}\n                    setNotOwned={removeOwnedSuit}\n                    isMobile={isMobile}\n                />\n                <SuitCards\n                    suits={filteredSuits}\n                    activeSuit={activeSuit}\n                    setActiveSuit={onSuitClick}\n                    nextSuit={nextSuit}\n                    favouriteSuits={favourites}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    ownedSuits={ownedSuits}\n                    awakenedSuits={awakenedSuits}\n                    setOwned={addOwnedSuit}\n                    setAwakened={addAwakenedSuit}\n                    setNotOwned={removeOwnedSuit}\n                    filterPaneOpen={activeSuit !== null}\n                />\n            </div>\n      </div>\n    );\n}\n","import { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport {fetchSuitById} from './fetchSuitInfo';\nimport ZoomableImage from './zoomableImage';\nimport ReflectionInfo from './reflectionInfo';\nimport VideoEmbed from './VideoEmbed';\nimport EventCard from './eventCard';\nimport EventDateCard from './eventDateCard';\nimport './suitDetailPage.css';\n\nfunction renderSuitImageTile(imgType, suitImgUrl, reflectionImgUrl) {\n    return (\n        <div className='suit-img-tile' key={imgType}>\n            <div className='suit-tile-title'>{imgType}</div>\n            <div className='suit-tile-img-wrapper'>\n                <ZoomableImage\n                    className='tile-img suit'\n                    src={suitImgUrl}\n                    alt={imgType}\n                />\n                {reflectionImgUrl && <ZoomableImage\n                    className='tile-img reflection'\n                    src={reflectionImgUrl}\n                    alt='reflection'\n                    />}\n            </div>\n        </div>\n    );\n}\n\n// there's gotta be a better way to do this with hooks/HOCs that\n// avoids the duplicative code here but I can't be arsed\nfunction renderVideoImageTile(videoUrl) {\n    if(!videoUrl) return null;\n    return (\n        <div className='suit-img-tile' key='video'>\n            <div className='suit-tile-title'>Suit Display Video</div>\n            <div className='suit-tile-img-wrapper'>\n                <VideoEmbed url={videoUrl}/>\n            </div>\n        </div>\n    );\n}\n\nfunction renderAllSuitImageTiles(suit) {\n    return Object.entries(suit.images)\n        .filter(([imgType, imgUrl]) => !!imgUrl)\n        .map(([imgType, imgUrl]) => {\n            // filter out case where \"promo\" image is just a copy of another img type\n            if(imgType === 'promo' && Object.values(suit.images).slice(1).includes(imgUrl)) {\n                return null;\n            }\n            return renderSuitImageTile(imgType, imgUrl, suit.reflection?.images?.[imgType])\n        });\n}\n\nfunction renderSuitIcons(suit) {\n    return (\n        <div className='suit-detail-icon-container horizontal'>\n            <div className='suit-source full'>{suit.source.subtype ? `${suit.source.type}  ${suit.source.subtype}` : suit.source.type}</div>\n            <img src={`rarity/${suit.rarity.toLowerCase()}.png`} className='suit-icon plain' alt='rarity' />\n            {suit.attribute && <img src={`attribute/${suit.attribute.toLowerCase()}.png`} className='suit-icon' alt='rarity' />}\n        </div>\n    );\n}\n\nexport default function SuitDetailPage() {\n    let [suit, setSuit] = useState(0);\n    let { suitId } = useParams();\n    const suitName = suitId[0].toUpperCase() + suitId.replace(/-/g, ' ').substring(1);\n\n    useEffect(() => {\n        if(!suit) {\n            fetchSuitById(suitId).then(setSuit)\n        }\n    }, [suit, suitName])\n\n    useEffect(() => {\n        fetchSuitById(suitId).then(setSuit)\n    }, [suitId]);\n\n    const getSuitSourceString = () => {\n        let string = (\n            suit.source.subtype\n                ? suit.source.subtype[0].toUpperCase() + suit.source.subtype.substring(1)\n                : suit.source.type\n        );\n\n        const verboseEventTypes = [\n            'Single SSR',\n            'Double SSR',\n            'Single UR',\n            'Double UR'\n        ];\n        if(suit.source.subtype === 'event' && verboseEventTypes.includes(suit.source.event?.type)) {\n            string = `${suit.source.event.type} event`\n        }\n        if(suit.source.subtype === 'collab' && verboseEventTypes.includes(suit.source.event?.type)) {\n            string = `${suit.source.event.type} collab`\n        }\n\n        return string;\n    }\n\n    if(!suit) return null;\n    return (\n        <div>\n            <div className='suit-detail-info-container'>\n                <div className='suit-title-container'>\n                    {renderSuitIcons(suit)}\n                    <div className='suit-detail-header-container'>\n                        <div className='suit-title full'>{`${suit.designer}  ${suit.name}`}</div>\n                    </div>\n                </div>\n                <div className='suit-page-infocard-container'>\n                    <EventDateCard\n                        releases={suit.source?.event?.releases}\n                        eventType={suit.source?.event?.type}\n                        sourceType={suit.source.type}\n                        sourceSubype={suit.source.subtype}\n                    />\n                    <EventCard\n                        event={suit.source?.event}\n                        sourceType={getSuitSourceString()}\n                    />\n                    <ReflectionInfo\n                        iconUrl={suit.reflection.images?.icon}\n                        CoR={suit.reflection?.CoR}\n                        exists={suit.archive !== '(N/A - no reflection)'}\n                        compress={true}\n                    />\n                </div>\n\n            </div>\n\n            <div className='suit-img-tiles-container'>\n                {renderAllSuitImageTiles(suit)}\n                {renderVideoImageTile(suit.video)}\n            </div>\n\n        </div>\n    );\n\n}\n","import { Link } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useState } from 'react';\nimport './Navbar.css';\n\nexport default function Navbar() {\n\n    const { user, isAuthenticated, loginWithRedirect, logout } = useAuth0();\n\n\n// leaving this in (commented) for now, as can repurpose later to browse by nation/attribute\n  // _renderGameLink = (gameID) => {\n  //   return (\n  //     <li>\n  //       <Link id={gameID} to={`/${gameID}`}>{this.props.gamesConfig[gameID].name}</Link>\n  //     </li>\n  //   )\n  // }\n\n  const logoutWithRedirect = () => logout({\n      returnTo: (\n            window.location.origin.includes('localhost')\n          ? window.location.origin\n          : 'https://asukii314.github.io/sn-suit-reference'\n      )\n  });\n\n  const renderWishlistBtn = () => {\n      if(user?.sub) {\n          return (<li><a href={`#/wishlist/${user.sub}`} onClick={() => setMenuOpen(false)}>Wishlist</a></li>)\n      }\n      return (<li><a href='' onClick={() => {loginWithRedirect(); setMenuOpen(false);}}>Wishlist</a></li>)\n  }\n\n  const renderClosetBtn = () => {\n      if(user?.sub) {\n          return (<li><a href={`#/closet/${user.sub}`} onClick={() => setMenuOpen(false)}>Closet</a></li>)\n      }\n      return (<li><a href='' onClick={() => {loginWithRedirect(); setMenuOpen(false);}}>Closet</a></li>)\n  }\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const toggleMenu = () => setMenuOpen(!menuOpen)\n\n    return (\n        <div>\n            {menuOpen && <div className='menu-open-background' onClick={() => setMenuOpen(false)}></div>}\n            <nav role='navigation' className={menuOpen ? 'open' : ''}>\n                <b>\n                    <img className='mobile-hamburger-menu' src='./menu.png' onClick={toggleMenu} />\n                    SN Suit Reference\n                </b>\n                <ul>\n                    <li><a href=\"#/\" onClick={() => setMenuOpen(false)}>All Suits</a></li>\n                    {/*<li><a>Games</a>\n                    <ul>\n                      {Object.keys(this.props.gamesConfig).map(this._renderGameLink)}\n                    </ul>\n                    </li>*/}\n                    {/*renderWishlistBtn()*/}\n                    {/*renderClosetBtn()*/}\n                    <li><a href=\"#/credits\" onClick={() => setMenuOpen(false)}>Credits</a></li>\n                    <li><a href=\"#/contact\" onClick={() => setMenuOpen(false)}>Contact</a></li>\n                    <li><a href=\"#/privacy\" onClick={() => setMenuOpen(false)}>Privacy</a></li>\n                    <li><a href=\"https://ko-fi.com/asukii\" target=\"_blank\" onClick={() => setMenuOpen(false)}>Donate</a></li>\n                    {/*!isAuthenticated && <li><a href='' onClick={() => {loginWithRedirect(); setMenuOpen(false);}}>Log In</a></li>*/}\n                    {/*isAuthenticated && <li><a onClick={() => {logoutWithRedirect(); setMenuOpen(false);}}>Log Out</a></li>*/}\n                </ul>\n            </nav>\n        </div>\n    );\n}\n","export default function ContactPage() {\n  return (\n    <div className=\"infopage\">\n      <h2> Get in touch </h2>\n      <p>\n        I love hearing from people! Please don't hesitate to reach out if you...\n        <ul>\n            <li>Spotted a bug to report</li>\n            <li>Notice any inaccurate or missing suit/reflection info</li>\n            <li>Have a suit, photo, or video you want added to the site</li>\n            <li>Have any feedback or suggestions to share</li>\n            <li>Would like to collaborate with me</li>\n            <li>Or any other reason, really!</li>\n        </ul>\n      </p>\n      <p>\n      Here's a few ways to reach me:\n      <ul>\n      <li><b>Discord:</b> <a className='inline' href=\"https://discord.gg/P4rMqBamYc\">Join the site's Discord Server</a></li>\n      <li><b>Email:</b> <a className='inline' href=\"mailto:asukii314.twitch@gmail.com\">asukii314.twitch@gmail.com</a></li>\n      <li><b>Github:</b> <a className='inline' href=\"https://github.com/asukii314/sn-suit-reference\">Public repo is here</a> - feel free to make a PR!</li>\n      </ul>\n      </p>\n    </div>\n  );\n}\n","export default function CreditsPage() {\n  return (\n    <div className=\"infopage\">\n      <h2> Credits </h2>\n      <p>\n        This site wouldn't have been possible without the massive contributions - both explicit and implicit - from many others in the Shining Nikki community. Here they are:\n        <br />\n        <br />\n        <b>Website UI/UX Design Help</b>\n        <ul>\n            <li>Elisa Lam - <a className='inline' href='https://elisalam.squarespace.com'>website</a></li>\n            <li>Natasha Djie - <a className='inline' href='mailto:natasha.djie@gmail.com'>email</a></li>\n        </ul>\n\n\n        <b>SN Images + Event Info (Official)</b>\n        <ul>\n            <li><a className='inline' href='https://nikki4.com.tw/newslist'>TW Newslist</a></li>\n            <li>Twitter accounts for <a className='inline' href='https://twitter.com/ShiningNikki_JP'>Japan</a> and <a className='inline' href='https://twitter.com/ShiningNikki_SN'>Global</a></li>\n            <li>Facebook accounts for <a className='inline' href='https://www.facebook.com/ShiningNikkiTW/'>Taiwan</a> and <a className='inline' href='https://www.facebook.com/shiningnikki.vietnam'>Vietnam</a></li>\n        </ul>\n\n\n        <b>SN Images (Unofficial)</b>\n        <ul>\n            <li><a className='inline' href='https://lensdump.com/rumi/albums'>Rumi's Lensdump</a> <i>(suit images)</i></li>\n            <li><a className='inline' href='https://lensdump.com/sakushi/albums/'>Saku's Lensdump</a> and <a className='inline' href='https://lensdump.com/a/iKQN9'>CrystalRain's lensdump</a> <i>(full reflection art)</i></li>\n            <li><a className='inline' href='https://lensdump.com/a/W7Tra/sub'>SND Lensdump</a> <i>(reflection icons)</i></li>\n            <li><a className='inline' href='https://twitter.com/rei_sh3'>R E I - Twitter</a></li>\n            <li><a className='inline' href='https://orangecatty-shiningnikki.tumblr.com/'>Orangecatty's Tumblr</a></li>\n        </ul>\n\n\n        <b>Event Info (Unofficial)</b>\n        <ul>\n            <li><a className='inline' href='https://docs.google.com/spreadsheets/d/1OyUo4VS1FKWqOvAdD7c48EgtIOeo8o-c_yOAoUQPTyI/edit#gid=1851570774'>Shining Nikki TN Event Calendar</a> by Jeanne#2998</li>\n            <li><a className='inline' href='https://docs.google.com/spreadsheets/d/1kwS5WTBxfHhDCliR1BTdcTRtKF-dQVSncYcybvCpdB0/edit#gid=326770706'>Shining Nikki JP Calendar</a> and <a className='inline' href='https://rebrand.ly/SNFutureEvents'>Shining Nikki Future Events</a> by noodle oreo#1037</li>\n            <li>#newsflash channels in <a className='inline' href='https://discord.gg/yDJfk5q'>Shining Nikki Discord (SND)</a></li>\n            <li><a className='inline' href='https://orangecatty-shiningnikki.tumblr.com/'>Orangecatty's Tumblr</a></li>\n        </ul>\n\n\n        <b>Suit Metadata</b>\n        <ul>\n            <li><a className='inline' href='https://docs.google.com/spreadsheets/d/12bhpoIReHTVyQjNewiodA4rhL7zUSAhmq4i-5WV5BiU/edit#gid=0'>Suit Archive sheet</a> by luckynozomi#2333</li>\n            <li>Reflection skill data from Kami's <a className='inline' href='https://docs.google.com/spreadsheets/d/1Va9SCIrxni6TUEB1DFxwQK8Vj9mnsCxztsPA9OJja-g/'>Shadow Ranking Sheet</a></li>\n            <li>Metadata for global suits from the <a className='inline' href='https://shining-nikki.fandom.com/wiki/Shining_Nikki_Wiki'>Shining Nikki Wiki</a></li>\n            <li>Misc data gathering help from Pevemoi#1484 and Cyra#7120 on Discord</li>\n        </ul>\n\n\n        <b>Misc/Other</b>\n        <ul>\n            <li>Icons made by <a className='inline' href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" className='inline' title=\"Flaticon\">www.flaticon.com</a></li>\n            <li>Various info from posts on the official <a className='inline' href='https://discord.gg/shiningnikki'>Shining Nikki Discord</a> <i>(in #future-events)</i></li>\n            <li>And of course, <a className='inline' href=\"#/contact\">me (asukii)</a> to pull it all together :)</li>\n        </ul>\n      </p>\n    </div>\n  );\n}\n","export default function PrivacyPolicy() {\n  return (\n    <div className=\"infopage\">\n      <h2>Privacy Policy </h2>\n      <p>By using this <a className='inline' href='#'>Shining Nikki Suit Reference</a> website, you hereby consent to its Privacy Policy and agree to the terms below.</p>\n      <p>If you have any questions or concerns about this policy, please dont hesitate to <a className='inline' href=\"#/contact\">contact me</a> directly.</p>\n\n      <hr />\n      <h3>Information we collect</h3>\n      <p>Shining Nikki Suit Reference does not store any personally identifiable information about its users, anywhere on the site, for any reason. Some anonymized information is collected, as outlined below.</p>\n\n      <b>3rd Party Sign-in</b>\n      <p>If you sign in to Shining Nikki Suit Reference via either Facebook or Discord, the only information stored by the site is an anonymized user ID associated with the 3rd party login method you choose. <u>We do not store your name, email address, or any other such personal information</u>.</p>\n      <p>During the log-in process, you will be redirected to a website associated with the 3rd party login provider you choose. While on those sites, be advised that Shining Nikki Suit Reference's Privacy Policy does not apply to either Discord or Facebook themselves. For more detailed information on how they may use your data, or for instructions on how to opt-out of certain practices, please consult their respective Privacy Policies directly.</p>\n      <p>Once you are logged in, Shining Nikki Suit Reference uses cookies to help keep you logged in. These cookies are cleared when you log out. You may also choose to disable cookies through your browser settings, if you prefer.</p>\n      <p>Sign-in is optional; you are free to use the site without linking a 3rd party account. However, if you want to use the site to build your own custom wishlist/closet, you will need to sign in via either Facebook or Discord, so that the site knows whose wishlist/closet to associate with you.</p>\n\n      <b>Log Files</b>\n      <p>Shining Nikki Suit Reference collects basic, anonymized log files about how the site is used. No personally identifiable information is included in these logs.</p>\n      <p>\nA basic log entry includes only the page url & the date/time it was accessed. For actions that require login  for example, modifying your wishlist, marking a suit as owned/awakened, or logging in/out directly  the type of action is also logged, along with your anonymized user ID.</p>\n    <hr />\n    <h3>GDPR Rights</h3>\n    <p>All users are entitled to the following standard data protection rights:</p>\n    <ul>\n    <li>The right to access  You have the right to request copies of your personal data.</li>\n    <li>The right to rectification  You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.</li>\n    <li>The right to erasure  You have the right to request that that we erase your personal data.</li>\n    <li>The right to restrict processing  You have the right to request that we restrict the processing of your personal data.</li>\n    <li>The right to object to processing  You have the right to object to the processing of your personal data.</li>\n    <li>The right to data portability  You have the right to request that we transfer the data that we have collected to another organization, or directly to you.</li>\n    </ul>\n    <p>If you would like to exercise any of these rights, please email <a className='inline' href=\"mailto:asukii314.twitch@gmail.com\">asukii314.twitch@gmail.com</a>.</p>\n    </div>\n\n  );\n}\n","import SuitDetail from './suitDetail';\nimport SuitCards from './suits';\nimport SuitFilter from './suitFilter';\nimport fetchAllSuits from './fetchSuitInfo';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useParams } from 'react-router-dom';\nimport 'whatwg-fetch';\nimport './suits.css';\n\nexport default function WishlistPage () {\n    let [suits, setSuits] = useState([]);\n    let [favourites, setFavourites] = useState([]);\n    let [ownedSuits, setOwnedSuits] = useState([]);\n    let [awakenedSuits, setAwakenedSuits] = useState([]);\n    let [filteredSuits, setFilteredSuits] = useState([]);\n    let [activeSuit, setActiveSuit] = useState(null);\n    let [sortType, setSortType] = useState('Alphabetical')\n    let [isDescending, setIsDescending] = useState(true);\n    const { user } = useAuth0();\n    const { userid } = useParams();\n    const { isAuthenticated, loginWithRedirect, logout } = useAuth0();\n\n\n    const [width, setWidth] = useState(window.innerWidth);\n    function handleWindowSizeChange() {\n        setWidth(window.innerWidth);\n    }\n    // useEffect(() => {\n    //     window.addEventListener('resize', handleWindowSizeChange);\n    //     return () => {\n    //         window.removeEventListener('resize', handleWindowSizeChange);\n    //     }\n    // }, []);\n    // const isMobile = width <= 768;\n    const isMobile = true;\n    let [filterPaneOpen, setFilterPaneOpen] = useState(!isMobile);\n\n    let fetchedSuits = false;\n    useEffect(() => {\n        if(!suits.length && !fetchedSuits) {\n            fetchedSuits = true;\n            Promise.all([\n                fetchAllSuits(),\n                window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${userid}`)\n                    .then(r => r.json()),\n            ]).then((values) => {\n                const [allSuits, favourites, owned] = values;\n                const faveSuits = allSuits.filter(suit => favourites.includes(suit.id));\n                setSuits(faveSuits);\n                setFilteredSuits(faveSuits);\n                if(user?.sub) {\n                    if(user?.sub === userid) {\n                        Promise.all([\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\n                                .then(r => r.json())\n                                .then(setOwnedSuits),\n                            setFavourites(favourites)\n                        ])\n                    } else {\n                        Promise.all([\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\n                                .then(r => r.json())\n                                .then(setOwnedSuits),\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user?.sub}`)\n                                .then(r => r.json())\n                                .then(setFavourites),\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/awakened/${user.sub}`)\n                                .then(r => r.json())\n                                .then(setAwakenedSuits)\n                        ])\n                    }\n                }\n            })\n        }\n\n        if(suits.length > 0 && ownedSuits.length > 0 && suits[0].owned === undefined) {\n            setSuits(suits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id),\n                    obtained: suit.obtained ?? (ownedSuits.includes(suit.id) ? 'Unawakened' : 'Not Owned')\n                }\n            }));\n            setFilteredSuits(filteredSuits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id),\n                    obtained: suit.obtained ?? (ownedSuits.includes(suit.id) ? 'Unawakened' : 'Not Owned')\n                }\n            }));\n        }\n        if(suits.length > 0 && awakenedSuits.length > 0 && suits[0].awakened === undefined) {\n            setSuits(suits.map(suit => {\n                return {\n                    ...suit,\n                    awakened: awakenedSuits.includes(suit.id),\n                    obtained: awakenedSuits.includes(suit.id) ? 'Awakened' : suit.obtained\n                }\n            }));\n            setFilteredSuits(filteredSuits.map(suit => {\n                return {\n                    ...suit,\n                    awakened: awakenedSuits.includes(suit.id),\n                    obtained: awakenedSuits.includes(suit.id) ? 'Awakened' : suit.obtained\n                }\n            }));\n        }\n    })\n\n    const addFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n\n        if(!suit || !user?.sub) return;\n        setFavourites([...favourites, suit.id])\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes + 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes + 1\n            }\n            setFilteredSuits(copy);\n        }\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const removeFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n        const index = favourites.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...favourites];\n            copy.splice(index, 1)\n            setFavourites(copy);\n        }\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes - 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes - 1\n            }\n            setFilteredSuits(copy);\n        }\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const setOwned = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setOwnedSuits([...ownedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: true,\n            obtained: 'Unawakened'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const addAwakenedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setAwakenedSuits([...awakenedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            awakened: true,\n            obtained: 'Awakened'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/awakened/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const setNotOwned = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n\n        let index = ownedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...ownedSuits];\n            copy.splice(index, 1)\n            setOwnedSuits(copy);\n        }\n\n        index = awakenedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...awakenedSuits];\n            copy.splice(index, 1)\n            setAwakenedSuits(copy);\n        }\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: false,\n            awakened: false,\n            obtained: 'Not Owned'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n\n    const escFunction = useCallback((event) => {\n      if (event.keyCode === 27) {\n        closePane();\n      }\n    }, []);\n    useEffect(() => {\n      document.addEventListener(\"keydown\", escFunction);\n      return () => {\n        document.removeEventListener(\"keydown\", escFunction);\n      };\n    }, [escFunction]);\n\n    const onSuitClick = (suit) => {\n        activeSuit === suit\n            ? closePane()\n            : setActiveSuit(suit);\n    }\n\n    const closePane = () => {\n        setActiveSuit(null);\n    }\n\n    const toggleFilterPane = () => {\n        setFilterPaneOpen(!filterPaneOpen);\n    }\n\n    const nextSuit = ({forward=true}={}) => {\n        if(!activeSuit) return;\n        const curSuitIdx = filteredSuits.map(suit => suit.name).indexOf(activeSuit.name);\n        const newSuitIdx = curSuitIdx + (forward ? 1 : -1);\n        if(newSuitIdx < 0 || newSuitIdx >= filteredSuits.length) return;\n        setActiveSuit(filteredSuits[newSuitIdx]);\n    }\n\n\n        const updateSortType = (newSortType) => {\n            const suitsCopy = [...suits];\n            const filteredSuitsCopy = [...filteredSuits];\n\n            if(newSortType === sortType) {\n                suitsCopy.reverse();\n                setSuits(suitsCopy);\n                filteredSuitsCopy.reverse();\n                setFilteredSuits(filteredSuitsCopy);\n                setIsDescending(!isDescending);\n                return;\n            }\n            setSortType(newSortType);\n            setIsDescending(true);\n            switch(newSortType) {\n                case '# of Likes':\n                    suitsCopy.sort((a, b) => b.likes - a.likes);\n                    setSuits(suitsCopy);\n                    filteredSuitsCopy.sort((a, b) => b.likes - a.likes);\n                    setFilteredSuits(filteredSuitsCopy);\n                    break;\n\n                case 'Alphabetical':\n                    suitsCopy.sort((a, b) => b.name.toUpperCase() < a.name.toUpperCase() ? 1 : -1);\n                    setSuits(suitsCopy);\n                    filteredSuitsCopy.sort((a, b) => b.name.toUpperCase() < a.name.toUpperCase() ? 1 : -1);\n                    setFilteredSuits(filteredSuitsCopy);\n                    break;\n\n                case '1st Release (TW)':\n                    const releaseSortFn = (a, b) => {\n                        const datestr_a = a.source?.event?.releases?.TW?.[0]?.start;\n                        const datestr_b = b.source?.event?.releases?.TW?.[0]?.start;\n                        if(!datestr_a && !datestr_b) return 0;\n                        if(!datestr_a) return 1;\n                        if(!datestr_b) return -1;\n                        return Date.parse(datestr_b) - Date.parse(datestr_a);\n                    }\n                    suitsCopy.sort(releaseSortFn);\n                    setSuits(suitsCopy);\n                    filteredSuitsCopy.sort(releaseSortFn);\n                    setFilteredSuits(filteredSuitsCopy);\n                    break;\n            }\n        }\n\n    if(!suits) return null;\n    return (\n        <div>\n            <SuitFilter\n                suits={suits}\n                updateFilteredSuits={setFilteredSuits}\n                suitCount={filteredSuits.length}\n                expanded={filterPaneOpen}\n                toggleFilterPane={toggleFilterPane}\n                setActiveSuit={onSuitClick}\n                isMobile={isMobile}\n                sortTypes={['Alphabetical', '# of Likes', '1st Release (TW)']}\n                activeSortType={sortType}\n                isDescending={isDescending}\n                setSortType={updateSortType}\n            />\n            <div className='suit-page-main-content'>\n                <SuitDetail\n                    suit={activeSuit}\n                    closePane={closePane}\n                    nextSuit={nextSuit}\n                    isFavourited={favourites.includes(activeSuit?.id) || false}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    isOwned={ownedSuits.includes(activeSuit?.id) || false}\n                    setOwned={setOwned}\n                    isAwakened={awakenedSuits.includes(activeSuit?.id) || false}\n                    setAwakened={addAwakenedSuit}\n                    setNotOwned={setNotOwned}\n                    isMobile={isMobile}\n                />\n                <SuitCards\n                    suits={filteredSuits}\n                    activeSuit={activeSuit}\n                    setActiveSuit={onSuitClick}\n                    nextSuit={nextSuit}\n                    favouriteSuits={favourites}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    ownedSuits={ownedSuits}\n                    awakenedSuits={awakenedSuits}\n                    setOwned={setOwned}\n                    setAwakened={addAwakenedSuit}\n                    setNotOwned={setNotOwned}\n                />\n            </div>\n      </div>\n    );\n}\n","import SuitDetail from './suitDetail';\nimport SuitCards from './suits';\nimport SuitFilter from './suitFilter';\nimport fetchAllSuits from './fetchSuitInfo';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useParams } from 'react-router-dom';\nimport 'whatwg-fetch';\nimport './suits.css';\n\nexport default function WishlistPage () {\n    let [suits, setSuits] = useState([]);\n    let [favourites, setFavourites] = useState([]);\n    let [ownedSuits, setOwnedSuits] = useState([]);\n    let [awakenedSuits, setAwakenedSuits] = useState([]);\n    let [filteredSuits, setFilteredSuits] = useState([]);\n    let [activeSuit, setActiveSuit] = useState(null);\n    let [sortType, setSortType] = useState('Alphabetical')\n    let [isDescending, setIsDescending] = useState(true);\n    const { user } = useAuth0();\n    const { userid } = useParams();\n    const { isAuthenticated, loginWithRedirect, logout } = useAuth0();\n\n    const [width, setWidth] = useState(window.innerWidth);\n    function handleWindowSizeChange() {\n        setWidth(window.innerWidth);\n    }\n    // useEffect(() => {\n    //     window.addEventListener('resize', handleWindowSizeChange);\n    //     return () => {\n    //         window.removeEventListener('resize', handleWindowSizeChange);\n    //     }\n    // }, []);\n    // const isMobile = width <= 768;\n    const isMobile = true;\n    let [filterPaneOpen, setFilterPaneOpen] = useState(!isMobile);\n\n    useEffect(() => {\n        if(!suits.length) {\n            Promise.all([\n                fetchAllSuits(),\n                window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${userid}`)\n                    .then(r => r.json())\n            ]).then((values) => {\n                const [allSuits, owned] = values;\n                const closet = allSuits.filter(suit => owned.includes(suit.id));\n                setSuits(closet);\n                setFilteredSuits(closet);\n\n                if(user?.sub) {\n                    if(user?.sub === userid) {\n                        Promise.all([\n                            setOwnedSuits(owned),\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user?.sub}`)\n                                .then(r => r.json())\n                                .then(setFavourites)\n                        ])\n                    } else {\n                        Promise.all([\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\n                                .then(r => r.json())\n                                .then(setOwnedSuits),\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user?.sub}`)\n                                .then(r => r.json())\n                                .then(setFavourites),\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/awakened/${user.sub}`)\n                                .then(r => r.json())\n                                .then(res => setAwakenedSuits(res))\n                                .then(() => console.log(\"ASDASD\", awakenedSuits))\n                        ])\n                    }\n                }\n            })\n        }\n\n        if(suits.length > 0 && ownedSuits.length > 0 && suits[0].owned === undefined) {\n            setSuits(suits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id),\n                    obtained: suit.obtained ?? (ownedSuits.includes(suit.id) ? 'Unawakened' : 'Not Owned')\n                }\n            }));\n            setFilteredSuits(filteredSuits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id),\n                    obtained: suit.obtained ?? (ownedSuits.includes(suit.id) ? 'Unawakened' : 'Not Owned')\n                }\n            }));\n        }\n        if(suits.length > 0 && awakenedSuits.length > 0 && suits[0].awakened === undefined) {\n            setSuits(suits.map(suit => {\n                return {\n                    ...suit,\n                    awakened: awakenedSuits.includes(suit.id),\n                    obtained: awakenedSuits.includes(suit.id) ? 'Awakened' : suit.obtained\n                }\n            }));\n            setFilteredSuits(filteredSuits.map(suit => {\n                return {\n                    ...suit,\n                    awakened: awakenedSuits.includes(suit.id),\n                    obtained: awakenedSuits.includes(suit.id) ? 'Awakened' : suit.obtained\n                }\n            }));\n        }\n    })\n\n    const addFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n\n        if(!suit || !user?.sub) return;\n        setFavourites([...favourites, suit.id])\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes + 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes + 1\n            }\n            setFilteredSuits(copy);\n        }\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const removeFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n        const index = favourites.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...favourites];\n            copy.splice(index, 1)\n            setFavourites(copy);\n        }\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes - 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes - 1\n            }\n            setFilteredSuits(copy);\n        }\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const setOwned = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setOwnedSuits([...ownedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: true,\n            obtained: 'Unawakened'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const setNotOwned = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n\n        let index = ownedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...ownedSuits];\n            copy.splice(index, 1)\n            setOwnedSuits(copy);\n        }\n\n        index = awakenedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...awakenedSuits];\n            copy.splice(index, 1)\n            setAwakenedSuits(copy);\n        }\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: false,\n            awakened: false,\n            obtained: 'Not Owned'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n\n    const escFunction = useCallback((event) => {\n      if (event.keyCode === 27) {\n        closePane();\n      }\n    }, []);\n    useEffect(() => {\n      document.addEventListener(\"keydown\", escFunction);\n      return () => {\n        document.removeEventListener(\"keydown\", escFunction);\n      };\n    }, [escFunction]);\n\n    const onSuitClick = (suit) => {\n        activeSuit === suit\n            ? closePane()\n            : setActiveSuit(suit);\n    }\n\n    const closePane = () => {\n        setActiveSuit(null);\n    }\n\n    const toggleFilterPane = () => {\n        setFilterPaneOpen(!filterPaneOpen);\n    }\n\n    const addAwakenedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setAwakenedSuits([...awakenedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            awakened: true,\n            obtained: 'Awakened'\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/awakened/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const nextSuit = ({forward=true}={}) => {\n        if(!activeSuit) return;\n        const curSuitIdx = filteredSuits.map(suit => suit.name).indexOf(activeSuit.name);\n        const newSuitIdx = curSuitIdx + (forward ? 1 : -1);\n        if(newSuitIdx < 0 || newSuitIdx >= filteredSuits.length) return;\n        setActiveSuit(filteredSuits[newSuitIdx]);\n    }\n\n\n            const updateSortType = (newSortType) => {\n                const suitsCopy = [...suits];\n                const filteredSuitsCopy = [...filteredSuits];\n\n                if(newSortType === sortType) {\n                    suitsCopy.reverse();\n                    setSuits(suitsCopy);\n                    filteredSuitsCopy.reverse();\n                    setFilteredSuits(filteredSuitsCopy);\n                    setIsDescending(!isDescending);\n                    return;\n                }\n                setSortType(newSortType);\n                setIsDescending(true);\n                switch(newSortType) {\n                    case '# of Likes':\n                        suitsCopy.sort((a, b) => b.likes - a.likes);\n                        setSuits(suitsCopy);\n                        filteredSuitsCopy.sort((a, b) => b.likes - a.likes);\n                        setFilteredSuits(filteredSuitsCopy);\n                        break;\n\n                    case 'Alphabetical':\n                        suitsCopy.sort((a, b) => b.name.toUpperCase() < a.name.toUpperCase() ? 1 : -1);\n                        setSuits(suitsCopy);\n                        filteredSuitsCopy.sort((a, b) => b.name.toUpperCase() < a.name.toUpperCase() ? 1 : -1);\n                        setFilteredSuits(filteredSuitsCopy);\n                        break;\n\n                    case '1st Release (TW)':\n                        const releaseSortFn = (a, b) => {\n                            const datestr_a = a.source?.event?.releases?.TW?.[0]?.start;\n                            const datestr_b = b.source?.event?.releases?.TW?.[0]?.start;\n                            if(!datestr_a && !datestr_b) return 0;\n                            if(!datestr_a) return 1;\n                            if(!datestr_b) return -1;\n                            return Date.parse(datestr_b) - Date.parse(datestr_a);\n                        }\n                        suitsCopy.sort(releaseSortFn);\n                        setSuits(suitsCopy);\n                        filteredSuitsCopy.sort(releaseSortFn);\n                        setFilteredSuits(filteredSuitsCopy);\n                        break;\n                }\n            }\n\n    if(!suits) return null;\n    return (\n        <div>\n            <SuitFilter\n                suits={suits}\n                updateFilteredSuits={setFilteredSuits}\n                suitCount={filteredSuits.length}\n                expanded={filterPaneOpen}\n                toggleFilterPane={toggleFilterPane}\n                setActiveSuit={onSuitClick}\n                isMobile={isMobile}\n                sortTypes={['Alphabetical', '# of Likes', '1st Release (TW)']}\n                activeSortType={sortType}\n                isDescending={isDescending}\n                setSortType={updateSortType}\n            />\n            <div className='suit-page-main-content'>\n                <SuitDetail\n                    suit={activeSuit}\n                    closePane={closePane}\n                    nextSuit={nextSuit}\n                    isFavourited={favourites.includes(activeSuit?.id) || false}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    isOwned={ownedSuits.includes(activeSuit?.id) || false}\n                    setOwned={setOwned}\n                    isAwakened={awakenedSuits.includes(activeSuit?.id) || false}\n                    setAwakened={addAwakenedSuit}\n                    setNotOwned={setNotOwned}\n                    isMobile={isMobile}\n                />\n                <SuitCards\n                    suits={filteredSuits}\n                    activeSuit={activeSuit}\n                    setActiveSuit={onSuitClick}\n                    nextSuit={nextSuit}\n                    favouriteSuits={favourites}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    ownedSuits={ownedSuits}\n                    setOwned={setOwned}\n                    setNotOwned={setNotOwned}\n                    awakenedSuits={awakenedSuits}\n                    setAwakened={addAwakenedSuit}\n                />\n            </div>\n      </div>\n    );\n}\n","import './App.css';\nimport SuitPage from './suitPage';\nimport SuitDetailPage from './SuitDetailPage';\nimport {Routes} from \"react-router\";\nimport {HashRouter as Router, Route} from \"react-router-dom\";\nimport {Auth0Provider} from \"@auth0/auth0-react\";\nimport Navbar from './Navbar';\nimport ContactPage from './ContactPage';\nimport CreditsPage from './CreditsPage';\nimport PrivacyPolicy from './PrivacyPolicy';\nimport Wishlist from './Wishlist';\nimport Closet from './Closet';\n\nfunction App() {\n\n    // hack around a bug in the facebook login redirect handler\n    if (window.location.hash && window.location.hash === '#_=_') {\n        window.location.hash = '';\n    }\n\n  return (\n      <Auth0Provider\n        domain='dev-semwqhjw.us.auth0.com'\n        clientId='96kzE3AqjHdAz8fzOJvTuENJO7AQj0wb'\n        redirectUri={window.location.origin.includes('localhost') ? window.location.origin : 'https://asukii314.github.io/sn-suit-reference' }\n      >\n        <Router>\n            <div className=\"App\">\n                <header className=\"App-header\">\n                <Navbar />\n                <img className='hack' src='./menu.png' />\n                    <Routes>\n                        <Route exact path=\"/\" element={<SuitPage />} />\n                        <Route path=\":suitId\" element={<SuitDetailPage />} />\n                        <Route path=\"/credits\" element={<CreditsPage />} />\n                        <Route path=\"/contact\" element={<ContactPage />} />\n                        <Route path=\"/privacy\" element={<PrivacyPolicy />} />\n                        <Route path=\"/wishlist/:userid\" element={<Wishlist />} />\n                        <Route path=\"/closet/:userid\" element={<Closet />} />\n                    </Routes>\n                </header>\n            </div>\n        </Router>\n    </Auth0Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}