(this["webpackJsonpsn-suit-reference"]=this["webpackJsonpsn-suit-reference"]||[]).push([[0],{24:function(e,t,i){},41:function(e,t,i){},42:function(e,t,i){},43:function(e,t,i){},45:function(e,t,i){},46:function(e,t,i){},48:function(e,t,i){},50:function(e,t,i){},51:function(e,t,i){},68:function(e,t,i){},69:function(e,t,i){},70:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),c=i(31),a=i.n(c),r=(i(41),i(42),i(2)),l=i(7),o=i(4),u=i(5),d=i(6),j=i(12),h=i(9),b=i(8),p=(i(43),i(0)),f=function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).toggleZoom=function(){s.setState({zoomed:!s.state.zoomed})},s.state={zoomed:!1},s}return Object(d.a)(i,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"zoomable-img-wrapper",children:[Object(p.jsx)("div",{className:this.state.zoomed?"dark-background":"",onClick:this.toggleZoom}),Object(p.jsx)("img",{className:"".concat(this.props.className," zoomed-out"),src:this.props.src,alt:this.props.alt,onClick:this.toggleZoom}),this.state.zoomed&&Object(p.jsx)("img",{className:"".concat(this.props.className," zoomed-in"),src:this.props.src,alt:this.props.alt,onClick:this.toggleZoom})]})}}]),i}(s.Component),v=(i(45),function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).decrement=function(){s.state.level>1&&s.setState({level:s.state.level-1})},s.increment=function(){s.state.level<5&&s.setState({level:s.state.level+1})},s.state={level:1},s}return Object(d.a)(i,[{key:"render",value:function(){var e;return(null===(e=this.props.iconUrl)||void 0===e?void 0:e.length)?Object(p.jsxs)("div",{className:"reflection-info-card",children:[Object(p.jsxs)("div",{className:"reflection-card-column",children:[Object(p.jsx)("div",{className:"CoR-title",children:"Skill Info"}),Object(p.jsx)("img",{className:"reflection-icon",src:this.props.iconUrl,alt:"reflection-icon"})]}),Object(p.jsxs)("div",{className:"reflection-card-column",children:[Object(p.jsxs)("div",{className:"level-input",children:[Object(p.jsx)("button",{className:"CoR-level-change",onClick:this.decrement,children:"-"}),Object(p.jsx)("div",{className:"CoR-level",children:"Lvl ".concat(this.state.level)}),Object(p.jsx)("button",{className:"CoR-level-change",onClick:this.increment,children:"+"})]}),Object(p.jsx)("div",{className:"CoR-description",dangerouslySetInnerHTML:{__html:this.props.CoR[this.state.level]}})]})]}):Object(p.jsx)("div",{className:"reflection-info-card",children:Object(p.jsxs)("div",{className:"reflection-card-column",children:[Object(p.jsx)("div",{className:"CoR-title",children:"Skill Info"}),Object(p.jsx)("div",{className:"CoR-description",style:{marginTop:"5px",color:"darkgray"},children:Object(p.jsx)("i",{children:"(no skill info found)"})})]})})}}]),i}(s.Component)),m=function(e){var t=e.url,i=e.autoplay,s=void 0!==i&&i;if(!t)return null;var n=t.includes("youtu")?"https://www.youtube.com/embed/".concat(t.slice(t.length-11)):t;return s?Object(p.jsx)("div",{className:"video-responsive",children:Object(p.jsx)("iframe",{width:"100%",height:"100%",src:n,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",autoplay:!0,allowFullScreen:!0,title:"YouTube video player"})}):Object(p.jsx)("div",{className:"video-responsive",children:Object(p.jsx)("iframe",{width:"100%",height:"100%",src:n,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube video player"})})};i(46);function O(e){return Object(p.jsx)("li",{className:"suit-link",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("a",{className:"inline",href:e.detailPageUrl,children:e.name})," - ",e.rarity," ",e.type]})})}function g(e){var t,i=e.event,s=(null===(t=i.suits)||void 0===t?void 0:t.length)?Object(l.a)(i.suits):[];return s.sort((function(e,t){return e.rarity===t.rarity?0:e.rarity<t.rarity?1:-1})),Object(p.jsxs)("div",{className:"event-card-container",children:[Object(p.jsxs)("div",{className:"event-title",children:["Source: ",i.name]}),Object(p.jsx)("div",{className:"event-subtitle",children:i.type}),Object(p.jsx)("ul",{children:s.map(O)})]})}var x=i(16),N=i.n(x),y=(i(48),function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).updateImgType=function(e){s.setState({imgType:e})},s.renderSuitImageButton=function(e){var t="suit-detail-type-button"+(e===s.state.imgType?" selected":"");return Object(p.jsx)("button",{className:t,onClick:s.updateImgType.bind(Object(j.a)(s),e),children:e[0].toUpperCase()+e.substring(1)},e)},s.renderSuitImageButtons=function(){return Object(p.jsxs)("div",{className:"suit-image-buttons-container",children:[Object.entries(s.props.suit.images).filter((function(e){var t=Object(o.a)(e,2);t[0];return!!t[1]})).map((function(e){var t=Object(o.a)(e,2),i=t[0];t[1];return s.renderSuitImageButton(i)})),s.props.suit.video&&s.renderSuitImageButton("video")]})},s.renderSuitSubtitle=function(){return Object(p.jsx)("div",{className:"suit-subtitle-container",children:s.props.suit.source.subtype?"".concat(s.props.suit.source.type," \xb7 ").concat(s.props.suit.source.subtype):s.props.suit.source.type})},s.renderSuitImages=function(e){return Object(p.jsxs)("div",{className:"suit-detail-left-column",children:[Object(p.jsxs)("div",{className:"suit-detail-img-container",children:["video"===s.state.imgType&&Object(p.jsx)(m,{url:s.props.suit.video,autoplay:!0}),"video"!==s.state.imgType&&Object(p.jsx)(f,{className:"suit-detail-img",src:s.props.suit.images[s.state.imgType],alt:s.state.imgType}),e&&Object(p.jsx)(f,{className:"suit-detail-img",src:e,alt:"reflection"})]}),Object(p.jsxs)("div",{className:"favourite-icon-container detail",children:[Object(p.jsxs)("div",{className:"suit-attribute-icons",children:[Object(p.jsx)("img",{src:"rarity/".concat(s.props.suit.rarity.toLowerCase(),".png"),className:"suit-icon detail",alt:"rarity"}),Object(p.jsx)("div",{className:"suit-attribute-label",children:s.props.suit.rarity}),s.props.suit.attribute&&Object(p.jsx)("img",{src:"attribute/".concat(s.props.suit.attribute.toLowerCase(),".png"),className:"suit-icon detail",alt:"rarity"}),s.props.suit.attribute&&Object(p.jsx)("div",{className:"suit-attribute-label",children:s.props.suit.attribute})]}),Object(p.jsxs)("div",{className:"suit-likes-container",children:[Object(p.jsx)("div",{className:"suit-attribute-label favourites",children:s.props.suit.likes}),!s.props.isFavourited&&Object(p.jsx)("img",{src:"heart_outline.png",className:"heart-icon detail unfavourited",alt:"favourite",onClick:function(){return s.props.favourite(s.props.suit)}}),s.props.isFavourited&&Object(p.jsx)("img",{src:"heart_red.png",className:"heart-icon detail favourited",alt:"unfavourite",onClick:function(){return s.props.unfavourite(s.props.suit)}})]})]})]})},s.state={imgType:"promo"},N.a.config({left:function(){return s.props.nextSuit({forward:!1})},right:function(){return s.props.nextSuit({forward:!0})}}),s}return Object(d.a)(i,[{key:"componentDidUpdate",value:function(){this.props.suit&&("video"===this.state.imgType&&!this.props.suit.video||"video"!==this.state.imgType&&!this.props.suit.images[this.state.imgType])&&this.setState({imgType:"promo"})}},{key:"render",value:function(){if(this.props.suit){var e,t,i,s,n,c=null===(e=this.props.suit.reflection)||void 0===e||null===(t=e.images)||void 0===t?void 0:t[this.state.imgType];return Object(p.jsxs)("div",Object(r.a)(Object(r.a)({className:"suit-detail-container"},N.a.events),{},{tabIndex:"1",children:[Object(p.jsx)("button",{className:"suit-detail-close-button",onClick:this.props.closePane,children:"\u274c"}),this.renderSuitImages(c),Object(p.jsxs)("div",{className:"suit-title-block",children:[Object(p.jsx)("div",{className:"suit-title",children:"".concat(this.props.suit.designer," \xb7 ").concat("awakened"===this.state.imgType&&""!==this.props.suit.awakenedName?this.props.suit.awakenedName:this.props.suit.name)}),this.renderSuitSubtitle(),this.renderSuitImageButtons(),Object(p.jsxs)("div",{className:"suit-detail-infocard-container",children:[Object(p.jsx)(g,{event:null===(i=this.props.suit.source)||void 0===i?void 0:i.event}),"(N/A - no reflection)"!==this.props.suit.archive&&Object(p.jsx)(v,{iconUrl:null===(s=this.props.suit.reflection.images)||void 0===s?void 0:s.icon,CoR:null===(n=this.props.suit.reflection)||void 0===n?void 0:n.CoR})]})]})]}))}return null}}]),i}(s.Component)),k=(i(20),i(24),i(25)),w=i.n(k),S=function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).onClick=function(e){s.props.setActiveSuit(e)},s.renderSuitCard=function(e,t){return Object(p.jsxs)("div",Object(r.a)(Object(r.a)(Object(r.a)({className:"suit-card".concat(e===s.props.activeSuit?" active":""),onClick:s.onClick.bind(Object(j.a)(s),e)},N.a.events),{},{tabIndex:"1"},w.a.events),{},{children:[Object(p.jsx)("div",{className:"suit-icon-container",children:Object(p.jsxs)("div",{className:"favourite-icon-container",children:[!s.props.favouriteSuits.includes(e.id)&&Object(p.jsx)("img",{src:"heart_black.png",className:"heart-icon unfavourited suit-icon shadowed",alt:"favourite",onClick:function(t){return s.props.favourite(e,t)}}),s.props.favouriteSuits.includes(e.id)&&Object(p.jsx)("img",{src:"heart_red.png",className:"heart-icon favourited suit-icon shadowed",alt:"unfavourite",onClick:function(t){return s.props.unfavourite(e,t)}}),Object(p.jsx)("img",{src:"rarity/".concat(e.rarity.toLowerCase(),".png"),className:"suit-icon shadowed",alt:"rarity"}),e.attribute&&Object(p.jsx)("img",{src:"attribute/".concat(e.attribute.toLowerCase(),".png"),className:"suit-icon",alt:"rarity"})]})}),Object(p.jsx)("img",{src:e.images.promo,className:"suit-img",alt:e.name}),Object(p.jsxs)("p",{className:"suit-name",children:[" ",e.name," "]})]}),t)},s.setActiveSuit=function(e){s.props.setActiveSuit(e)},s.state={},N.a.config({left:function(){return s.props.nextSuit({forward:!1})},right:function(){return s.props.nextSuit({forward:!0})}}),w.a.config({left:function(){return s.props.nextSuit({forward:!1})},right:function(){return s.props.nextSuit({forward:!0})}}),s}return Object(d.a)(i,[{key:"render",value:function(){return this.props.suits?Object(p.jsx)("div",{className:"suit-cards-container".concat(this.props.suits.length?" loaded":""),children:this.props.suits.map(this.renderSuitCard)}):null}}]),i}(s.Component),C=i(11),F=i(22),L=(i(50),i(51),function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).toggleExpand=function(){s.setState({expanded:!s.state.expanded})},s.toggleCheckbox=function(e,t,i){s.props.onChange(s.props.category,s.props.category===t?null:t,e,i.target.checked)},s.showChildren=function(e){var t;return(null===(t=s.props.subcategories)||void 0===t?void 0:t[e])&&s.props.checked[e]?Object(p.jsx)("div",{className:"child-option-container",children:s.showOptions(Object.keys(s.props.subcategories[e]),s.props.subcategories[e],e)}):null},s.showOptions=function(e,t,i){return e.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"filter-option",children:[Object(p.jsx)("input",{type:"checkbox",checked:t[e],onChange:s.toggleCheckbox.bind(Object(j.a)(s),e,i)},"".concat(e,"-checkbox")),s.props.hasIcons&&Object(p.jsx)("img",{className:"filter-icon",alt:"".concat(e,"-icon"),src:"".concat(s.props.category.toLowerCase(),"/").concat(e.toLowerCase(),".png")},"".concat(e,"-icon")),Object(p.jsx)("div",{className:"filter-label",children:e},"".concat(e,"-label"))]},"".concat(e,"-container")),s.showChildren(e)]},"".concat(e,"-wrapper"))}))},s.showAllOptions=function(){return s.showOptions(Object.keys(s.props.checked),s.props.checked,s.props.category)},s.state={expanded:!0},s}return Object(d.a)(i,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"filter-box-container",children:[Object(p.jsxs)("div",{className:"filter-box-title",onClick:this.toggleExpand,children:[Object(p.jsx)("div",{children:this.props.category}),Object(p.jsx)("div",{style:{fontWeight:"normal",fontSize:"10px"},children:this.state.expanded?"\u2227":"\u2228"})]}),this.state.expanded&&Object(p.jsx)("div",{className:"filter-option-container",children:this.showAllOptions()})]})}}]),i}(s.Component)),R=i(32),A=function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).getNestedValue=function(e,t){var i,s=e,n=Object(F.a)(t);try{for(n.s();!(i=n.n()).done;){var c,a=i.value;s=null===(c=s)||void 0===c?void 0:c[a]}}catch(r){n.e(r)}finally{n.f()}return s},s.updateFilter=function(e,t,i,n){return null===t?s.setState({filters:Object(r.a)(Object(r.a)({},s.state.filters),{},Object(C.a)({},e,Object(r.a)(Object(r.a)({},s.state.filters[e]),{},Object(C.a)({},i,n))))},s.filterSuits):s.setState({childFilters:Object(r.a)(Object(r.a)({},s.state.childFilters),{},Object(C.a)({},e,Object(r.a)(Object(r.a)({},s.state.childFilters[e]),{},Object(C.a)({},t,Object(r.a)(Object(r.a)({},s.state.childFilters[e][t]),{},Object(C.a)({},i,n))))))},s.filterSuits)},s.filterSuits=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerUpdate,i=void 0===t||t,n=Object.keys(s.state.filters).filter((function(e){return Object.values(s.state.filters[e]).some((function(e){return!!e}))})),c=s.props.suits.filter((function(e){return!(s.state.searchByNameResults&&!s.state.searchByNameResults.map((function(e){return e.name})).includes(e.name)||s.state.searchByDesignerResults&&!s.state.searchByDesignerResults.map((function(e){return e.name})).includes(e.name))})),a=n.reduce((function(e,t){var i=Object.keys(s.state.filters[t]).filter((function(e){return s.state.filters[t][e]})).map((function(e){return e.toLowerCase()}));return e.filter((function(e){var n=s.getNestedValue(e,s.metadata[t].paths).toLowerCase();if(!i.includes(n))return!1;if(s.state.childFilters[t]){for(var c=[],a=[],r=function(){var e=o[l],i=Object.keys(s.state.childFilters[t][e]).filter((function(i){return s.state.childFilters[t][e][i]})).map((function(e){return e.toLowerCase()}));i.length>0&&(c=c.concat(i),a.push(e.toLowerCase()))},l=0,o=Object.keys(s.state.childFilters[t]);l<o.length;l++)r();if(c.length>0&&a.includes(n)){var u,d=null===(u=s.getNestedValue(e,s.metadata[t].childPaths))||void 0===u?void 0:u.toLowerCase();if(!c.includes(d))return!1}}return!0}))}),c);return i&&s.props.updateFilteredSuits(a),a},s.renderFilters=function(){return Object.keys(s.state.filters).map((function(e){return Object(p.jsx)(L,{category:e,checked:s.state.filters[e],subcategories:s.state.childFilters[e],onChange:s.updateFilter,hasIcons:s.metadata[e].hasIcons},e)}))},s.handleSearch=function(e,t){s.setState({searchByNameResults:t},s.props.updateFilteredSuits(t))},s.handleClear=function(){s.setState({searchByNameResults:null},s.filterSuits)},s.handleSelect=function(e){s.handleSearch([e]),s.props.setActiveSuit(e)},s.handleDesignerSearch=function(e,t){var i=t.map((function(e){return e.name})),n=s.filterSuits({triggerUpdate:!1}).filter((function(e){return i.includes(e.designer)}));s.setState({searchByDesignerResults:n},(function(){return s.props.updateFilteredSuits(n)}))},s.handleDesignerSelect=function(e){s.handleDesignerSearch(null,[e])},s.handleDesignerClear=function(){s.setState({searchByDesignerResults:null},s.filterSuits)},s.renderSearchBars=function(){var e=s.props.suits.map((function(e){return e.designer})).filter((function(e,t,i){return i.indexOf(e)===t})).filter((function(e){return e.length>0})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{name:e}}));return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"search-bar-wrapper",children:Object(p.jsx)(R.ReactSearchAutocomplete,{items:e,placeholder:"Search by designer",onSearch:s.handleDesignerSearch,onSelect:s.handleDesignerSelect,onClear:s.handleDesignerClear,styling:{fontSize:"11px",height:"30px",searchIconMargin:"0px 0px 0px 8px"},useCaching:!1})})})},s.state={searchByNameResults:null,searchByDesignerResults:null,filters:{Rarity:{SR:!1,SSR:!1,UR:!1},Attribute:{Cool:!1,Elegant:!1,Fresh:!1,Sexy:!1,Sweet:!1},Source:{Pavillion:!1,Crafting:!1,Free:!1,Paid:!1,"Other event type":!1},Nation:{Apple:!1,Cloud:!1,Ninir:!1,North:!1,Pigeon:!1,Ruin:!1,Wasteland:!1}},childFilters:{Source:{Pavillion:{Permanent:!1,Rotational:!1,Event:!1,Collab:!1},Crafting:{Lifetime:!1,"Chapter suit":!1,"Mind maze":!1,"Memory stairway":!1,Other:!1},Free:{Arena:!1,"Pinnacle battle":!1,"Styling competition":!1,"Intel hub":!1,Welfare:!1,Other:!1},Paid:{Recharge:!1,"VIP level":!1,"Fashion plan":!1,"Purple diamonds":!1}}}},s.metadata={Rarity:{paths:["rarity"],hasIcons:!0},Attribute:{paths:["attribute"],hasIcons:!0},Source:{paths:["source","type"],hasIcons:!1,childPaths:["source","subtype"]},Nation:{paths:["nation"],hasIcons:!0}},s}return Object(d.a)(i,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"suit-filter-container",children:[Object(p.jsxs)("div",{className:"toggle-filter-btn",onClick:this.props.toggleFilterPane,children:[Object(p.jsx)("img",{className:"toggle-filter-icon",alt:"toggle-filter-view",title:this.props.expanded?"Close filter pane":"Open filter pane",src:this.props.expanded?"collapse-icon.png":"filter-icon.png"}),Object(p.jsx)("div",{className:"toggle-filter-label".concat(this.props.expanded?" hidden":""),children:"Show Filters"})]}),Object(p.jsxs)("div",{className:this.props.expanded?"":"hidden",children:[Object(p.jsx)("div",{className:"filter-title",children:"Filters"}),this.renderSearchBars(),this.renderFilters()]})]})}}]),i}(s.Component),T=window.fetch("https://sheets.googleapis.com/v4/spreadsheets/1XkJ4QD8pzoOwL97lFtTSAv2fOb3DikNQYDNkXn6LL9Y/values/Reflections?key=AIzaSyBXC3NZmF3G0LK50YSS4EY4yxb3W7AJa80").then((function(e){return e.json()})).then((function(e){for(var t={},i=1;i<e.values.length;i++){var s,n,c,a,r,l,o,u,d,j,h,b,p,f,v,m,O,g=null===(s=e.values[i][9])||void 0===s?void 0:s.split("\n"),x=null===(n=e.values[i][10])||void 0===n?void 0:n.split("\n");t[e.values[i][1]]={tier:e.values[i][2],images:{icon:e.values[i][3],original:e.values[i][4],awakened:e.values[i][5]},CoR:[null,null===(c=e.values[i][7])||void 0===c||null===(a=c.replace("A%",'<b style="color:#d1668f">'.concat(g[0],"</b>")))||void 0===a||null===(r=a.replace("B%",'<b style="color:#d1668f">'.concat(x[0],"</b>")))||void 0===r?void 0:r.replace("\n\n"," \xb7 "),null===(l=e.values[i][7])||void 0===l||null===(o=l.replace("A%",'<b style="color:#d1668f">'.concat(g[1],"</b>")))||void 0===o||null===(u=o.replace("B%",'<b style="color:#d1668f">'.concat(x[1],"</b>")))||void 0===u?void 0:u.replace("\n\n"," \xb7 "),null===(d=e.values[i][7])||void 0===d||null===(j=d.replace("A%",'<b style="color:#d1668f">'.concat(g[2],"</b>")))||void 0===j||null===(h=j.replace("B%",'<b style="color:#d1668f">'.concat(x[2],"</b>")))||void 0===h?void 0:h.replace("\n\n"," \xb7 "),null===(b=e.values[i][7])||void 0===b||null===(p=b.replace("A%",'<b style="color:#d1668f">'.concat(g[3],"</b>")))||void 0===p||null===(f=p.replace("B%",'<b style="color:#d1668f">'.concat(x[3],"</b>")))||void 0===f?void 0:f.replace("\n\n"," \xb7 "),null===(v=e.values[i][7])||void 0===v||null===(m=v.replace("A%",'<b style="color:#d1668f">'.concat(g[4],"</b>")))||void 0===m||null===(O=m.replace("B%",'<b style="color:#d1668f">'.concat(x[4],"</b>")))||void 0===O?void 0:O.replace("\n\n"," \xb7 ")]}}return t})),I=window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites").then((function(e){return e.json()})).then((function(e){for(var t={},i=1;i<e.length;i++)t[e[i].suitid]=parseInt(e[i].num);return t}));function P(e,t){return e||t?{start:e,end:t}:null}function D(e,t,i,s){return[P(e,t),P(i,s)].filter((function(e){return null!==e}))}var E=window.fetch("https://sheets.googleapis.com/v4/spreadsheets/1XkJ4QD8pzoOwL97lFtTSAv2fOb3DikNQYDNkXn6LL9Y/values/Events?key=AIzaSyBXC3NZmF3G0LK50YSS4EY4yxb3W7AJa80").then((function(e){return e.json()})).then((function(e){for(var t={},i=1;i<e.values.length;i++)t[e.values[i][0]]={name:e.values[i][0],nickname:e.values[i][1],type:e.values[i][2],releases:{TW:D(e.values[i][3],e.values[i][4],e.values[i][5],e.values[i][6]),JP:D(e.values[i][7],e.values[i][8],e.values[i][9],e.values[i][10]),EN:D(e.values[i][11],e.values[i][12],e.values[i][13],e.values[i][14])},suits:[]};return t}));function B(){return Promise.all([T,I,E]).then((function(e){var t=Object(o.a)(e,3),i=t[0],s=t[1],n=t[2];return window.fetch("https://sheets.googleapis.com/v4/spreadsheets/1XkJ4QD8pzoOwL97lFtTSAv2fOb3DikNQYDNkXn6LL9Y/values/Suits?key=AIzaSyBXC3NZmF3G0LK50YSS4EY4yxb3W7AJa80").then((function(e){return e.json()})).then((function(e){for(var t=[],c=1;c<e.values.length;c++){var a=e.values[c][0].replace(/ /g,"-").toLowerCase();t.push({name:e.values[c][0],id:e.values[c][0].replace(/ /g,"-").toLowerCase(),awakenedName:e.values[c][1],reflection:Object(r.a)({name:e.values[c][5]},i[e.values[c][0]]),detailPageUrl:"https://asukii314.github.io/sn-suit-reference/#/".concat(a),likes:s[a]||0,designer:e.values[c][5],rarity:e.values[c][2],attribute:e.values[c][3],nation:e.values[c][4],archive:e.values[c][6],images:{promo:e.values[c][11],detail:e.values[c][12],original:e.values[c][13],awakened:e.values[c][14],"idea lab":e.values[c][15]},video:e.values[c][16],source:{type:e.values[c][7].split(" - ")[0],subtype:e.values[c][7].split(" - ")[1],eventName:e.values[c][8],event:Object(r.a)({name:e.values[c][8]},n[e.values[c][8]])},availability:{TW:!0,JP:"TRUE"===e.values[c][9],EN:"TRUE"===e.values[c][10]}})}for(var l=function(e){t[e].source.eventName&&(t[e].source.event.suits=t.filter((function(i){return i.source.eventName===t[e].source.eventName})).map((function(e){var t=e.name.replace(/ /g,"-").toLowerCase();return{name:e.name,rarity:e.rarity,type:"event"===e.source.subtype?"pavillion":e.source.subtype||"other",detailPageUrl:"https://asukii314.github.io/sn-suit-reference/#/".concat(t)}})))},o=1;o<t.length;o++)l(o);return t}))}))}var z=i(13);function U(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),i=t[0],n=t[1],c=Object(s.useState)([]),a=Object(o.a)(c,2),u=a[0],d=a[1],j=Object(s.useState)([]),h=Object(o.a)(j,2),b=h[0],f=h[1],v=Object(s.useState)(null),m=Object(o.a)(v,2),O=m[0],g=m[1],x=Object(s.useState)(!1),N=Object(o.a)(x,2),k=N[0],w=N[1],C=Object(s.useState)(!1),F=Object(o.a)(C,2),L=F[0],R=F[1],T=Object(z.b)(),I=T.user,P=T.isAuthenticated,D=T.loginWithRedirect;Object(s.useEffect)((function(){i.length||B().then((function(e){n(e),f(e)})),P&&0===u.length&&!L&&(R(!0),window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(I.sub)).then((function(e){return e.json()})).then((function(e){return d(e)})))}));var E=function(e,t){if(t&&t.stopPropagation(),P){if(e&&(null===I||void 0===I?void 0:I.sub)){d([].concat(Object(l.a)(u),[e.id]));var s=i.map((function(e){return e.id})).indexOf(e.id);if(s>-1){var c=Object(l.a)(i);c[s]=Object(r.a)(Object(r.a)({},i[s]),{},{likes:i[s].likes+1}),n(c),(null===O||void 0===O?void 0:O.id)===e.id&&g(c[s])}var a=b.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var o=Object(l.a)(b);o[a]=Object(r.a)(Object(r.a)({},b[a]),{},{likes:b[a].likes+1}),f(o)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(I.sub,"/").concat(e.id),{method:"PUT"})}}else D()},U=function(e,t){if(t&&t.stopPropagation(),e&&(null===I||void 0===I?void 0:I.sub)){var s=u.indexOf(e.id);if(s>-1){var c=Object(l.a)(u);c.splice(s,1),d(c)}var a=i.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var o=Object(l.a)(i);o[a]=Object(r.a)(Object(r.a)({},i[a]),{},{likes:i[a].likes-1}),n(o),(null===O||void 0===O?void 0:O.id)===e.id&&g(o[a])}var j=b.map((function(e){return e.id})).indexOf(e.id);if(j>-1){var h=Object(l.a)(b);h[j]=Object(r.a)(Object(r.a)({},b[j]),{},{likes:b[j].likes-1}),f(h)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(I.sub,"/").concat(e.id),{method:"DELETE"})}},W=Object(s.useCallback)((function(e){27===e.keyCode&&Y()}),[]);Object(s.useEffect)((function(){return document.addEventListener("keydown",W),function(){document.removeEventListener("keydown",W)}}),[W]);var J=function(e){O===e?Y():g(e)},Y=function(){g(null)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forward,i=void 0===t||t;if(O){var s=b.map((function(e){return e.name})).indexOf(O.name),n=s+(i?1:-1);n<0||n>=b.length||g(b[n])}};return i?Object(p.jsxs)("div",{children:[Object(p.jsx)(A,{suits:i,updateFilteredSuits:f,expanded:k,toggleFilterPane:function(){w(!k)},setActiveSuit:J}),Object(p.jsxs)("div",{className:k?"narrow":"wide",children:[Object(p.jsx)(y,{suit:O,closePane:Y,nextSuit:_,isFavourited:u.includes(null===O||void 0===O?void 0:O.id)||!1,favourite:E,unfavourite:U}),Object(p.jsx)(S,{suits:b,activeSuit:O,setActiveSuit:J,nextSuit:_,favouriteSuits:u,favourite:E,unfavourite:U})]})]}):null}var W=i(3);i(68);function J(e){return Object.entries(e.images).filter((function(e){var t=Object(o.a)(e,2);t[0];return!!t[1]})).map((function(t){var i,s,n=Object(o.a)(t,2),c=n[0],a=n[1];return"promo"===c&&Object.values(e.images).slice(1).includes(a)?null:function(e,t,i){return Object(p.jsxs)("div",{className:"suit-img-tile",children:[Object(p.jsx)("div",{className:"suit-tile-title",children:e}),Object(p.jsxs)("div",{className:"suit-tile-img-wrapper",children:[Object(p.jsx)(f,{className:"tile-img suit",src:t,alt:e}),i&&Object(p.jsx)(f,{className:"tile-img reflection",src:i,alt:"reflection"})]})]},e)}(c,a,null===(i=e.reflection)||void 0===i||null===(s=i.images)||void 0===s?void 0:s[c])}))}function Y(e){return Object(p.jsxs)("div",{className:"suit-detail-icon-container horizontal",children:[Object(p.jsx)("div",{className:"suit-source full",children:e.source.subtype?"".concat(e.source.type," \xb7 ").concat(e.source.subtype):e.source.type}),Object(p.jsx)("img",{src:"rarity/".concat(e.rarity.toLowerCase(),".png"),className:"suit-icon plain",alt:"rarity"}),e.attribute&&Object(p.jsx)("img",{src:"attribute/".concat(e.attribute.toLowerCase(),".png"),className:"suit-icon",alt:"rarity"})]})}function _(){var e,t,i,n,c=Object(s.useState)(0),a=Object(o.a)(c,2),r=a[0],l=a[1],u=Object(W.g)().suitId,d=u[0].toUpperCase()+u.replace(/-/g," ").substring(1);return Object(s.useEffect)((function(){r||function(e){return B().then((function(t){var i;return null===(i=t.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()})))||void 0===i?void 0:i[0]}))}(d).then(l)}),[r,d]),r?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"suit-detail-info-container",children:[Object(p.jsxs)("div",{className:"suit-title-container",children:[Y(r),Object(p.jsx)("div",{className:"suit-detail-header-container",children:Object(p.jsx)("div",{className:"suit-title full",children:"".concat(r.designer," \xb7 ").concat(r.name)})})]}),Object(p.jsxs)("div",{className:"suit-detail-infocard-container",children:[Object(p.jsx)(g,{event:null===(e=r.source)||void 0===e?void 0:e.event}),"(N/A - no reflection)"!==r.archive&&Object(p.jsx)(v,{iconUrl:null===(t=r.reflection.images)||void 0===t?void 0:t.icon,CoR:null===(i=r.reflection)||void 0===i?void 0:i.CoR})]})]}),Object(p.jsxs)("div",{className:"suit-img-tiles-container",children:[J(r),(n=r.video,n?Object(p.jsxs)("div",{className:"suit-img-tile",children:[Object(p.jsx)("div",{className:"suit-tile-title",children:"Suit Display Video"}),Object(p.jsx)("div",{className:"suit-tile-img-wrapper",children:Object(p.jsx)(m,{url:n,autoplay:!1})})]},"video"):null)]})]}):null}var X=i(18);i(69);function H(){var e=Object(z.b)(),t=e.user,i=e.isAuthenticated,n=e.loginWithRedirect,c=e.logout,a=Object(s.useState)(!1),r=Object(o.a)(a,2),l=r[0],u=r[1];return Object(p.jsxs)("nav",{role:"navigation",className:l?" open":"",children:[Object(p.jsxs)("b",{children:[Object(p.jsx)("img",{className:"mobile-hamburger-menu",src:"./menu.png",onClick:function(){return u(!l)}}),"SN Suit Reference"]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#/",children:"All Suits"})}),(null===t||void 0===t?void 0:t.sub)?Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#/wishlist/".concat(t.sub),children:"Wishlist"})}):Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"",onClick:function(){return n()},children:"Wishlist"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#/credits",children:"Credits"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#/contact",children:"Contact"})}),!i&&Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"",onClick:function(){return n()},children:"Log In"})}),i&&Object(p.jsx)("li",{children:Object(p.jsx)("a",{onClick:function(){return c({returnTo:window.location.origin.includes("localhost")?window.location.origin:"https://asukii314.github.io/sn-suit-reference"})},children:"Log Out"})})]})]})}function M(){return Object(p.jsxs)("div",{className:"infopage",children:[Object(p.jsx)("h3",{children:" Get in touch "}),Object(p.jsxs)("p",{children:["I love hearing from people! Please don't hesitate to reach out if you...",Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"Spotted a bug to report"}),Object(p.jsx)("li",{children:"Notice any inaccurate or missing suit/reflection info"}),Object(p.jsx)("li",{children:"Have a suit, photo, or video you want added to the site"}),Object(p.jsx)("li",{children:"Have any feedback or suggestions to share"}),Object(p.jsx)("li",{children:"Would like to collaborate with me"}),Object(p.jsx)("li",{children:"Or any other reason, really!"})]})]}),Object(p.jsxs)("p",{children:["Here's a few ways to reach me:",Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Email:"})," ",Object(p.jsx)("a",{className:"inline",href:"mailto:asukii314.twitch@gmail.com",children:"asukii314.twitch@gmail.com"})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Discord:"})," ",Object(p.jsx)("a",{className:"inline",href:"https://discord.gg/hWCTc69C3Y",children:"Join my guild's server"}),", or DM me @asukii#7286"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Github:"})," ",Object(p.jsx)("a",{className:"inline",href:"https://github.com/asukii314/sn-suit-reference",children:"Public repo is here"})," - feel free to make a PR!"]})]})]})]})}function Q(){return Object(p.jsxs)("div",{className:"infopage",children:[Object(p.jsx)("h3",{children:" Credits "}),Object(p.jsxs)("p",{children:["This site wouldn't have been possible without the massive contributions - both explicit and implicit - from many others in the Shining Nikki community. Here they are:",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"Website UI/UX Design Help"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{className:"inline",href:"https://elisalam.squarespace.com",children:"Elisa Lam"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{className:"inline",href:"mailto:natasha.djie@gmail.com",children:"Natasha Djie"})})]}),Object(p.jsx)("b",{children:"SN Reference Images"}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{className:"inline",href:"https://lensdump.com/rumi/albums",children:"Rumi's Lensdump"})," ",Object(p.jsx)("i",{children:"(suit images)"})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{className:"inline",href:"https://lensdump.com/sakushi/albums/",children:"Saku's Lensdump"})," ",Object(p.jsx)("i",{children:"(reflection art)"})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{className:"inline",href:"https://lensdump.com/a/W7Tra/sub",children:"SND Lensdump"})," ",Object(p.jsx)("i",{children:"(reflection icons)"})]}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{className:"inline",href:"https://orangecatty-shiningnikki.tumblr.com/",children:"Orangecatty's Tumblr"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{className:"inline",href:"https://nikki4.com.tw/newslist",children:"Official TW News"})}),Object(p.jsxs)("li",{children:["Official twitter accounts for ",Object(p.jsx)("a",{className:"inline",href:"https://twitter.com/ShiningNikki_JP",children:"Japan"})," and ",Object(p.jsx)("a",{className:"inline",href:"https://twitter.com/ShiningNikki_SN",children:"Global"})]}),Object(p.jsxs)("li",{children:["Various posts on the official ",Object(p.jsx)("a",{className:"inline",href:"https://discord.gg/shiningnikki",children:"SN Discord"})]})]}),Object(p.jsx)("b",{children:"Misc/Other"}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:["Reflection skill data from Kami's ",Object(p.jsx)("a",{className:"inline",href:"https://docs.google.com/spreadsheets/d/1Va9SCIrxni6TUEB1DFxwQK8Vj9mnsCxztsPA9OJja-g/",children:"Shadow Ranking Sheet"})]}),Object(p.jsxs)("li",{children:["Metadata for global suits from ",Object(p.jsx)("a",{className:"inline",href:"https://shining-nikki.fandom.com/wiki/Shining_Nikki_Wiki",children:"the Shining Nikki Wiki"})]}),Object(p.jsx)("li",{children:"Help finding/organizing suit data from Demonic Dragon#3189"}),Object(p.jsxs)("li",{children:["Icons made by ",Object(p.jsx)("a",{className:"inline",href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," from ",Object(p.jsx)("a",{href:"https://www.flaticon.com/",className:"inline",title:"Flaticon",children:"www.flaticon.com"})]}),Object(p.jsxs)("li",{children:["And of course, ",Object(p.jsx)("a",{className:"inline",href:"#/contact",children:"me (asukii)"})," to pull it all together :)"]})]})]})]})}function V(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),i=t[0],n=t[1],c=Object(s.useState)([]),a=Object(o.a)(c,2),u=a[0],d=a[1],j=Object(s.useState)([]),h=Object(o.a)(j,2),b=h[0],f=h[1],v=Object(s.useState)(null),m=Object(o.a)(v,2),O=m[0],g=m[1],x=Object(s.useState)(!1),N=Object(o.a)(x,2),k=N[0],w=N[1],C=Object(z.b)().user,F=Object(W.g)().userid;Object(s.useEffect)((function(){i.length||Promise.all([B(),window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(F)).then((function(e){return e.json()}))]).then((function(e){var t=Object(o.a)(e,2),i=t[0],s=t[1],c=i.filter((function(e){return s.includes(e.id)}));console.log("s",c),n(c),f(c),(null===C||void 0===C?void 0:C.sub)===F?d(s):(null===C||void 0===C?void 0:C.sub)&&window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(null===C||void 0===C?void 0:C.sub)).then((function(e){return e.json()})).then(d)}))}));var L=function(e,t){if(t&&t.stopPropagation(),e&&(null===C||void 0===C?void 0:C.sub)){d([].concat(Object(l.a)(u),[e.id]));var s=i.map((function(e){return e.id})).indexOf(e.id);if(s>-1){var c=Object(l.a)(i);c[s]=Object(r.a)(Object(r.a)({},i[s]),{},{likes:i[s].likes+1}),n(c),(null===O||void 0===O?void 0:O.id)===e.id&&g(c[s])}var a=b.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var o=Object(l.a)(b);o[a]=Object(r.a)(Object(r.a)({},b[a]),{},{likes:b[a].likes+1}),f(o)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(C.sub,"/").concat(e.id),{method:"PUT"})}},R=function(e,t){if(t&&t.stopPropagation(),e&&(null===C||void 0===C?void 0:C.sub)){var s=u.indexOf(e.id);if(s>-1){var c=Object(l.a)(u);c.splice(s,1),d(c)}var a=i.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var o=Object(l.a)(i);o[a]=Object(r.a)(Object(r.a)({},i[a]),{},{likes:i[a].likes-1}),n(o),(null===O||void 0===O?void 0:O.id)===e.id&&g(o[a])}var j=b.map((function(e){return e.id})).indexOf(e.id);if(j>-1){var h=Object(l.a)(b);h[j]=Object(r.a)(Object(r.a)({},b[j]),{},{likes:b[j].likes-1}),f(h)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(C.sub,"/").concat(e.id),{method:"DELETE"})}},T=Object(s.useCallback)((function(e){27===e.keyCode&&P()}),[]);Object(s.useEffect)((function(){return document.addEventListener("keydown",T),function(){document.removeEventListener("keydown",T)}}),[T]);var I=function(e){O===e?P():g(e)},P=function(){g(null)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forward,i=void 0===t||t;if(O){var s=b.map((function(e){return e.name})).indexOf(O.name),n=s+(i?1:-1);n<0||n>=b.length||g(b[n])}};return i?Object(p.jsxs)("div",{children:[Object(p.jsx)(A,{suits:i,updateFilteredSuits:f,expanded:k,toggleFilterPane:function(){w(!k)},setActiveSuit:I}),Object(p.jsxs)("div",{className:k?"narrow":"wide",children:[Object(p.jsx)(y,{suit:O,closePane:P,nextSuit:D,isFavourited:u.includes(null===O||void 0===O?void 0:O.id)||!1,favourite:L,unfavourite:R}),Object(p.jsx)(S,{suits:b,activeSuit:O,setActiveSuit:I,nextSuit:D,favouriteSuits:u,favourite:L,unfavourite:R})]})]}):null}var Z=function(){return window.location.hash&&"#_=_"===window.location.hash&&(window.location.hash=""),Object(p.jsx)(z.a,{domain:"dev-semwqhjw.us.auth0.com",clientId:"96kzE3AqjHdAz8fzOJvTuENJO7AQj0wb",redirectUri:window.location.origin.includes("localhost")?window.location.origin:"https://asukii314.github.io/sn-suit-reference",children:Object(p.jsx)(X.a,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)(H,{}),Object(p.jsx)("img",{className:"hack",src:"./menu.png"}),Object(p.jsxs)(W.c,{children:[Object(p.jsx)(W.a,{exact:!0,path:"/",element:Object(p.jsx)(U,{})}),Object(p.jsx)(W.a,{path:":suitId",element:Object(p.jsx)(_,{})}),Object(p.jsx)(W.a,{path:"/credits",element:Object(p.jsx)(Q,{})}),Object(p.jsx)(W.a,{path:"/contact",element:Object(p.jsx)(M,{})}),Object(p.jsx)(W.a,{path:"/wishlist/:userid",element:Object(p.jsx)(V,{})})]})]})})})})},G=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,71)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;i(e),s(e),n(e),c(e),a(e)}))};a.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Z,{})}),document.getElementById("root")),G()}},[[70,1,2]]]);
//# sourceMappingURL=main.8fc0b897.chunk.js.map