{"version":3,"sources":["zoomableImage.js","reflectionInfo.js","VideoEmbed.js","eventCard.js","suitDetail.js","suits.js","filterBox.js","suitFilter.js","fetchSuitInfo.js","suitPage.js","SuitDetailPage.js","Navbar.js","ContactPage.js","CreditsPage.js","Wishlist.js","Closet.js","App.js","reportWebVitals.js","index.js"],"names":["SuitDetail","props","toggleZoom","setState","zoomed","state","className","this","onClick","src","alt","Component","ReflectionInfo","decrement","level","increment","exists","iconUrl","length","dangerouslySetInnerHTML","__html","CoR","style","marginTop","color","VideoEmbed","url","autoplay","embedUrl","includes","slice","width","height","frameBorder","allow","allowFullScreen","title","renderEventSuit","suit","href","detailPageUrl","name","rarity","type","eventCard","event","sourceType","sortedSuits","suits","sort","a","b","map","nextSuit","isFavourited","favourite","unfavourite","isOwned","setOwned","setNotOwned","closePane","isMobile","useState","activeImgType","setActiveImgType","ArrowKeysReact","config","left","forward","right","useEffect","video","images","renderSuitImageButton","btnImgType","cn","toUpperCase","substring","getSuitSourceString","string","source","subtype","verboseEventTypes","reflectionImgUrl","reflection","events","tabIndex","designer","awakenedName","toLowerCase","attribute","e","likes","Object","entries","filter","imgType","renderSuitImages","showStatus","showThumbs","useKeyboardArrows","archive","icon","renderSuitInfoCards","SuitCards","setActiveSuit","renderSuitCard","idx","activeSuit","bind","SwipeReact","favouriteSuits","id","ownedSuits","promo","filterPaneOpen","FilterBox","toggleExpand","expanded","toggleCheckbox","option","parent","onChange","category","target","checked","showChildren","subcategories","showOptions","keys","options","status","hasIcons","showAllOptions","getNumAppliedFilters","values","c","fontWeight","fontSize","initialFilterState","Rarity","SR","SSR","UR","Attribute","Cool","Elegant","Fresh","Sexy","Sweet","Source","Pavillion","Crafting","Free","Paid","Nation","Apple","Cloud","Ninir","North","Pigeon","Ruin","Wasteland","Owned","True","False","initialChildFilterState","SuitFilter","getNestedValue","obj","path","res","step","String","updateFilter","subcategory","value","filters","filterSuits","childFilters","triggerUpdate","filteredCategories","some","val","searchedSuits","searchByNameResults","searchByDesignerResults","reduce","appliedFilters","v","suitVal","metadata","paths","activeChildFilters","affectedParentFilters","selectedChildOptions","x","concat","push","suitSubVal","childPaths","updateFilteredSuits","renderFilters","handleSearch","searchTerm","results","handleClear","handleSelect","handleDesignerSearch","designers","filteredSuits","handleDesignerSelect","designerObj","handleDesignerClear","renderSearchBars","index","self","indexOf","localeCompare","items","placeholder","onSearch","onSelect","onClear","styling","searchIconMargin","zIndex","useCaching","categoryInfo","sum","renderClearFiltersBtn","disabled","stopPropagation","numAppliedFilters","toggleFilterPane","fetchAllSuits","window","fetch","then","r","json","fetchSuitByName","suitName","SuitPanel","setSuits","favourites","setFavourites","setOwnedSuits","setFilteredSuits","fetchedFavourites","setFetchedFavourites","useAuth0","user","isAuthenticated","loginWithRedirect","innerWidth","setWidth","handleWindowSizeChange","addEventListener","removeEventListener","setFilterPaneOpen","Promise","all","sub","undefined","owned","addFavourite","suitIdx","copy","filteredSuitIdx","method","addOwnedSuit","findIndex","s","suitsCopy","removeFavourite","splice","removeOwnedSuit","escFunction","useCallback","keyCode","document","onSuitClick","curSuitIdx","newSuitIdx","renderAllSuitImageTiles","imgUrl","suitImgUrl","renderSuitImageTile","renderSuitIcons","SuitDetailPage","setSuit","suitId","useParams","replace","videoUrl","Navbar","logout","menuOpen","setMenuOpen","role","returnTo","location","origin","ContactPage","CreditsPage","WishlistPage","userid","fetchedSuits","allSuits","faveSuits","closet","App","hash","domain","clientId","redirectUri","exact","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.150d1509.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './zoomableImage.css';\n\nexport default class SuitDetail extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            zoomed: false\n        };\n    }\n\n    toggleZoom = () => {\n        this.setState({zoomed: !this.state.zoomed})\n    }\n\n    render() {\n        return (\n            <div className='zoomable-img-wrapper'>\n                <div\n                    className={this.state.zoomed ? 'dark-background' : ''}\n                    onClick={this.toggleZoom}\n                />\n                {!this.state.zoomed && (\n                    <div>\n                         <img src='zoom-in-button.png' className='zoom-in-button-background' alt='click to zoom' onClick={this.toggleZoom} />\n                         <img src='zoom-in-button.png' className='zoom-in-button' alt='click to zoom' onClick={this.toggleZoom} />\n                     </div>\n                 )}\n\n                <img\n                    className={`${this.props.className} zoomed-out`}\n                    src={this.props.src}\n                    alt={this.props.alt}\n                    onClick={this.toggleZoom}\n                />\n                {this.state.zoomed && <img\n                    className={`${this.props.className} zoomed-in`}\n                    src={this.props.src}\n                    alt={this.props.alt}\n                    onClick={this.toggleZoom}\n                />}\n            </div>\n        );\n    }\n}\n","import { Component } from 'react';\nimport './reflectionInfo.css';\n\nexport default class ReflectionInfo extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            level: 1\n        };\n    }\n\n    decrement = () => {\n        if(this.state.level > 1) {\n            this.setState({ level: this.state.level - 1 })\n        };\n    }\n\n    increment = () => {\n        if(this.state.level < 5){\n            this.setState({ level: this.state.level + 1 })\n        }\n    }\n\n    render() {\n        if(!this.props.exists) return (\n            <div className='reflection-info-card' >\n                <div className='reflection-card-column'>\n                    <div className=\"CoR-title\">Skill Info</div>\n                    <div className=\"CoR-description\" style={{marginTop: '5px', color: 'darkgray'}}>N/A - suit does not have a reflection</div>\n                </div>\n            </div>\n        );\n\n        if(!this.props.iconUrl?.length) return (\n            <div className='reflection-info-card' >\n                <div className='reflection-card-column'>\n                    <div className=\"CoR-title\">Skill Info</div>\n                    <div className=\"CoR-description\" style={{marginTop: '5px', color: 'darkgray'}}><i>(no skill info found)</i></div>\n                </div>\n            </div>\n        );\n        return (\n            <div className='reflection-info-card'>\n                <div className='reflection-card-column'>\n                    <div className=\"CoR-title\">Skill Info</div>\n                    <img className='reflection-icon' src={this.props.iconUrl} alt='reflection-icon' />\n                </div>\n                <div className='reflection-card-column'>\n                    <div className=\"level-input\">\n                        <button className='CoR-level-change' onClick={this.decrement}>-</button>\n                        <div className='CoR-level'>{`Lvl ${this.state.level}`}</div>\n                        <button className='CoR-level-change' onClick={this.increment}>+</button>\n                    </div>\n                    <div className=\"CoR-description\" dangerouslySetInnerHTML={{__html: this.props.CoR[this.state.level]}}></div>\n                </div>\n            </div>\n        );\n    }\n}\n","\nconst VideoEmbed = ({ url, autoplay=false }) => {\n    if(!url) return null;\n    const embedUrl = (\n          url.includes('youtu')\n        ? `https://www.youtube.com/embed/${url.slice(url.length-11)}`\n        : url\n    );\n    if(autoplay) {\n        return (\n          <div className=\"video-responsive\">\n            <iframe\n              width=\"100%\"\n              height=\"100%\"\n              src={embedUrl}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              autoplay\n              allowFullScreen\n              title=\"YouTube video player\"\n            />\n          </div>\n        );\n    }\n    return (\n      <div className=\"video-responsive\">\n        <iframe\n          width=\"100%\"\n          height=\"100%\"\n          src={embedUrl}\n          frameBorder=\"0\"\n          allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          title=\"YouTube video player\"\n        />\n      </div>\n    );\n}\n\nexport default VideoEmbed;\n","import './eventCard.css'\n\nfunction renderEventSuit(suit) {\n    return (\n        <li className='suit-link'>\n            <div><a className='inline' href={suit.detailPageUrl/*.replace('https://asukii314.github.io/sn-suit-reference','')*/}>{suit.name}</a> - {suit.rarity} {suit.type}</div>\n        </li>\n    );\n}\n\nexport default function eventCard({ event, sourceType }) {\n    let sortedSuits = (event.suits?.length ? [...event.suits] : []);\n    sortedSuits.sort(function(a,b) {\n        if(a.rarity === b.rarity) return 0;\n        return (a.rarity < b.rarity ? +1 : -1)\n    })\n    return (\n        <div className='event-card-container'>\n            <div className=\"event-title\">{sourceType}</div>\n            <div className=\"event-subtitle\">{event.name}</div>\n            <ul>\n                {sortedSuits.map(renderEventSuit)}\n            </ul>\n        </div>\n    );\n}\n","import { useState, useEffect } from 'react';\r\nimport ZoomableImage from './zoomableImage';\r\nimport ReflectionInfo from './reflectionInfo';\r\nimport VideoEmbed from './VideoEmbed';\r\nimport EventCard from './eventCard';\r\nimport ArrowKeysReact from 'arrow-keys-react';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport './suitDetail.css';\r\n\r\nexport default function SuitDetail({\r\n    suit,\r\n    nextSuit,\r\n    isFavourited,\r\n    favourite,\r\n    unfavourite,\r\n    isOwned,\r\n    setOwned,\r\n    setNotOwned,\r\n    closePane,\r\n    isMobile,\r\n}) {\r\n\r\n    let [activeImgType, setActiveImgType] = useState(\"promo\");\r\n    ArrowKeysReact.config({\r\n      left: () => nextSuit({forward: false}),\r\n      right: () => nextSuit({forward: true})\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(!suit) return;\r\n        if( (activeImgType === 'video' && !suit.video) ||\r\n            (activeImgType !== 'video' && !suit.images[activeImgType])\r\n        ) {\r\n            setActiveImgType(\"promo\");\r\n        }\r\n    })\r\n\r\n    const renderSuitImageButton = (btnImgType) => {\r\n        const cn = 'suit-detail-type-button' + (btnImgType === activeImgType ? ' selected' : '');\r\n        return (\r\n            <button\r\n                className={cn}\r\n                key={btnImgType}\r\n                onClick={() => setActiveImgType(btnImgType)}\r\n            >{btnImgType[0].toUpperCase() + btnImgType.substring(1)}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    const renderSuitImageButtons = () => {\r\n        return (\r\n            <div className='suit-image-buttons-container'>\r\n                {Object.entries(suit.images)\r\n                    .filter(([imgType, imgUrl]) => !!imgUrl)\r\n                    .map(([imgType, imgUrl]) => {\r\n                        return renderSuitImageButton(imgType);\r\n                    }\r\n                )}\r\n                {suit.video && renderSuitImageButton('video')}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const getSuitSourceString = () => {\r\n        let string = (\r\n            suit.source.subtype\r\n                ? suit.source.subtype[0].toUpperCase() + suit.source.subtype.substring(1)\r\n                : suit.source.type\r\n        );\r\n\r\n        const verboseEventTypes = [\r\n            'Single SSR',\r\n            'Double SSR',\r\n            'Single UR',\r\n            'Double UR'\r\n        ];\r\n        if(suit.source.subtype === 'event' && verboseEventTypes.includes(suit.source.event?.type)) {\r\n            string = `${suit.source.event.type} event`\r\n        }\r\n        if(suit.source.subtype === 'collab' && verboseEventTypes.includes(suit.source.event?.type)) {\r\n            string = `${suit.source.event.type} collab`\r\n        }\r\n\r\n        return string;\r\n    }\r\n\r\n    const renderActionBar = () => {\r\n        return (\r\n            <div className='favourite-icon-container detail'>\r\n                <div className='suit-attribute-icons'>\r\n                    <img src={`rarity/${suit.rarity.toLowerCase()}.png`} className='suit-icon detail' alt='rarity' />\r\n                    <div className='suit-attribute-label'>{suit.rarity}</div>\r\n                    {suit.attribute && <img src={`attribute/${suit.attribute.toLowerCase()}.png`} className='suit-icon detail' alt='rarity' />}\r\n                    {suit.attribute && <div className='suit-attribute-label'>{suit.attribute}</div>}\r\n                </div>\r\n                <div className='suit-likes-container'>\r\n                    <div className='suit-attribute-label favourites light'>{isOwned ? 'Owned' : 'Not Owned'}</div>\r\n                    {!isOwned && <img\r\n                        src='tick-empty.png'\r\n                        className='action-bar-icon owned-icon detail shadowed'\r\n                        alt='Mark as owned'\r\n                        title='Mark as owned'\r\n                        onClick={(e) => setOwned(suit,e)}\r\n                    />}\r\n                    {isOwned &&\r\n                        <img src='tick-filled.png'\r\n                        className='action-bar-icon owned-icon detail shadowed green'\r\n                        alt='Unmark as owned'\r\n                        title='Unmark as owned'\r\n                        onClick={(e) => setNotOwned(suit,e)}\r\n                        />}\r\n                    <div className='suit-attribute-label favourites'>{suit.likes}</div>\r\n                    {!isFavourited && <img\r\n                        src='heart_outline.png'\r\n                        className='action-bar-icon detail unfavourited'\r\n                        alt='Favourite'\r\n                        title='Favourite'\r\n                        onClick={() => favourite(suit)}\r\n                    />}\r\n                    {isFavourited && <img\r\n                        src='heart_red.png'\r\n                        className='action-bar-icon detail favourited'\r\n                        alt='Unfavourite'\r\n                        title='Unfavourite'\r\n                        onClick={() => unfavourite(suit)}\r\n                    />}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderSuitImages = (reflectionImgUrl) => {\r\n        return (\r\n            <div className='suit-detail-left-column'>\r\n            {renderActionBar()}\r\n            <div className='suit-detail-img-container'>\r\n                {renderSuitImageButtons()}\r\n                {activeImgType === 'video' &&\r\n                    <VideoEmbed url={suit.video}/>\r\n                }\r\n                {activeImgType !== 'video' && <ZoomableImage\r\n                    className='suit-detail-img'\r\n                    src={suit.images[activeImgType]}\r\n                    alt={activeImgType}\r\n                />}\r\n                {reflectionImgUrl && <ZoomableImage\r\n                    className='suit-detail-img'\r\n                    src={reflectionImgUrl}\r\n                    alt='reflection'\r\n                />}\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSuitInfoCards = () => {\r\n        if(isMobile) {\r\n            return (\r\n                <div className='suit-detail-infocard-container'>\r\n                <Carousel\r\n                    className='carousel'\r\n                    showStatus={false}\r\n                    showThumbs={false}\r\n                    useKeyboardArrows={false}\r\n                >\r\n                    <EventCard\r\n                        event={suit.source?.event}\r\n                        sourceType={getSuitSourceString()}\r\n                    />\r\n                    <ReflectionInfo\r\n                        exists={suit.archive !== '(N/A - no reflection)'}\r\n                        iconUrl={suit.reflection?.images?.icon}\r\n                        CoR={suit.reflection?.CoR}\r\n                    />\r\n                </Carousel>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className='suit-detail-infocard-container'>\r\n                    <EventCard\r\n                        event={suit.source?.event}\r\n                        sourceType={getSuitSourceString()}\r\n                    />\r\n                    <ReflectionInfo\r\n                        exists={suit.archive !== '(N/A - no reflection)'}\r\n                        iconUrl={suit.reflection?.images?.icon}\r\n                        CoR={suit.reflection?.CoR}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    if(suit) {\r\n        const reflectionImgUrl = suit.reflection?.images?.[activeImgType];\r\n        return (\r\n            <div className='suit-detail-container' {/*...SwipeReact.events*/ ...ArrowKeysReact.events} tabIndex=\"1\">\r\n                <input type='image' className='suit-select-arrow previous' src='./down-arrow.png' onClick={() => nextSuit({forward: false})}/>\r\n                <button className='suit-detail-close-button' onClick={closePane}></button>\r\n                <div className='suit-title'>{`${suit.designer}  ${(activeImgType === 'awakened' && suit.awakenedName !== '') ? suit.awakenedName : suit.name}`}</div>\r\n                {renderSuitImages(reflectionImgUrl)}\r\n                {renderSuitInfoCards()}\r\n                <input type='image' className='suit-select-arrow next' src='./down-arrow.png' onClick={() => nextSuit({forward: true})}/>\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n\r\n}\r\n","import { Component } from 'react';\r\nimport 'whatwg-fetch';\r\nimport './suits.css';\r\nimport ArrowKeysReact from 'arrow-keys-react';\r\nimport SwipeReact from 'swipe-react';\r\n\r\nexport default class SuitCards extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        ArrowKeysReact.config({\r\n            left: () => this.props.nextSuit({forward: false}),\r\n            right: () => this.props.nextSuit({forward: true})\r\n        });\r\n        SwipeReact.config({\r\n            left: () => this.props.nextSuit({forward: false}),\r\n            right: () => this.props.nextSuit({forward: true})\r\n        });\r\n    }\r\n\r\n    onClick = (suit) => {\r\n        this.props.setActiveSuit(suit);\r\n    }\r\n\r\n    renderSuitCard = (suit, idx) => {\r\n        return (\r\n            <div\r\n                className={`suit-card${suit === this.props.activeSuit ? ' active' : ''}`}\r\n                key={idx}\r\n                onClick={this.onClick.bind(this,suit)}\r\n                {...ArrowKeysReact.events} tabIndex=\"1\"\r\n                {...SwipeReact.events}\r\n            >\r\n                <div className='suit-icon-container'>\r\n                    <div className='favourite-icon-container'>\r\n                        {!this.props.favouriteSuits?.includes(suit.id) && <img\r\n                            src='heart_black.png'\r\n                            className='action-bar-icon unfavourited suit-icon shadowed'\r\n                            alt='Favourite'\r\n                            title='Favourite'\r\n                            onClick={(e) => this.props.favourite(suit,e)}\r\n                        />}\r\n                        {this.props.favouriteSuits?.includes(suit.id) && <img\r\n                            src='heart_red.png'\r\n                            className='action-bar-icon favourited suit-icon shadowed'\r\n                            alt='Unfavourite'\r\n                            title='Unfavourite'\r\n                            onClick={(e) => this.props.unfavourite(suit,e)}\r\n                            />}\r\n\r\n                        {!this.props.ownedSuits?.includes(suit.id) &&\r\n                            <img src='tick-empty.png'\r\n                            className='action-bar-icon owned-icon suit-icon shadowed'\r\n                            alt='Mark as owned'\r\n                            title='Mark as owned'\r\n                            onClick={(e) => this.props.setOwned(suit,e)}\r\n                            />}\r\n                        {this.props.ownedSuits?.includes(suit.id) &&\r\n                            <img src='tick-filled.png'\r\n                            className='action-bar-icon owned-icon suit-icon shadowed green'\r\n                            alt='Unmark as owned'\r\n                            title='Unmark as owned'\r\n                            onClick={(e) => this.props.setNotOwned(suit,e)}\r\n                            />}\r\n                        <img src={`rarity/${suit.rarity.toLowerCase()}.png`} className='suit-icon shadowed' alt='rarity' />\r\n                        {suit.attribute && <img src={`attribute/${suit.attribute.toLowerCase()}.png`} className='suit-icon' alt='rarity' />}\r\n                    </div>\r\n                </div>\r\n                <img src={suit.images.promo} className='suit-img' alt={suit.name}/>\r\n                <p className='suit-name'> {suit.name} </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    setActiveSuit = (suit) => {\r\n        this.props.setActiveSuit(suit);\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.suits) return null;\r\n        return (\r\n            <div className={`suit-cards-container${this.props.suits.length ? ' loaded' : ''}${this.props.filterPaneOpen ? ' pane-open' : ' pane-closed'}`}>\r\n                {this.props.suits.map(this.renderSuitCard)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { Component } from 'react';\nimport './filterBox.css';\n\nexport default class FilterBox extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            expanded: false\n        };\n    }\n\n    toggleExpand = () => {\n        this.setState({expanded: !this.state.expanded})\n    }\n\n    toggleCheckbox = (option, parent, e) => {\n        this.props.onChange(this.props.category, (this.props.category === parent ? null : parent), option, e.target.checked)\n    }\n\n    showChildren = (option) => {\n        if (!this.props.subcategories?.[option] || !this.props.checked[option]){\n            return null;\n        } else {\n            return (\n                <div className='child-option-container'>\n                    {this.showOptions(\n                        Object.keys(this.props.subcategories[option]),\n                        this.props.subcategories[option],\n                        option\n                    )}\n                </div>\n            )\n\n        }\n    }\n\n    showOptions = (options, status, parent) => {\n        return (\n            options.map((option) => {\n            return (\n                <div key={`${option}-wrapper`}>\n                    <div className='filter-option' key={`${option}-container`}>\n                        <input\n                            type='checkbox'\n                            key={`${option}-checkbox`}\n                            checked={status[option]}\n                            onChange={this.toggleCheckbox.bind(this,option, parent)}\n                        />\n                        {this.props.hasIcons && <img\n                            className='filter-icon'\n                            key={`${option}-icon`}\n                            alt={`${option}-icon`}\n                            src={`${this.props.category.toLowerCase()}/${option.toLowerCase()}.png`}\n                        />}\n                        <div className='filter-label' key={`${option}-label`}>{option}</div>\n                    </div>\n                    {this.showChildren(option)}\n                </div>\n            );\n        })\n    )\n    }\n\n    showAllOptions = () => {\n        return this.showOptions(\n            Object.keys(this.props.checked),\n            this.props.checked,\n            this.props.category\n        );\n    }\n\n    // todo - make this care about subcategories\n    getNumAppliedFilters = () => {\n        return Object.values(this.props.checked).filter(c => c).length;\n    }\n\n    render() {\n        return (\n            <div className='filter-box-container' >\n            <div className='filter-box-title' onClick={this.toggleExpand}>\n                <div className='title-text-wrapper'>\n                    <div>{this.props.category}</div>\n                    {this.getNumAppliedFilters() > 0 && <div className='applied-filters'>{this.getNumAppliedFilters()}</div>}\n                </div>\n                <div style={{fontWeight: 'normal', fontSize: '10px'}}>{this.state.expanded ? '' : ''}</div>\n            </div>\n\n                {this.state.expanded && (<div className='filter-option-container'>{this.showAllOptions()}</div>)}\n            </div>\n        );\n    }\n}\n","import { Component } from 'react';\nimport './suitFilter.css';\nimport FilterBox from './filterBox';\nimport { ReactSearchAutocomplete } from 'react-search-autocomplete';\n\nconst initialFilterState = {\n    Rarity: {\n        SR: false,\n        SSR: false,\n        UR: false\n    },\n    Attribute: {\n        Cool: false,\n        Elegant: false,\n        Fresh: false,\n        Sexy: false,\n        Sweet: false\n    },\n    Source: {\n        Pavillion: false,\n        Crafting: false,\n        Free: false,\n        Paid: false,\n        'Other event type': false\n    },\n    Nation : {\n        Apple: false,\n        Cloud: false,\n        Ninir: false,\n        North: false,\n        Pigeon: false,\n        Ruin: false,\n        Wasteland: false\n    },\n    Owned: {\n        True: false,\n        False: false\n    }\n}\n\nconst initialChildFilterState = {\n    Source: {\n        Pavillion: {\n            'Permanent': false,\n            'Gleam': false,\n            'Event': false,\n            'Collab': false,\n        },\n        Crafting: {\n            'Lifetime': false,\n            'Chapter suit': false,\n            'Mind maze': false,\n            'Memory stairway': false,\n            'Other': false,\n        },\n        Free: {\n            'Arena': false,\n            'Pinnacle battle': false,\n            'Styling competition': false,\n            'Intel hub': false,\n            'Welfare': false,\n            'Other': false,\n        },\n        Paid: {\n            'Recharge': false,\n            'VIP level': false,\n            'Fashion plan': false,\n            'Purple diamonds': false,\n        }\n    }\n}\n\nexport default class SuitFilter extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            searchByNameResults: null,\n            searchByDesignerResults: null,\n            filters: initialFilterState,\n            childFilters: initialChildFilterState,\n        };\n        this.metadata = {\n            Rarity: {\n                paths: ['rarity'],\n                hasIcons: true,\n            },\n            Attribute: {\n                paths: ['attribute'],\n                hasIcons: true,\n            },\n            Source: {\n                paths: ['source', 'type'],\n                hasIcons: false,\n                childPaths: ['source', 'subtype']\n            },\n            Nation: {\n                paths: ['nation'],\n                hasIcons: true,\n            },\n            Owned: {\n                paths: ['owned'],\n                hasIcons: false\n            }\n        }\n    }\n\n    getNestedValue = (obj, path) => {\n        let res = obj;\n        for(const step of path){\n            res = res?.[step];\n        }\n        return String(res);\n    }\n\n    updateFilter = (category, subcategory, option, value) => {\n        if(subcategory === null) {\n            return this.setState({\n                filters: {\n                    ...this.state.filters,\n                    [category]: {\n                        ...this.state.filters[category],\n                        [option]: value\n                    }\n                }\n\n            }, this.filterSuits)\n        } else {\n            return this.setState({\n                childFilters: {\n                    ...this.state.childFilters,\n                    [category]: {\n                        ...this.state.childFilters[category],\n                        [subcategory]: {\n                            ...this.state.childFilters[category][subcategory],\n                            [option]: value\n                        }\n                    }\n                }\n            }, this.filterSuits)\n        }\n    }\n\n    filterSuits = ({triggerUpdate = true} = {}) => {\n        const filteredCategories = Object.keys(this.state.filters).filter((category) =>\n            Object.values(this.state.filters[category]).some((val) => !!val)\n        )\n\n        // check both search bars\n        const searchedSuits = this.props.suits.filter((suit) => {\n            if((this.state.searchByNameResults && !this.state.searchByNameResults.map(suit => suit.name).includes(suit.name)) ||\n               (this.state.searchByDesignerResults && !this.state.searchByDesignerResults.map(suit => suit.name).includes(suit.name))) {\n                   return false;\n            }\n            return true;\n        })\n\n        // check parent categories\n        const res = filteredCategories.reduce((suits, category) => {\n            const appliedFilters = Object.keys(this.state.filters[category]).filter((val) =>\n                this.state.filters[category][val]\n            ).map((v) => v.toLowerCase());\n\n            return suits.filter((suit) => {\n                // can we rule out based on the parent categoories only?\n                const suitVal = this.getNestedValue(suit, this.metadata[category].paths).toLowerCase();\n                if(!appliedFilters.includes(suitVal)) return false;\n\n                // check children\n                if(this.state.childFilters[category]) {\n                    let activeChildFilters = [], affectedParentFilters = [];\n                    for (const subcategory of Object.keys(this.state.childFilters[category])) {\n                        const selectedChildOptions = (\n                            Object.keys(this.state.childFilters[category][subcategory])\n                            .filter((option) => this.state.childFilters[category][subcategory][option])\n                            .map(x => x.toLowerCase())\n                        );\n\n                        // affectedParentFilters -> if suit it from a category that hasn't been narrowed, don't force narrowing\n                        if(selectedChildOptions.length > 0) {\n                            activeChildFilters = activeChildFilters.concat(selectedChildOptions);\n                            affectedParentFilters.push(subcategory.toLowerCase());\n                        }\n                    }\n\n                    if(activeChildFilters.length > 0 && affectedParentFilters.includes(suitVal)) {\n                        const suitSubVal = this.getNestedValue(suit, this.metadata[category].childPaths)?.toLowerCase();\n                        if(!activeChildFilters.includes(suitSubVal)) {\n                            return false;\n                        }\n                    }\n                }\n\n                return true;\n            })\n        }, searchedSuits);\n        if(triggerUpdate) {\n            this.props.updateFilteredSuits(res);\n        }\n        return res;\n    }\n\n    renderFilters = () => {\n        return Object.keys(this.state.filters).map((category) => {\n            return (\n                <FilterBox\n                    category={category}\n                    key={category}\n                    checked={this.state.filters[category]}\n                    subcategories={this.state.childFilters[category]}\n                    onChange={this.updateFilter}\n                    hasIcons={this.metadata[category].hasIcons}\n                    isMobile={this.props.isMobile}\n                />\n            )\n        })\n    }\n\n    handleSearch = (searchTerm, results) => {\n        this.setState(\n            {searchByNameResults: results},\n            this.props.updateFilteredSuits(results)\n        );\n    }\n\n    handleClear = () => {\n        this.setState(\n            {searchByNameResults: null},\n            this.filterSuits\n        );\n    }\n\n    handleSelect = (suit) => {\n        this.handleSearch([suit]);\n        this.props.setActiveSuit(suit);\n    }\n\n    handleDesignerSearch = (searchTerm, results) => {\n        const designers = results.map(obj => obj.name);\n        const filteredSuits =\n            this.filterSuits({triggerUpdate: false})\n                .filter(suit => designers.includes(suit.designer));\n\n        this.setState(\n            {searchByDesignerResults: filteredSuits},\n            () => this.props.updateFilteredSuits(filteredSuits)\n        );\n    }\n\n    handleDesignerSelect = (designerObj) => {\n        this.handleDesignerSearch(null, [designerObj])\n    }\n\n\n    handleDesignerClear = () => {\n        this.setState(\n            {searchByDesignerResults: null},\n            this.filterSuits\n        );\n    }\n\n    renderSearchBars = () => {\n        const designers = this.props.suits\n            .map((suit) => suit.designer)\n            .filter((value, index, self) => self.indexOf(value) === index)\n            .filter((name) => name.length > 0)\n            .sort((a, b) => a.localeCompare(b))\n            .map((name) => { return {name} })\n\n        return (\n            <div>\n                {/*<div className='search-bar-wrapper first'>\n                    <ReactSearchAutocomplete\n                        items={this.props.suits}\n                        placeholder='Search by suit name'\n                        onSearch={this.handleSearch}\n                        onSelect={this.handleSelect}\n                        onClear={this.handleClear}\n                        styling={{\n                            fontSize: '11px',\n                            height: '30px',\n                            searchIconMargin: '0px 0px 0px 8px',\n                        }}\n                        useCaching={false}\n                      />\n                      </div>*/}\n                      <div className='search-bar-wrapper'>\n                      <ReactSearchAutocomplete\n                          items={designers}\n                          placeholder='Search by designer'\n                          onSearch={this.handleDesignerSearch}\n                          onSelect={this.handleDesignerSelect}\n                          onClear={this.handleDesignerClear}\n                          styling={{\n                              fontSize: '11px',\n                              height: '30px',\n                              searchIconMargin: '0px 0px 0px 8px',\n                              zIndex: 9 /* weird bug here;\n                                            too high & it renders overtop of zoomed images with a higher z-index than itself,\n                                            too low & list items render below the suit detail pane.\n                                            leaving low for now but should investigate more later */\n                          }}\n                          useCaching={false}\n                        />\n                </div>\n            </div>\n        )\n    }\n\n    getNumAppliedFilters = () => {\n        return Object.values(this.state.filters).map((categoryInfo) => {\n            return Object.values(categoryInfo).filter(c => c).length\n        }).reduce((sum, val) => sum + val, 0)\n    }\n\n    renderClearFiltersBtn = () => {\n        return (\n            <button\n                className='clear-filters-btn'\n                disabled={this.getNumAppliedFilters() === 0}\n                onClick={(e) => {\n                    e.stopPropagation();\n                    this.setState({\n                        filters: initialFilterState,\n                        childFilters: initialChildFilterState\n                    }, this.filterSuits);\n                }}\n            >\n            Clear Filters\n            </button>\n        )\n    }\n\n    render() {\n        const numAppliedFilters = this.getNumAppliedFilters();\n        return (\n            <div className={`suit-filter-container ${this.props.expanded ? 'expanded' : 'collapsed'}`}>\n                <div className='toggle-filter-btn' onClick={this.props.toggleFilterPane}>\n                    <img\n                        className={`toggle-filter-icon${this.props.expanded ? ' collapse' : ''}`}\n                        alt='toggle-filter-view'\n                        title={this.props.expanded ? 'Close filter pane' :'Open filter pane'}\n                        src={this.props.expanded ? 'black-x-icon.png' :'filter-icon.png'}\n                    />\n                    <div className={`toggle-filter-label${this.props.expanded ? ' hidden' : ''}`}>Show Filters</div>\n                    {numAppliedFilters > 0 && <div className={`applied-filters${this.props.expanded ? ' hidden' : ''}`}>{numAppliedFilters}</div>}\n                    {numAppliedFilters > 0 && !this.props.expanded && this.renderClearFiltersBtn()}\n                </div>\n                <div className={this.props.expanded ? '' : 'hidden'}>\n                    <div className='filter-fields-wrapper'>\n                        {this.renderSearchBars()}\n                        {this.renderFilters()}\n                        {this.renderClearFiltersBtn()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import 'whatwg-fetch';\n\nexport default function fetchAllSuits() {\n    return window.fetch('https://sn-suit-reference-api.herokuapp.com/suits')\n        .then(r => r.json())\n}\n\n// maybe figure out if the sheets api has a less hacky way to do this, but ehhhh\nexport function fetchSuitByName(suitName) {\n    return fetchAllSuits().then(\n        suits => suits.filter(suit => suit.name.toLowerCase() === suitName.toLowerCase())?.[0]\n    )\n}\n","import SuitDetail from './suitDetail';\nimport SuitCards from './suits';\nimport SuitFilter from './suitFilter';\nimport fetchAllSuits from './fetchSuitInfo';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport 'whatwg-fetch';\nimport './suits.css';\n\nexport default function SuitPanel() {\n    let [suits, setSuits] = useState([]);\n    let [favourites, setFavourites] = useState([]);\n    let [ownedSuits, setOwnedSuits] = useState([]);\n    let [filteredSuits, setFilteredSuits] = useState([]);\n    let [activeSuit, setActiveSuit] = useState(null);\n    let [fetchedFavourites, setFetchedFavourites] = useState(false);\n    const { user, isAuthenticated, loginWithRedirect } = useAuth0();\n\n    const [width, setWidth] = useState(window.innerWidth);\n    function handleWindowSizeChange() {\n        setWidth(window.innerWidth);\n    }\n    useEffect(() => {\n        window.addEventListener('resize', handleWindowSizeChange);\n        return () => {\n            window.removeEventListener('resize', handleWindowSizeChange);\n        }\n    }, []);\n    const isMobile = width <= 768;\n\n    let [filterPaneOpen, setFilterPaneOpen] = useState(!isMobile);\n\n    useEffect(() => {\n        if(!suits.length) {\n            fetchAllSuits().then(suits => {\n                setSuits(suits);\n                setFilteredSuits(suits);\n            })\n        }\n        if(isAuthenticated && favourites.length === 0  && !fetchedFavourites) {\n            setFetchedFavourites(true);\n            Promise.all([\n                window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}`)\n                    .then(r => r.json())\n                    .then(res => setFavourites(res)),\n\n                window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\n                    .then(r => r.json())\n                    .then(res => setOwnedSuits(res)),\n            ])\n        }\n        if(suits.length > 0 && ownedSuits.length > 0 && suits[0].owned === undefined) {\n            setSuits(suits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id)\n                }\n            }));\n            setFilteredSuits(filteredSuits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id)\n                }\n            }));\n        }\n    })\n\n    const addFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setFavourites([...favourites, suit.id])\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes + 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes + 1\n            }\n            setFilteredSuits(copy);\n        }\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const addOwnedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setOwnedSuits([...ownedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: true\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const removeFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n        const index = favourites.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...favourites];\n            copy.splice(index, 1)\n            setFavourites(copy);\n        }\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes - 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes - 1\n            }\n            setFilteredSuits(copy);\n        }\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const removeOwnedSuit = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n\n        const index = ownedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...ownedSuits];\n            copy.splice(index, 1)\n            setOwnedSuits(copy);\n        }\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: false\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const escFunction = useCallback((event) => {\n      if (event.keyCode === 27) {\n        closePane();\n      }\n    }, []);\n    useEffect(() => {\n      document.addEventListener(\"keydown\", escFunction);\n      return () => {\n        document.removeEventListener(\"keydown\", escFunction);\n      };\n    }, [escFunction]);\n\n    const onSuitClick = (suit) => {\n        activeSuit === suit\n            ? closePane()\n            : setActiveSuit(suit);\n    }\n\n    const closePane = () => {\n        setActiveSuit(null);\n    }\n\n    const toggleFilterPane = () => {\n        setFilterPaneOpen(!filterPaneOpen);\n    }\n\n    const nextSuit = ({forward=true}={}) => {\n        if(!activeSuit) return;\n        const curSuitIdx = filteredSuits.map(suit => suit.name).indexOf(activeSuit.name);\n        const newSuitIdx = curSuitIdx + (forward ? 1 : -1);\n        if(newSuitIdx < 0 || newSuitIdx >= filteredSuits.length) return;\n        setActiveSuit(filteredSuits[newSuitIdx]);\n    }\n\n    if(!suits) return null;\n    return (\n        <div>\n            <SuitFilter\n                suits={suits}\n                updateFilteredSuits={setFilteredSuits}\n                expanded={filterPaneOpen}\n                toggleFilterPane={toggleFilterPane}\n                setActiveSuit={onSuitClick}\n                isMobile={isMobile}\n            />\n            <div className='suit-page-main-content'>\n                <SuitDetail\n                    suit={activeSuit}\n                    closePane={closePane}\n                    nextSuit={nextSuit}\n                    isFavourited={favourites.includes(activeSuit?.id) || false}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    isOwned={ownedSuits.includes(activeSuit?.id) || false}\n                    setOwned={addOwnedSuit}\n                    setNotOwned={removeOwnedSuit}\n                    isMobile={isMobile}\n                />\n                <SuitCards\n                    suits={filteredSuits}\n                    activeSuit={activeSuit}\n                    setActiveSuit={onSuitClick}\n                    nextSuit={nextSuit}\n                    favouriteSuits={favourites}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    ownedSuits={ownedSuits}\n                    setOwned={addOwnedSuit}\n                    setNotOwned={removeOwnedSuit}\n                    filterPaneOpen={activeSuit !== null}\n                />\n            </div>\n      </div>\n    );\n}\n","import { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport {fetchSuitByName} from './fetchSuitInfo';\nimport ZoomableImage from './zoomableImage';\nimport ReflectionInfo from './reflectionInfo';\nimport VideoEmbed from './VideoEmbed';\nimport EventCard from './eventCard';\nimport './suitDetailPage.css';\n\nfunction renderSuitImageTile(imgType, suitImgUrl, reflectionImgUrl) {\n    return (\n        <div className='suit-img-tile' key={imgType}>\n            <div className='suit-tile-title'>{imgType}</div>\n            <div className='suit-tile-img-wrapper'>\n                <ZoomableImage\n                    className='tile-img suit'\n                    src={suitImgUrl}\n                    alt={imgType}\n                />\n                {reflectionImgUrl && <ZoomableImage\n                    className='tile-img reflection'\n                    src={reflectionImgUrl}\n                    alt='reflection'\n                    />}\n            </div>\n        </div>\n    );\n}\n\n// there's gotta be a better way to do this with hooks/HOCs that\n// avoids the duplicative code here but I can't be arsed\nfunction renderVideoImageTile(videoUrl) {\n    if(!videoUrl) return null;\n    return (\n        <div className='suit-img-tile' key='video'>\n            <div className='suit-tile-title'>Suit Display Video</div>\n            <div className='suit-tile-img-wrapper'>\n                <VideoEmbed url={videoUrl}/>\n            </div>\n        </div>\n    );\n}\n\nfunction renderAllSuitImageTiles(suit) {\n    return Object.entries(suit.images)\n        .filter(([imgType, imgUrl]) => !!imgUrl)\n        .map(([imgType, imgUrl]) => {\n            // filter out case where \"promo\" image is just a copy of another img type\n            if(imgType === 'promo' && Object.values(suit.images).slice(1).includes(imgUrl)) {\n                return null;\n            }\n            return renderSuitImageTile(imgType, imgUrl, suit.reflection?.images?.[imgType])\n        });\n}\n\nfunction renderSuitIcons(suit) {\n    return (\n        <div className='suit-detail-icon-container horizontal'>\n            <div className='suit-source full'>{suit.source.subtype ? `${suit.source.type}  ${suit.source.subtype}` : suit.source.type}</div>\n            <img src={`rarity/${suit.rarity.toLowerCase()}.png`} className='suit-icon plain' alt='rarity' />\n            {suit.attribute && <img src={`attribute/${suit.attribute.toLowerCase()}.png`} className='suit-icon' alt='rarity' />}\n        </div>\n    );\n}\n\nexport default function SuitDetailPage() {\n    let [suit, setSuit] = useState(0);\n    let { suitId } = useParams();\n    const suitName = suitId[0].toUpperCase() + suitId.replace(/-/g, ' ').substring(1);\n\n    useEffect(() => {\n        if(!suit) {\n            fetchSuitByName(suitName)\n            .then(setSuit)\n        }\n    }, [suit, suitName])\n\n    useEffect(() => {\n        const suitName = suitId[0].toUpperCase() + suitId.replace(/-/g, ' ').substring(1);\n        fetchSuitByName(suitName).then(setSuit)\n    }, [suitId]);\n\n    const getSuitSourceString = () => {\n        let string = (\n            suit.source.subtype\n                ? suit.source.subtype[0].toUpperCase() + suit.source.subtype.substring(1)\n                : suit.source.type\n        );\n\n        const verboseEventTypes = [\n            'Single SSR',\n            'Double SSR',\n            'Single UR',\n            'Double UR'\n        ];\n        if(suit.source.subtype === 'event' && verboseEventTypes.includes(suit.source.event?.type)) {\n            string = `${suit.source.event.type} event`\n        }\n        if(suit.source.subtype === 'collab' && verboseEventTypes.includes(suit.source.event?.type)) {\n            string = `${suit.source.event.type} collab`\n        }\n\n        return string;\n    }\n\n    if(!suit) return null;\n    return (\n        <div>\n            <div className='suit-detail-info-container'>\n                <div className='suit-title-container'>\n                    {renderSuitIcons(suit)}\n                    <div className='suit-detail-header-container'>\n                        <div className='suit-title full'>{`${suit.designer}  ${suit.name}`}</div>\n                    </div>\n                </div>\n                <div className='suit-detail-infocard-container'>\n                    <EventCard\n                        event={suit.source?.event}\n                        sourceType={getSuitSourceString()}\n                    />\n                    {suit.archive !== '(N/A - no reflection)' && <ReflectionInfo\n                        iconUrl={suit.reflection.images?.icon}\n                        CoR={suit.reflection?.CoR}\n                    />}\n                </div>\n\n            </div>\n\n            <div className='suit-img-tiles-container'>\n                {renderAllSuitImageTiles(suit)}\n                {renderVideoImageTile(suit.video)}\n            </div>\n\n        </div>\n    );\n\n}\n","import { Link } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useState } from 'react';\nimport './Navbar.css';\n\nexport default function Navbar() {\n\n    const { user, isAuthenticated, loginWithRedirect, logout } = useAuth0();\n\n\n// leaving this in (commented) for now, as can repurpose later to browse by nation/attribute\n  // _renderGameLink = (gameID) => {\n  //   return (\n  //     <li>\n  //       <Link id={gameID} to={`/${gameID}`}>{this.props.gamesConfig[gameID].name}</Link>\n  //     </li>\n  //   )\n  // }\n\n  const logoutWithRedirect = () => logout({\n      returnTo: (\n            window.location.origin.includes('localhost')\n          ? window.location.origin\n          : 'https://asukii314.github.io/sn-suit-reference'\n      )\n  });\n\n  const renderWishlistBtn = () => {\n      if(user?.sub) {\n          return (<li><a href={`#/wishlist/${user.sub}`} onClick={() => setMenuOpen(false)}>Wishlist</a></li>)\n      }\n      return (<li><a href='' onClick={() => {loginWithRedirect(); setMenuOpen(false);}}>Wishlist</a></li>)\n  }\n\n  const renderClosetBtn = () => {\n      if(user?.sub) {\n          return (<li><a href={`#/closet/${user.sub}`} onClick={() => setMenuOpen(false)}>Closet</a></li>)\n      }\n      return (<li><a href='' onClick={() => {loginWithRedirect(); setMenuOpen(false);}}>Closet</a></li>)\n  }\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const toggleMenu = () => setMenuOpen(!menuOpen)\n\n    return (\n        <div>\n            {menuOpen && <div className='menu-open-background' onClick={() => setMenuOpen(false)}></div>}\n            <nav role='navigation' className={menuOpen ? 'open' : ''}>\n                <b>\n                    <img className='mobile-hamburger-menu' src='./menu.png' onClick={toggleMenu} />\n                    SN Suit Reference\n                </b>\n                <ul>\n                    <li><a href=\"#/\" onClick={() => setMenuOpen(false)}>All Suits</a></li>\n                    {/*<li><a>Games</a>\n                    <ul>\n                      {Object.keys(this.props.gamesConfig).map(this._renderGameLink)}\n                    </ul>\n                    </li>*/}\n                    {renderWishlistBtn()}\n                    {renderClosetBtn()}\n                    <li><a href=\"#/credits\" onClick={() => setMenuOpen(false)}>Credits</a></li>\n                    <li><a href=\"#/contact\" onClick={() => setMenuOpen(false)}>Contact</a></li>\n                    {!isAuthenticated && <li><a href='' onClick={() => {loginWithRedirect(); setMenuOpen(false);}}>Log In</a></li>}\n                    {isAuthenticated && <li><a onClick={() => {logoutWithRedirect(); setMenuOpen(false);}}>Log Out</a></li>}\n                </ul>\n            </nav>\n        </div>\n    );\n}\n","export default function ContactPage() {\n  return (\n    <div className=\"infopage\">\n      <h3> Get in touch </h3>\n      <p>\n        I love hearing from people! Please don't hesitate to reach out if you...\n        <ul>\n            <li>Spotted a bug to report</li>\n            <li>Notice any inaccurate or missing suit/reflection info</li>\n            <li>Have a suit, photo, or video you want added to the site</li>\n            <li>Have any feedback or suggestions to share</li>\n            <li>Would like to collaborate with me</li>\n            <li>Or any other reason, really!</li>\n        </ul>\n      </p>\n      <p>\n      Here's a few ways to reach me:\n      <ul>\n      <li><b>Discord:</b> <a className='inline' href=\"https://discord.gg/rhwPZYpupN\">Join the site's Discord Server</a></li>\n      <li><b>Email:</b> <a className='inline' href=\"mailto:asukii314.twitch@gmail.com\">asukii314.twitch@gmail.com</a></li>\n      <li><b>Github:</b> <a className='inline' href=\"https://github.com/asukii314/sn-suit-reference\">Public repo is here</a> - feel free to make a PR!</li>\n      </ul>\n      </p>\n    </div>\n  );\n}\n","export default function CreditsPage() {\n  return (\n    <div className=\"infopage\">\n      <h3> Credits </h3>\n      <p>\n        This site wouldn't have been possible without the massive contributions - both explicit and implicit - from many others in the Shining Nikki community. Here they are:\n        <br />\n        <br />\n        <b>Website UI/UX Design Help</b>\n        <ul>\n            <li>Elisa Lam - <a className='inline' href='https://elisalam.squarespace.com'>website</a></li>\n            <li>Natasha Djie - <a className='inline' href='mailto:natasha.djie@gmail.com'>email</a></li>\n        </ul>\n\n\n        <b>SN Reference Images</b>\n        <ul>\n            <li><a className='inline' href='https://lensdump.com/rumi/albums'>Rumi's Lensdump</a> <i>(suit images)</i></li>\n            <li><a className='inline' href='https://lensdump.com/sakushi/albums/'>Saku's Lensdump</a> <i>(reflection art)</i></li>\n            <li><a className='inline' href='https://lensdump.com/a/W7Tra/sub'>SND Lensdump</a> <i>(reflection icons)</i></li>\n            <li><a className='inline' href='https://orangecatty-shiningnikki.tumblr.com/'>Orangecatty's Tumblr</a></li>\n            <li><a className='inline' href='https://twitter.com/rei_sh3'>R E I - Twitter</a></li>\n            <li><a className='inline' href='https://nikki4.com.tw/newslist'>Official TW News</a></li>\n            <li>Official twitter accounts for <a className='inline' href='https://twitter.com/ShiningNikki_JP'>Japan</a> and <a className='inline' href='https://twitter.com/ShiningNikki_SN'>Global</a></li>\n            <li>Various posts on the official <a className='inline' href='https://discord.gg/shiningnikki'>SN Discord</a></li>\n        </ul>\n\n        <b>Misc/Other</b>\n        <ul>\n            <li>Reflection skill data from Kami's <a className='inline' href='https://docs.google.com/spreadsheets/d/1Va9SCIrxni6TUEB1DFxwQK8Vj9mnsCxztsPA9OJja-g/'>Shadow Ranking Sheet</a></li>\n            <li>Metadata for global suits from <a className='inline' href='https://shining-nikki.fandom.com/wiki/Shining_Nikki_Wiki'>the Shining Nikki Wiki</a></li>\n            <li>Help finding/organizing suit data from Demonic Dragon#3189</li>\n            <li>Icons made by <a className='inline' href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" className='inline' title=\"Flaticon\">www.flaticon.com</a></li>\n            <li>And of course, <a className='inline' href=\"#/contact\">me (asukii)</a> to pull it all together :)</li>\n        </ul>\n      </p>\n    </div>\n  );\n}\n","import SuitDetail from './suitDetail';\nimport SuitCards from './suits';\nimport SuitFilter from './suitFilter';\nimport fetchAllSuits from './fetchSuitInfo';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useParams } from 'react-router-dom';\nimport 'whatwg-fetch';\nimport './suits.css';\n\nexport default function WishlistPage () {\n    let [suits, setSuits] = useState([]);\n    let [favourites, setFavourites] = useState([]);\n    let [ownedSuits, setOwnedSuits] = useState([]);\n    let [filteredSuits, setFilteredSuits] = useState([]);\n    let [activeSuit, setActiveSuit] = useState(null);\n    const { user } = useAuth0();\n    const { userid } = useParams();\n    const { isAuthenticated, loginWithRedirect, logout } = useAuth0();\n\n\n    const [width, setWidth] = useState(window.innerWidth);\n    function handleWindowSizeChange() {\n        setWidth(window.innerWidth);\n    }\n    useEffect(() => {\n        window.addEventListener('resize', handleWindowSizeChange);\n        return () => {\n            window.removeEventListener('resize', handleWindowSizeChange);\n        }\n    }, []);\n    const isMobile = width <= 768;\n    let [filterPaneOpen, setFilterPaneOpen] = useState(!isMobile);\n\n    let fetchedSuits = false;\n    useEffect(() => {\n        if(!suits.length && !fetchedSuits) {\n            fetchedSuits = true;\n            Promise.all([\n                fetchAllSuits(),\n                window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${userid}`)\n                    .then(r => r.json()),\n            ]).then((values) => {\n                const [allSuits, favourites, owned] = values;\n                const faveSuits = allSuits.filter(suit => favourites.includes(suit.id));\n                setSuits(faveSuits);\n                setFilteredSuits(faveSuits);\n                if(user?.sub) {\n                    if(user?.sub === userid) {\n                        Promise.all([\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\n                                .then(r => r.json())\n                                .then(setOwnedSuits),\n                            setFavourites(favourites)\n                        ])\n                    } else {\n                        Promise.all([\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\n                                .then(r => r.json())\n                                .then(setOwnedSuits),\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user?.sub}`)\n                                .then(r => r.json())\n                                .then(setFavourites)\n                        ])\n                    }\n                }\n            })\n        }\n\n        if(suits.length > 0 && ownedSuits.length > 0 && suits[0].owned === undefined) {\n            setSuits(suits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id)\n                }\n            }));\n            setFilteredSuits(filteredSuits.map(suit => {\n                return {\n                    ...suit,\n                    owned: ownedSuits.includes(suit.id)\n                }\n            }));\n        }\n    })\n\n    const addFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n\n        if(!suit || !user?.sub) return;\n        setFavourites([...favourites, suit.id])\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes + 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes + 1\n            }\n            setFilteredSuits(copy);\n        }\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const removeFavourite = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n        const index = favourites.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...favourites];\n            copy.splice(index, 1)\n            setFavourites(copy);\n        }\n\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\n        if (suitIdx > -1) {\n            let copy = [...suits];\n            copy[suitIdx] = {\n                ...suits[suitIdx],\n                likes: suits[suitIdx].likes - 1\n            }\n            setSuits(copy);\n            if(activeSuit?.id === suit.id) {\n                setActiveSuit(copy[suitIdx])\n            }\n        }\n\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\n        if (filteredSuitIdx > -1) {\n            let copy = [...filteredSuits];\n            copy[filteredSuitIdx] = {\n                ...filteredSuits[filteredSuitIdx],\n                likes: filteredSuits[filteredSuitIdx].likes - 1\n            }\n            setFilteredSuits(copy);\n        }\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n    const setOwned = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!isAuthenticated) {\n            loginWithRedirect();\n            return;\n        }\n        if(!suit || !user?.sub) return;\n        setOwnedSuits([...ownedSuits, suit.id])\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: true\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'PUT'}\n        )\n    }\n\n    const setNotOwned = (suit,e) => {\n        if(e) e.stopPropagation();\n        if(!suit || !user?.sub) return;\n\n        const index = ownedSuits.indexOf(suit.id);\n        if (index > -1) {\n            let copy = [...ownedSuits];\n            copy.splice(index, 1)\n            setOwnedSuits(copy);\n        }\n\n        const idx = suits.findIndex(s => s.id === suit.id);\n        const suitsCopy = [...suits];\n        suitsCopy[idx] = {\n            ...suits[idx],\n            owned: false\n        };\n        setSuits(suitsCopy);\n\n        window.fetch(\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\n            {method: 'DELETE'}\n        );\n    }\n\n\n    const escFunction = useCallback((event) => {\n      if (event.keyCode === 27) {\n        closePane();\n      }\n    }, []);\n    useEffect(() => {\n      document.addEventListener(\"keydown\", escFunction);\n      return () => {\n        document.removeEventListener(\"keydown\", escFunction);\n      };\n    }, [escFunction]);\n\n    const onSuitClick = (suit) => {\n        activeSuit === suit\n            ? closePane()\n            : setActiveSuit(suit);\n    }\n\n    const closePane = () => {\n        setActiveSuit(null);\n    }\n\n    const toggleFilterPane = () => {\n        setFilterPaneOpen(!filterPaneOpen);\n    }\n\n    const nextSuit = ({forward=true}={}) => {\n        if(!activeSuit) return;\n        const curSuitIdx = filteredSuits.map(suit => suit.name).indexOf(activeSuit.name);\n        const newSuitIdx = curSuitIdx + (forward ? 1 : -1);\n        if(newSuitIdx < 0 || newSuitIdx >= filteredSuits.length) return;\n        setActiveSuit(filteredSuits[newSuitIdx]);\n    }\n\n    if(!suits) return null;\n    return (\n        <div>\n            <SuitFilter\n                suits={suits}\n                updateFilteredSuits={setFilteredSuits}\n                expanded={filterPaneOpen}\n                toggleFilterPane={toggleFilterPane}\n                setActiveSuit={onSuitClick}\n            />\n            <div className='suit-page-main-content'>\n                <SuitDetail\n                    suit={activeSuit}\n                    closePane={closePane}\n                    nextSuit={nextSuit}\n                    isFavourited={favourites.includes(activeSuit?.id) || false}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    isOwned={ownedSuits.includes(activeSuit?.id) || false}\n                    setOwned={setOwned}\n                    setNotOwned={setNotOwned}\n                />\n                <SuitCards\n                    suits={filteredSuits}\n                    activeSuit={activeSuit}\n                    setActiveSuit={onSuitClick}\n                    nextSuit={nextSuit}\n                    favouriteSuits={favourites}\n                    favourite={addFavourite}\n                    unfavourite={removeFavourite}\n                    ownedSuits={ownedSuits}\n                    setOwned={setOwned}\n                    setNotOwned={setNotOwned}\n                />\n            </div>\n      </div>\n    );\n}\n","import SuitDetail from './suitDetail';\r\nimport SuitCards from './suits';\r\nimport SuitFilter from './suitFilter';\r\nimport fetchAllSuits from './fetchSuitInfo';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport 'whatwg-fetch';\r\nimport './suits.css';\r\n\r\nexport default function WishlistPage () {\r\n    let [suits, setSuits] = useState([]);\r\n    let [favourites, setFavourites] = useState([]);\r\n    let [ownedSuits, setOwnedSuits] = useState([]);\r\n    let [filteredSuits, setFilteredSuits] = useState([]);\r\n    let [activeSuit, setActiveSuit] = useState(null);\r\n    const { user } = useAuth0();\r\n    const { userid } = useParams();\r\n    const { isAuthenticated, loginWithRedirect, logout } = useAuth0();\r\n\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n    function handleWindowSizeChange() {\r\n        setWidth(window.innerWidth);\r\n    }\r\n    useEffect(() => {\r\n        window.addEventListener('resize', handleWindowSizeChange);\r\n        return () => {\r\n            window.removeEventListener('resize', handleWindowSizeChange);\r\n        }\r\n    }, []);\r\n    const isMobile = width <= 768;\r\n    let [filterPaneOpen, setFilterPaneOpen] = useState(!isMobile);\r\n\r\n    useEffect(() => {\r\n        if(!suits.length) {\r\n            Promise.all([\r\n                fetchAllSuits(),\r\n                window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${userid}`)\r\n                    .then(r => r.json())\r\n            ]).then((values) => {\r\n                const [allSuits, owned] = values;\r\n                const closet = allSuits.filter(suit => owned.includes(suit.id));\r\n                setSuits(closet);\r\n                setFilteredSuits(closet);\r\n\r\n                if(user?.sub) {\r\n                    if(user?.sub === userid) {\r\n                        Promise.all([\r\n                            setOwnedSuits(owned),\r\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user?.sub}`)\r\n                                .then(r => r.json())\r\n                                .then(setFavourites)\r\n                        ])\r\n                    } else {\r\n                        Promise.all([\r\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}`)\r\n                                .then(r => r.json())\r\n                                .then(setOwnedSuits),\r\n                            window.fetch(`https://sn-suit-reference-api.herokuapp.com/favourites/${user?.sub}`)\r\n                                .then(r => r.json())\r\n                                .then(setFavourites)\r\n                        ])\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        if(suits.length > 0 && ownedSuits.length > 0 && suits[0].owned === undefined) {\r\n            setSuits(suits.map(suit => {\r\n                return {\r\n                    ...suit,\r\n                    owned: ownedSuits.includes(suit.id)\r\n                }\r\n            }));\r\n            setFilteredSuits(filteredSuits.map(suit => {\r\n                return {\r\n                    ...suit,\r\n                    owned: ownedSuits.includes(suit.id)\r\n                }\r\n            }));\r\n        }\r\n    })\r\n\r\n    const addFavourite = (suit,e) => {\r\n        if(e) e.stopPropagation();\r\n\r\n        if(!suit || !user?.sub) return;\r\n        setFavourites([...favourites, suit.id])\r\n\r\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\r\n        if (suitIdx > -1) {\r\n            let copy = [...suits];\r\n            copy[suitIdx] = {\r\n                ...suits[suitIdx],\r\n                likes: suits[suitIdx].likes + 1\r\n            }\r\n            setSuits(copy);\r\n            if(activeSuit?.id === suit.id) {\r\n                setActiveSuit(copy[suitIdx])\r\n            }\r\n        }\r\n\r\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\r\n        if (filteredSuitIdx > -1) {\r\n            let copy = [...filteredSuits];\r\n            copy[filteredSuitIdx] = {\r\n                ...filteredSuits[filteredSuitIdx],\r\n                likes: filteredSuits[filteredSuitIdx].likes + 1\r\n            }\r\n            setFilteredSuits(copy);\r\n        }\r\n\r\n        window.fetch(\r\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\r\n            {method: 'PUT'}\r\n        )\r\n    }\r\n\r\n    const removeFavourite = (suit,e) => {\r\n        if(e) e.stopPropagation();\r\n        if(!suit || !user?.sub) return;\r\n        const index = favourites.indexOf(suit.id);\r\n        if (index > -1) {\r\n            let copy = [...favourites];\r\n            copy.splice(index, 1)\r\n            setFavourites(copy);\r\n        }\r\n\r\n        const suitIdx = suits.map(suit => suit.id).indexOf(suit.id);\r\n        if (suitIdx > -1) {\r\n            let copy = [...suits];\r\n            copy[suitIdx] = {\r\n                ...suits[suitIdx],\r\n                likes: suits[suitIdx].likes - 1\r\n            }\r\n            setSuits(copy);\r\n            if(activeSuit?.id === suit.id) {\r\n                setActiveSuit(copy[suitIdx])\r\n            }\r\n        }\r\n\r\n        const filteredSuitIdx = filteredSuits.map(suit => suit.id).indexOf(suit.id);\r\n        if (filteredSuitIdx > -1) {\r\n            let copy = [...filteredSuits];\r\n            copy[filteredSuitIdx] = {\r\n                ...filteredSuits[filteredSuitIdx],\r\n                likes: filteredSuits[filteredSuitIdx].likes - 1\r\n            }\r\n            setFilteredSuits(copy);\r\n        }\r\n        window.fetch(\r\n            `https://sn-suit-reference-api.herokuapp.com/favourites/${user.sub}/${suit.id}`,\r\n            {method: 'DELETE'}\r\n        );\r\n    }\r\n\r\n    const setOwned = (suit,e) => {\r\n        if(e) e.stopPropagation();\r\n        if(!isAuthenticated) {\r\n            loginWithRedirect();\r\n            return;\r\n        }\r\n        if(!suit || !user?.sub) return;\r\n        setOwnedSuits([...ownedSuits, suit.id])\r\n\r\n        const idx = suits.findIndex(s => s.id === suit.id);\r\n        const suitsCopy = [...suits];\r\n        suitsCopy[idx] = {\r\n            ...suits[idx],\r\n            owned: true\r\n        };\r\n        setSuits(suitsCopy);\r\n\r\n        window.fetch(\r\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\r\n            {method: 'PUT'}\r\n        )\r\n    }\r\n\r\n    const setNotOwned = (suit,e) => {\r\n        if(e) e.stopPropagation();\r\n        if(!suit || !user?.sub) return;\r\n\r\n        const index = ownedSuits.indexOf(suit.id);\r\n        if (index > -1) {\r\n            let copy = [...ownedSuits];\r\n            copy.splice(index, 1)\r\n            setOwnedSuits(copy);\r\n        }\r\n\r\n        const idx = suits.findIndex(s => s.id === suit.id);\r\n        const suitsCopy = [...suits];\r\n        suitsCopy[idx] = {\r\n            ...suits[idx],\r\n            owned: false\r\n        };\r\n        setSuits(suitsCopy);\r\n\r\n        window.fetch(\r\n            `https://sn-suit-reference-api.herokuapp.com/owned/${user.sub}/${suit.id}`,\r\n            {method: 'DELETE'}\r\n        );\r\n    }\r\n\r\n\r\n    const escFunction = useCallback((event) => {\r\n      if (event.keyCode === 27) {\r\n        closePane();\r\n      }\r\n    }, []);\r\n    useEffect(() => {\r\n      document.addEventListener(\"keydown\", escFunction);\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", escFunction);\r\n      };\r\n    }, [escFunction]);\r\n\r\n    const onSuitClick = (suit) => {\r\n        activeSuit === suit\r\n            ? closePane()\r\n            : setActiveSuit(suit);\r\n    }\r\n\r\n    const closePane = () => {\r\n        setActiveSuit(null);\r\n    }\r\n\r\n    const toggleFilterPane = () => {\r\n        setFilterPaneOpen(!filterPaneOpen);\r\n    }\r\n\r\n    const nextSuit = ({forward=true}={}) => {\r\n        if(!activeSuit) return;\r\n        const curSuitIdx = filteredSuits.map(suit => suit.name).indexOf(activeSuit.name);\r\n        const newSuitIdx = curSuitIdx + (forward ? 1 : -1);\r\n        if(newSuitIdx < 0 || newSuitIdx >= filteredSuits.length) return;\r\n        setActiveSuit(filteredSuits[newSuitIdx]);\r\n    }\r\n\r\n    if(!suits) return null;\r\n    return (\r\n        <div>\r\n            <SuitFilter\r\n                suits={suits}\r\n                updateFilteredSuits={setFilteredSuits}\r\n                expanded={filterPaneOpen}\r\n                toggleFilterPane={toggleFilterPane}\r\n                setActiveSuit={onSuitClick}\r\n            />\r\n            <div className='suit-page-main-content'>\r\n                <SuitDetail\r\n                    suit={activeSuit}\r\n                    closePane={closePane}\r\n                    nextSuit={nextSuit}\r\n                    isFavourited={favourites.includes(activeSuit?.id) || false}\r\n                    favourite={addFavourite}\r\n                    unfavourite={removeFavourite}\r\n                    isOwned={ownedSuits.includes(activeSuit?.id) || false}\r\n                    setOwned={setOwned}\r\n                    setNotOwned={setNotOwned}\r\n                />\r\n                <SuitCards\r\n                    suits={filteredSuits}\r\n                    activeSuit={activeSuit}\r\n                    setActiveSuit={onSuitClick}\r\n                    nextSuit={nextSuit}\r\n                    favouriteSuits={favourites}\r\n                    favourite={addFavourite}\r\n                    unfavourite={removeFavourite}\r\n                    ownedSuits={ownedSuits}\r\n                    setOwned={setOwned}\r\n                    setNotOwned={setNotOwned}\r\n                />\r\n            </div>\r\n      </div>\r\n    );\r\n}\r\n","import './App.css';\nimport SuitPage from './suitPage';\nimport SuitDetailPage from './SuitDetailPage';\nimport {Routes} from \"react-router\";\nimport {HashRouter as Router, Route} from \"react-router-dom\";\nimport {Auth0Provider} from \"@auth0/auth0-react\";\nimport Navbar from './Navbar';\nimport ContactPage from './ContactPage';\nimport CreditsPage from './CreditsPage';\nimport Wishlist from './Wishlist';\nimport Closet from './Closet';\n\nfunction App() {\n\n    // hack around a bug in the facebook login redirect handler\n    if (window.location.hash && window.location.hash === '#_=_') {\n        window.location.hash = '';\n    }\n\n  return (\n      <Auth0Provider\n        domain='dev-semwqhjw.us.auth0.com'\n        clientId='96kzE3AqjHdAz8fzOJvTuENJO7AQj0wb'\n        redirectUri={window.location.origin.includes('localhost') ? window.location.origin : 'https://asukii314.github.io/sn-suit-reference' }\n      >\n        <Router>\n            <div className=\"App\">\n                <header className=\"App-header\">\n                <Navbar />\n                <img className='hack' src='./menu.png' />\n                    <Routes>\n                        <Route exact path=\"/\" element={<SuitPage />} />\n                        <Route path=\":suitId\" element={<SuitDetailPage />} />\n                        <Route path=\"/credits\" element={<CreditsPage />} />\n                        <Route path=\"/contact\" element={<ContactPage />} />\n                        <Route path=\"/wishlist/:userid\" element={<Wishlist />} />\n                        <Route path=\"/closet/:userid\" element={<Closet />} />\n                    </Routes>\n                </header>\n            </div>\n        </Router>\n    </Auth0Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}