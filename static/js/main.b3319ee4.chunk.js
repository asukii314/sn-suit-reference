(this["webpackJsonpsn-suit-reference"]=this["webpackJsonpsn-suit-reference"]||[]).push([[0],{22:function(e,t,i){},25:function(e,t,i){},49:function(e,t,i){},50:function(e,t,i){},51:function(e,t,i){},53:function(e,t,i){},65:function(e,t,i){},67:function(e,t,i){},68:function(e,t,i){},83:function(e,t,i){},84:function(e,t,i){},85:function(e,t,i){"use strict";i.r(t);var n=i(1),c=i.n(n),s=i(38),a=i.n(s),o=(i(49),i(50),i(3)),r=i(2),l=i(4),d=i(6),u=i(7),j=i(9),h=i(8),b=(i(51),i(0)),p=function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).toggleZoom=function(){n.setState({zoomed:!n.state.zoomed})},n.state={zoomed:!1,loading:!0},n}return Object(u.a)(i,[{key:"componentWillUpdate",value:function(e,t){this.props.src!==e.src&&this.setState({loading:!0})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"zoomable-img-wrapper",children:[Object(b.jsx)("div",{className:this.state.zoomed?"dark-background":"",onClick:this.toggleZoom}),!this.state.zoomed&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"zoom-in-button.png",className:"zoom-in-button-background",alt:"click to zoom",onClick:this.toggleZoom}),Object(b.jsx)("img",{src:"zoom-in-button.png",className:"zoom-in-button",alt:"click to zoom",onClick:this.toggleZoom})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[Object(b.jsx)("img",{className:"".concat(this.props.className).concat(this.state.loading?" loading":""," zoomed-out"),src:this.props.src,alt:this.props.alt,onClick:this.toggleZoom,onLoad:function(){return e.setState({loading:!1})}}),this.state.loading&&Object(b.jsx)("div",{id:"loading-spinner"})]}),this.state.zoomed&&Object(b.jsx)("img",{className:"".concat(this.props.className," zoomed-in"),src:this.props.src,alt:this.props.alt,onClick:this.toggleZoom})]})}}]),i}(n.Component),f=(i(53),function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).decrement=function(){n.state.level>1&&n.setState({level:n.state.level-1})},n.increment=function(){n.state.level<5&&n.setState({level:n.state.level+1})},n.state={level:1},n}return Object(u.a)(i,[{key:"render",value:function(){var e;return this.props.exists?(null===(e=this.props.iconUrl)||void 0===e?void 0:e.length)?Object(b.jsxs)("div",{className:"reflection-info-card".concat(this.props.compress?" compress":""),children:[Object(b.jsxs)("div",{className:"reflection-card-column",children:[Object(b.jsx)("div",{className:"CoR-title",children:"Skill Info"}),Object(b.jsx)("img",{className:"reflection-icon",src:this.props.iconUrl,alt:"reflection-icon"})]}),Object(b.jsxs)("div",{className:"reflection-card-column",children:[Object(b.jsxs)("div",{className:"level-input",children:[Object(b.jsx)("button",{className:"CoR-level-change",onClick:this.decrement,children:"-"}),Object(b.jsx)("div",{className:"CoR-level",children:"Lvl ".concat(this.state.level)}),Object(b.jsx)("button",{className:"CoR-level-change",onClick:this.increment,children:"+"})]}),Object(b.jsx)("div",{className:"CoR-description",dangerouslySetInnerHTML:{__html:this.props.CoR[this.state.level]}})]})]}):Object(b.jsx)("div",{className:"reflection-info-card".concat(this.props.compress?" compress":""),children:Object(b.jsxs)("div",{className:"reflection-card-column",children:[Object(b.jsx)("div",{className:"CoR-title",children:"Skill Info"}),Object(b.jsx)("div",{className:"CoR-description",style:{marginTop:"5px",color:"darkgray"},children:Object(b.jsx)("i",{children:"(no skill info found)"})})]})}):Object(b.jsx)("div",{className:"reflection-info-card".concat(this.props.compress?" compress":""),children:Object(b.jsxs)("div",{className:"reflection-card-column",children:[Object(b.jsx)("div",{className:"CoR-title",children:"Skill Info"}),Object(b.jsx)("div",{className:"CoR-description",style:{marginTop:"5px",color:"darkgray"},children:"N/A - suit does not have a reflection"})]})})}}]),i}(n.Component)),v=function(e){var t=e.url,i=e.autoplay,n=void 0!==i&&i;if(!t)return null;var c=t.includes("youtu")?"https://www.youtube.com/embed/".concat(t.slice(t.length-11)):t;return n?Object(b.jsx)("div",{className:"video-responsive",children:Object(b.jsx)("iframe",{width:"100%",height:"100%",src:c,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",autoplay:!0,allowFullScreen:!0,title:"YouTube video player"})}):Object(b.jsx)("div",{className:"video-responsive",children:Object(b.jsx)("iframe",{width:"100%",height:"100%",src:c,frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube video player"})})};i(25);function O(e){return Object(b.jsx)("li",{className:"suit-link",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{className:"inline",href:e.detailPageUrl,children:e.name})," - ",e.rarity," ",e.type]})})}function m(e){var t,i=e.event,n=(e.sourceType,(null===(t=i.suits)||void 0===t?void 0:t.length)?Object(o.a)(i.suits):[]);return n.sort((function(e,t){return e.rarity===t.rarity?0:e.rarity<t.rarity?1:-1})),Object(b.jsxs)("div",{className:"event-card-container",children:[Object(b.jsx)("div",{className:"event-title",children:"Event Suits"}),Object(b.jsx)("div",{className:"event-subtitle",children:i.name}),Object(b.jsx)("ul",{className:"event-suit-list",children:n.map(O)})]})}var g=["January","February","March","April","May","June","July","August","September","October","November","December"];function x(e,t){if(!t){if(e){new Date(e);return"".concat(e)}return"N/A"}var i=new Date(e),n=new Date(t);return i.getFullYear()===n.getFullYear()?i.getMonth()===n.getMonth()?"".concat(g[i.getMonth()]," ").concat(i.getDate(),"\u2013").concat(n.getDate(),", ").concat(i.getFullYear()):"".concat(g[i.getMonth()]," ").concat(i.getDate(),"\u2013").concat(g[n.getMonth()]," ").concat(n.getDate(),", ").concat(i.getFullYear()):"".concat(g[i.getMonth()]," ").concat(i.getDate(),", ").concat(i.getFullYear(),"\u2013").concat(g[n.getMonth()]," ").concat(n.getDate(),", ").concat(n.getFullYear())}function w(e){if(e&&e.start){var t=new Date(e.start),i=e.end&&t.getTime()<Date.now()?e.end:e.start;return Object(b.jsxs)("i",{className:"relative-event-date",children:["(",y(i),")"]})}}function k(e,t,i,n){if(!e||0===e.length)return"No release info";var c=new Date(e[0].start),s=Date.now();if(1===e.length&&!e[0].end)return c.getTime()<s?"Permanently Available":"Coming Soon";if(e.length>=2)return new Date(e[e.length-1].end).getTime()<s?"gleam"===i?"Rerun Expected":"Completed":new Date(e[1].start).getTime()<s?"Live Now (Rerun)":"Coming Soon (Rerun)";if(new Date(e[0].end).getTime()<s){return["collab","pinnacle battle","fashion plan"].includes(i)?"Completed":["arena","memory stairway","styling competition"].includes(i)?"Permanently Available":"welfare"===i&&"welfare"===n?"Completed":"Rerun Expected"}return c.getTime()<s?"Live Now":"Coming Soon"}function y(e){var t=new Date(e).getTime(),i=864e5,n=2592e6,c=31536e6,s=Date.now()-t;if(t>Date.now()){var a=Math.round(-1*s/i);return"In ".concat(a," day").concat(1===a?"":"s")}if(s<n){var o=Math.round(1*s/i);return"".concat(o," day").concat(1===o?"":"s"," ago")}if(s<c){var r=Math.round(1*s/n);return"".concat(r," month").concat(1===r?"":"s"," ago")}var l=Math.round(1*s/c);return"".concat(l," year").concat(1===l?"":"s"," ago")}function N(e){var t=e.releases,i=e.sourceType,n=e.sourceSubype,c=e.eventType;return Object(b.jsxs)("div",{className:"event-card-container",children:[Object(b.jsx)("div",{className:"event-title",children:"Releases"}),Object(b.jsx)("div",{className:"event-release-container",children:t&&Object.keys(t).map((function(e){return function(e,t,i,n,c){return Object(b.jsxs)("div",{className:"event-release",children:[Object(b.jsxs)("b",{children:[e,": "]}),k(t,i.toLowerCase(),null===n||void 0===n?void 0:n.toLowerCase(),null===c||void 0===c?void 0:c.toLowerCase()),Object(b.jsx)("ul",{className:"event-release-list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsxs)("li",{children:[x(e.start,e.end)," ",w(e)]})}))})]})}(e,t[e],i,n,c)}))})]})}function S(e){var t=e.attribute,i=e.rarity,n=e.nation,c=e.archive;return Object(b.jsxs)("div",{className:"event-card-container",children:[Object(b.jsx)("div",{className:"event-title",children:"Suit Info"}),Object(b.jsxs)("div",{className:"metadata-list",children:[i&&Object(b.jsxs)("div",{className:"metadata-list-item",children:[Object(b.jsx)("img",{src:"rarity/".concat(i.toLowerCase(),".png"),className:"suit-icon",alt:i}),Object(b.jsx)("b",{children:i})," ",Object(b.jsx)("i",{children:"(rarity)"})]}),t&&Object(b.jsxs)("div",{className:"metadata-list-item",children:[Object(b.jsx)("img",{src:"attribute/".concat(t.toLowerCase(),".png"),className:"suit-icon",alt:t}),Object(b.jsx)("b",{children:t})," ",Object(b.jsx)("i",{children:"(attribute)"})]}),n&&Object(b.jsxs)("div",{className:"metadata-list-item",children:[Object(b.jsx)("img",{src:"nation/".concat(n.toLowerCase(),".png"),className:"suit-icon",alt:n}),Object(b.jsx)("b",{children:n})," ",Object(b.jsx)("i",{children:"(nation)"})]}),c&&"(N/A - no reflection)"!==c&&Object(b.jsxs)("div",{className:"metadata-list-item",children:[Object(b.jsx)("b",{className:"indent",children:c})," ",Object(b.jsx)("i",{children:"(archive)"})]})]})]})}var C=i(17),T=i.n(C),A=(i(55),i(39));i(65);function D(e){var t=e.suit,i=e.nextSuit,c=e.isFavourited,s=e.favourite,a=e.unfavourite,o=e.isOwned,d=e.setOwned,u=e.isAwakened,j=e.setAwakened,h=e.setNotOwned,O=e.closePane,g=e.isMobile,x=Object(n.useState)("promo"),w=Object(l.a)(x,2),k=w[0],y=w[1];T.a.config({left:function(){return i({forward:!1})},right:function(){return i({forward:!0})}}),Object(n.useEffect)((function(){t&&("video"===k&&!t.video||"video"!==k&&!t.images[k])&&y("promo")}));var C=function(e){var t="suit-detail-type-button"+(e===k?" selected":"");return Object(b.jsx)("button",{className:t,onClick:function(){return y(e)},children:e[0].toUpperCase()+e.substring(1)},e)},D=function(){var e,i,n=t.source.subtype?t.source.subtype[0].toUpperCase()+t.source.subtype.substring(1):t.source.type,c=["Single SSR","Double SSR","Single UR","Double UR"];return"event"===t.source.subtype&&c.includes(null===(e=t.source.event)||void 0===e?void 0:e.type)&&(n="".concat(t.source.event.type," event")),"collab"===t.source.subtype&&c.includes(null===(i=t.source.event)||void 0===i?void 0:i.type)&&(n="".concat(t.source.event.type," collab")),["memory stairway","welfare","gleam","arena","recharge"].includes(t.source.subtype)&&(n="".concat(n," suit")),"permanent"===t.source.subtype&&(n="Permanent pavillion suit"),n};if(t){var P,F,R,U,E=null===(P=t.reflection)||void 0===P||null===(F=P.images)||void 0===F?void 0:F[k];return Object(b.jsxs)("div",Object(r.a)(Object(r.a)({className:"suit-detail-container"},T.a.events),{},{tabIndex:"1",children:[Object(b.jsx)("input",{type:"image",className:"suit-select-arrow previous",src:"./down-arrow.png",onClick:function(){return i({forward:!1})}}),Object(b.jsx)("button",{className:"suit-detail-close-button",onClick:O,children:"\u274c"}),Object(b.jsx)("div",{className:"suit-surtitle",children:D()}),Object(b.jsx)("div",{className:"suit-title",children:"".concat(t.designer," \xb7 ").concat("awakened"===k&&""!==t.awakenedName?t.awakenedName:t.name)}),Object(b.jsx)("div",{className:"suit-subtitle",children:(null===(R=t.source)||void 0===R?void 0:R.eventName)===t.name?"":null===(U=t.source)||void 0===U?void 0:U.eventName}),function(e){return Object(b.jsxs)("div",{className:"suit-detail-left-column",children:[Object(b.jsxs)("div",{className:"favourite-icon-container detail",children:[Object(b.jsxs)("div",{className:"labelled-action-container",children:[Object(b.jsx)("div",{className:"suit-attribute-label favourites light",children:u?"Owned \xb7 Awakened":o?"Owned \xb7 Unawakened":"Not Owned"}),!o&&!u&&Object(b.jsx)("img",{src:"tick-empty.png",className:"action-bar-icon owned-icon detail shadowed",alt:"Mark as owned",title:"Mark as owned",onClick:function(e){return d(t,e)}}),o&&!u&&Object(b.jsx)("img",{src:"tick-filled.png",className:"action-bar-icon owned-icon detail shadowed green",alt:"Mark as awakened",title:"Mark as awakened",onClick:function(e){return j(t,e)}}),u&&Object(b.jsx)("img",{src:"tick-filled.png",className:"action-bar-icon owned-icon detail shadowed gold",alt:"Unmark as owned",title:"Unmark as owned",onClick:function(e){return h(t,e)}})]}),Object(b.jsxs)("div",{className:"labelled-action-container",children:[Object(b.jsx)("div",{className:"suit-attribute-label favourites",children:t.likes}),!c&&Object(b.jsx)("img",{src:"heart_outline.png",className:"action-bar-icon detail unfavourited",alt:"Favourite",title:"Favourite",onClick:function(){return s(t)}}),c&&Object(b.jsx)("img",{src:"heart_red.png",className:"action-bar-icon detail favourited",alt:"Unfavourite",title:"Unfavourite",onClick:function(){return a(t)}})]})]}),Object(b.jsxs)("div",{className:"suit-detail-img-container",children:[Object(b.jsxs)("div",{className:"suit-image-buttons-container",children:[Object.entries(t.images).filter((function(e){var t=Object(l.a)(e,2);return t[0],!!t[1]})).map((function(e){var t=Object(l.a)(e,2),i=t[0];return t[1],C(i)})),t.video&&C("video")]}),"video"===k&&Object(b.jsx)(v,{url:t.video}),"video"!==k&&Object(b.jsx)(p,{className:"suit-detail-img",src:t.images[k],alt:k}),e&&Object(b.jsx)(p,{className:"suit-detail-img",src:e,alt:"reflection"})]})]})}(E),function(){var e,i,n,c,s,a,o,r,l,d,u,j,h,p,v,O;return g?Object(b.jsx)("div",{className:"suit-detail-infocard-container",children:Object(b.jsxs)(A.Carousel,{className:"carousel",showStatus:!1,showThumbs:!1,useKeyboardArrows:!1,children:[Object(b.jsx)(S,{attribute:t.attribute,rarity:t.rarity,nation:t.nation,archive:t.archive}),Object(b.jsx)(N,{releases:null===(e=t.source)||void 0===e||null===(i=e.event)||void 0===i?void 0:i.releases,eventType:null===(n=t.source)||void 0===n||null===(c=n.event)||void 0===c?void 0:c.type,sourceType:t.source.type,sourceSubype:t.source.subtype}),Object(b.jsx)(m,{event:null===(s=t.source)||void 0===s?void 0:s.event,sourceType:D()}),Object(b.jsx)(f,{exists:"(N/A - no reflection)"!==t.archive,iconUrl:null===(a=t.reflection)||void 0===a||null===(o=a.images)||void 0===o?void 0:o.icon,CoR:null===(r=t.reflection)||void 0===r?void 0:r.CoR})]})}):Object(b.jsxs)("div",{className:"suit-detail-infocard-container",children:[Object(b.jsx)(N,{releases:null===(l=t.source)||void 0===l||null===(d=l.event)||void 0===d?void 0:d.releases,eventType:null===(u=t.source)||void 0===u||null===(j=u.event)||void 0===j?void 0:j.type,sourceType:t.source.type,sourceSubype:t.source.subtype}),Object(b.jsx)(m,{event:null===(h=t.source)||void 0===h?void 0:h.event,sourceType:D()}),Object(b.jsx)(f,{exists:"(N/A - no reflection)"!==t.archive,iconUrl:null===(p=t.reflection)||void 0===p||null===(v=p.images)||void 0===v?void 0:v.icon,CoR:null===(O=t.reflection)||void 0===O?void 0:O.CoR})]})}(),Object(b.jsx)("input",{type:"image",className:"suit-select-arrow next",src:"./down-arrow.png",onClick:function(){return i({forward:!0})}})]}))}return null}var P=i(16),F=(i(18),i(22),i(27)),R=i.n(F),U=function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).onClick=function(e){n.props.setActiveSuit(e)},n.renderSuitCard=function(e,t){var i,c,s,a,o,l,d,u,j,h;return Object(b.jsxs)("div",Object(r.a)(Object(r.a)(Object(r.a)({className:"suit-card".concat(e===n.props.activeSuit?" active":""),onClick:n.onClick.bind(Object(P.a)(n),e)},T.a.events),{},{tabIndex:"1"},R.a.events),{},{children:[Object(b.jsx)("div",{className:"suit-icon-container",children:Object(b.jsxs)("div",{className:"favourite-icon-container",children:[Object(b.jsxs)("div",{className:"favourite-icon-with-label",children:[!(null===(i=n.props.favouriteSuits)||void 0===i?void 0:i.includes(e.id))&&Object(b.jsx)("img",{src:"heart_black.png",className:"action-bar-icon unfavourited suit-icon shadowed",alt:"Favourite",title:"Favourite",onClick:function(t){return n.props.favourite(e,t)}}),(null===(c=n.props.favouriteSuits)||void 0===c?void 0:c.includes(e.id))&&Object(b.jsx)("img",{src:"heart_red.png",className:"action-bar-icon favourited suit-icon shadowed",alt:"Unfavourite",title:"Unfavourite",onClick:function(t){return n.props.unfavourite(e,t)}}),Object(b.jsx)("div",{className:"icon-label",children:(null===(s=n.props.favouriteSuits)||void 0===s?void 0:s.includes(e.id))?"Saved to wishlist":"Not on wishlist"})]}),Object(b.jsxs)("div",{className:"favourite-icon-with-label",children:[!(null===(a=n.props.ownedSuits)||void 0===a?void 0:a.includes(e.id))&&!(null===(o=n.props.awakenedSuits)||void 0===o?void 0:o.includes(e.id))&&Object(b.jsx)("img",{src:"tick-empty.png",className:"action-bar-icon owned-icon suit-icon shadowed",alt:"Mark as owned",title:"Mark as owned",onClick:function(t){return n.props.setOwned(e,t)}}),(null===(l=n.props.ownedSuits)||void 0===l?void 0:l.includes(e.id))&&!(null===(d=n.props.awakenedSuits)||void 0===d?void 0:d.includes(e.id))&&Object(b.jsx)("img",{src:"tick-filled.png",className:"action-bar-icon owned-icon suit-icon shadowed green",alt:"Mark as awakened",title:"Mark as awakened",onClick:function(t){return n.props.setAwakened(e,t)}}),(null===(u=n.props.awakenedSuits)||void 0===u?void 0:u.includes(e.id))&&Object(b.jsx)("img",{src:"tick-filled.png",className:"action-bar-icon owned-icon suit-icon shadowed gold",alt:"Unmark as owned",title:"Unmark as owned",onClick:function(t){return n.props.setNotOwned(e,t)}}),Object(b.jsx)("div",{className:"icon-label",children:(null===(j=n.props.awakenedSuits)||void 0===j?void 0:j.includes(e.id))?"Owned \xb7 Awakened":(null===(h=n.props.ownedSuits)||void 0===h?void 0:h.includes(e.id))?"Owned \xb7 Unawakened":"Not owned"})]}),e.rarity&&Object(b.jsxs)("div",{className:"favourite-icon-with-label",children:[Object(b.jsx)("img",{src:"rarity/".concat(e.rarity.toLowerCase(),".png"),className:"suit-icon shadowed",alt:"rarity"}),Object(b.jsxs)("div",{className:"icon-label",children:[e.rarity.toUpperCase()," rarity"]})]}),e.attribute&&Object(b.jsxs)("div",{className:"favourite-icon-with-label",children:[e.attribute&&Object(b.jsx)("img",{src:"attribute/".concat(e.attribute.toLowerCase(),".png"),className:"suit-icon",alt:"attribute"}),Object(b.jsxs)("div",{className:"icon-label",children:[e.attribute," attribute"]})]}),e.nation&&Object(b.jsxs)("div",{className:"favourite-icon-with-label",children:[e.nation&&Object(b.jsx)("img",{src:"nation/".concat(e.nation.toLowerCase(),".png"),className:"suit-icon",alt:"nation"}),Object(b.jsxs)("div",{className:"icon-label",children:[e.nation," nation"]})]})]})}),Object(b.jsx)("img",{src:e.images.promo,className:"suit-img",alt:e.name}),Object(b.jsxs)("p",{className:"suit-name",children:[" ",e.name," "]})]}),t)},n.setActiveSuit=function(e){n.props.setActiveSuit(e)},n.state={},T.a.config({left:function(){return n.props.nextSuit({forward:!1})},right:function(){return n.props.nextSuit({forward:!0})}}),R.a.config({left:function(){return n.props.nextSuit({forward:!1})},right:function(){return n.props.nextSuit({forward:!0})}}),n}return Object(u.a)(i,[{key:"render",value:function(){return this.props.suits?Object(b.jsx)("div",{className:"suit-cards-container".concat(this.props.suits.length?" loaded":"").concat(this.props.filterPaneOpen?" pane-open":" pane-closed"),children:this.props.suits.map(this.renderSuitCard)}):null}}]),i}(n.Component),E=i(12),I=i(21),L=(i(67),i(68),function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).toggleExpand=function(){n.setState({expanded:!n.state.expanded})},n.toggleCheckbox=function(e,t,i){n.props.onChange(n.props.category,n.props.category===t?null:t,e,i.target.checked)},n.showChildren=function(e){var t;return(null===(t=n.props.subcategories)||void 0===t?void 0:t[e])&&n.props.checked[e]?Object(b.jsx)("div",{className:"child-option-container",children:n.showOptions(Object.keys(n.props.subcategories[e]),n.props.subcategories[e],e)}):null},n.showOptions=function(e,t,i){return e.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"filter-option",children:[Object(b.jsx)("input",{type:"checkbox",checked:t[e],onChange:n.toggleCheckbox.bind(Object(P.a)(n),e,i)},"".concat(e,"-checkbox")),n.props.hasIcons&&Object(b.jsx)("img",{className:"filter-icon",alt:"".concat(e,"-icon"),src:"".concat(n.props.category.toLowerCase(),"/").concat(e.toLowerCase(),".png")},"".concat(e,"-icon")),Object(b.jsx)("div",{className:"filter-label",children:e},"".concat(e,"-label"))]},"".concat(e,"-container")),n.showChildren(e)]},"".concat(e,"-wrapper"))}))},n.showAllOptions=function(){return n.showOptions(Object.keys(n.props.checked),n.props.checked,n.props.category)},n.getNumAppliedFilters=function(){return Object.values(n.props.checked).filter((function(e){return e})).length},n.state={expanded:!1},n}return Object(u.a)(i,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"filter-box-container",children:[Object(b.jsxs)("div",{className:"filter-box-title",onClick:this.toggleExpand,children:[Object(b.jsxs)("div",{className:"title-text-wrapper",children:[Object(b.jsx)("div",{children:this.props.category}),this.getNumAppliedFilters()>0&&Object(b.jsx)("div",{className:"applied-filters",children:this.getNumAppliedFilters()})]}),Object(b.jsx)("div",{style:{fontWeight:"normal",fontSize:"10px"},children:this.state.expanded?"\u2227":"\u2228"})]}),this.state.expanded&&Object(b.jsx)("div",{className:"filter-option-container",children:this.showAllOptions()})]})}}]),i}(n.Component)),M=i(40),W={Rarity:{SR:!1,SSR:!1,UR:!1},Attribute:{Cool:!1,Elegant:!1,Fresh:!1,Sexy:!1,Sweet:!1},Source:{Pavillion:!1,Crafting:!1,Free:!1,Paid:!1,"Other event type":!1},Nation:{Apple:!1,Cloud:!1,Ninir:!1,North:!1,Pigeon:!1,Ruin:!1,Wasteland:!1,Special:!1},Obtained:{"Not Owned":!1,Unawakened:!1,Awakened:!1}},z={Source:{Pavillion:{Permanent:!1,Gleam:!1,Event:!1,Collab:!1},Crafting:{Lifetime:!1,"Chapter suit":!1,"Mind maze":!1,"Memory stairway":!1,Other:!1},Free:{Arena:!1,"Pinnacle battle":!1,"Styling competition":!1,"Intel hub":!1,Welfare:!1,Other:!1},Paid:{Recharge:!1,"VIP level":!1,"Fashion plan":!1,"Purple diamonds":!1}}},B=function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).getNestedValue=function(e,t){var i,n=e,c=Object(I.a)(t);try{for(c.s();!(i=c.n()).done;){var s,a=i.value;n=null===(s=n)||void 0===s?void 0:s[a]}}catch(o){c.e(o)}finally{c.f()}return String(n)},n.updateFilter=function(e,t,i,c){return null===t?n.setState({filters:Object(r.a)(Object(r.a)({},n.state.filters),{},Object(E.a)({},e,Object(r.a)(Object(r.a)({},n.state.filters[e]),{},Object(E.a)({},i,c))))},n.filterSuits):n.setState({childFilters:Object(r.a)(Object(r.a)({},n.state.childFilters),{},Object(E.a)({},e,Object(r.a)(Object(r.a)({},n.state.childFilters[e]),{},Object(E.a)({},t,Object(r.a)(Object(r.a)({},n.state.childFilters[e][t]),{},Object(E.a)({},i,c))))))},n.filterSuits)},n.filterSuits=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerUpdate,i=void 0===t||t,c=Object.keys(n.state.filters).filter((function(e){return Object.values(n.state.filters[e]).some((function(e){return!!e}))})),s=n.props.suits.filter((function(e){return!(n.state.searchByNameResults&&!n.state.searchByNameResults.map((function(e){return e.name})).includes(e.name)||n.state.searchByDesignerResults&&!n.state.searchByDesignerResults.map((function(e){return e.name})).includes(e.name))})),a=c.reduce((function(e,t){var i=Object.keys(n.state.filters[t]).filter((function(e){return n.state.filters[t][e]})).map((function(e){return e.toLowerCase()})),c=Object.keys(n.state.filters[t]).filter((function(e){return n.state.filters[t][e]}));return e.filter((function(e){var s=n.getNestedValue(e,n.metadata[t].paths).toLowerCase();if(!i.includes(s))return!1;if(n.state.childFilters[t]){var a,o=[],r=[],l=Object(I.a)(c);try{var d=function(){var e,i=a.value;if(!n.state.childFilters[t][i])return"continue";var c=Object.keys(null===(e=n.state.childFilters[t])||void 0===e?void 0:e[i]).filter((function(e){var c;return null===(c=n.state.childFilters[t][i])||void 0===c?void 0:c[e]})).map((function(e){return e.toLowerCase()}));c.length>0&&(o=o.concat(c),r.push(i.toLowerCase()))};for(l.s();!(a=l.n()).done;)d()}catch(h){l.e(h)}finally{l.f()}if(o.length>0&&r.includes(s)){var u,j=null===(u=n.getNestedValue(e,n.metadata[t].childPaths))||void 0===u?void 0:u.toLowerCase();if(!o.includes(j))return!1}}return!0}))}),s);return i&&n.props.updateFilteredSuits(a),a},n.renderFilters=function(){return Object.keys(n.state.filters).map((function(e){return Object(b.jsx)(L,{category:e,checked:n.state.filters[e],subcategories:n.state.childFilters[e],onChange:n.updateFilter,hasIcons:n.metadata[e].hasIcons,isMobile:n.props.isMobile},e)}))},n.handleSearch=function(e,t){n.setState({searchByNameResults:t},n.props.updateFilteredSuits(t))},n.handleClear=function(){n.setState({searchByNameResults:null},n.filterSuits)},n.handleSelect=function(e){n.handleSearch([e]),n.props.setActiveSuit(e)},n.handleDesignerSearch=function(e,t){var i=t.map((function(e){return e.name})),c=n.filterSuits({triggerUpdate:!1}).filter((function(e){return i.includes(e.designer)}));n.setState({searchByDesignerResults:c},(function(){return n.props.updateFilteredSuits(c)}))},n.handleDesignerSelect=function(e){n.handleDesignerSearch(null,[e])},n.handleDesignerClear=function(){n.setState({searchByDesignerResults:null},n.filterSuits)},n.renderSearchBars=function(){var e=n.props.suits.map((function(e){return e.designer})).filter((function(e,t,i){return i.indexOf(e)===t})).filter((function(e){return e.length>0})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{name:e}}));return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"search-bar-wrapper",children:Object(b.jsx)(M.ReactSearchAutocomplete,{items:e,placeholder:"Search by designer",onSearch:n.handleDesignerSearch,onSelect:n.handleDesignerSelect,onClear:n.handleDesignerClear,styling:{fontSize:"11px",height:"30px",searchIconMargin:"0px 0px 0px 8px",zIndex:9},useCaching:!1})})})},n.getNumAppliedFilters=function(){return Object.values(n.state.filters).map((function(e){return Object.values(e).filter((function(e){return e})).length})).reduce((function(e,t){return e+t}),0)},n.renderClearFiltersBtn=function(){return Object(b.jsx)("button",{className:"clear-filters-btn",disabled:0===n.getNumAppliedFilters(),onClick:function(e){e.stopPropagation(),n.setState({filters:W,childFilters:z},n.handleDesignerClear)},children:"Clear Filters"})},n.renderSortBtn=function(e){return e===n.props.activeSortType?Object(b.jsxs)("button",{className:"sort-button active",onClick:function(t){return n.props.setSortType(e)},children:[e,Object(b.jsx)("img",{className:"sort-dir-icon ".concat(n.props.isDescending?"descending":"ascending"),alt:n.props.isDescending?"Descending":"Ascending",title:n.props.isDescending?"Descending":"Ascending",src:"down-filled-triangular-arrow.png"})]}):Object(b.jsx)("button",{className:"sort-button",onClick:function(t){return n.props.setSortType(e)},children:e})},n.renderSortBtns=function(){return n.props.sortTypes?Object(b.jsxs)("div",{className:"sort-bar-container",children:[Object(b.jsxs)("div",{className:"sort-btn-container",children:["Sort by:",n.props.sortTypes.map(n.renderSortBtn)]}),n.props.expanded&&Object(b.jsxs)("div",{className:"suit-count-label expanded",children:["Suits (",n.props.suitCount,")"]})]}):null},n.state={searchByNameResults:null,searchByDesignerResults:null,filters:W,childFilters:z},n.metadata={Rarity:{paths:["rarity"],hasIcons:!0},Attribute:{paths:["attribute"],hasIcons:!0},Source:{paths:["source","type"],hasIcons:!1,childPaths:["source","subtype"]},Nation:{paths:["nation"],hasIcons:!0},Obtained:{paths:["obtained"],hasIcons:!1}},n}return Object(u.a)(i,[{key:"render",value:function(){var e=this.getNumAppliedFilters();return Object(b.jsxs)("div",{className:"suit-filter-container ".concat(this.props.expanded?"expanded":"collapsed"),children:[Object(b.jsxs)("div",{className:"toggle-filter-btn",onClick:this.props.toggleFilterPane,children:[Object(b.jsx)("img",{className:"toggle-filter-icon".concat(this.props.expanded?" collapse":""),alt:"toggle-filter-view",title:this.props.expanded?"Close filter pane":"Open filter pane",src:this.props.expanded?"black-x-icon.png":"filter-icon.png"}),Object(b.jsx)("div",{className:"toggle-filter-label".concat(this.props.expanded?" hidden":""),children:"Show Filters"}),e>0&&Object(b.jsx)("div",{className:"applied-filters".concat(this.props.expanded?" hidden":""),children:e}),e>0&&!this.props.expanded&&this.renderClearFiltersBtn()]}),Object(b.jsxs)("div",{className:"filter-wrapper ".concat(this.props.expanded?"visible":"hidden"),children:[Object(b.jsxs)("div",{className:"filter-fields-wrapper",children:[this.renderSearchBars(),this.renderFilters(),this.renderClearFiltersBtn()]}),Object(b.jsx)("hr",{className:"filter-divider"}),this.renderSortBtns()]}),!this.props.expanded&&Object(b.jsxs)("div",{className:"suit-count-label collapsed",children:["Suits (",this.props.suitCount,")"]})]})}}]),i}(n.Component);function Y(){return window.fetch("https://sn-suit-reference-api.herokuapp.com/suits").then((function(e){return e.json()}))}function q(e){return window.fetch("https://sn-suit-reference-api.herokuapp.com/suits/".concat(e)).then((function(e){return e.json()}))}var _=i(11);function J(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),i=t[0],c=t[1],s=Object(n.useState)([]),a=Object(l.a)(s,2),d=a[0],u=a[1],j=Object(n.useState)([]),h=Object(l.a)(j,2),p=h[0],f=h[1],v=Object(n.useState)([]),O=Object(l.a)(v,2),m=O[0],g=O[1],x=Object(n.useState)([]),w=Object(l.a)(x,2),k=w[0],y=w[1],N=Object(n.useState)(null),S=Object(l.a)(N,2),C=S[0],T=S[1],A=Object(n.useState)(!1),P=Object(l.a)(A,2),F=P[0],R=P[1],E=Object(n.useState)(!0),I=Object(l.a)(E,2),L=I[0],M=I[1],W=Object(n.useState)("Alphabetical"),z=Object(l.a)(W,2),q=z[0],J=z[1],V=Object(_.b)(),H=V.user,K=V.isAuthenticated,Q=V.loginWithRedirect,Z=Object(n.useState)(window.innerWidth),G=Object(l.a)(Z,2);G[0],G[1];var X=!0,$=Object(n.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ie=ee[1];Object(n.useEffect)((function(){i.length||Y().then((function(e){c(e),g(e)})),K&&0===d.length&&!F&&(R(!0),Promise.all([window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(H.sub)).then((function(e){return e.json()})).then((function(e){return u(e)})),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(H.sub)).then((function(e){return e.json()})).then((function(e){return f(e)})),window.fetch("https://sn-suit-reference-api.herokuapp.com/awakened/".concat(H.sub)).then((function(e){return e.json()})).then((function(e){return y(e)}))])),i.length>0&&p.length>0&&void 0===i[0].owned&&(c(i.map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{owned:p.includes(e.id),obtained:null!==(t=e.obtained)&&void 0!==t?t:p.includes(e.id)?"Unawakened":"Not Owned"})}))),g(m.map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{owned:p.includes(e.id),obtained:null!==(t=e.obtained)&&void 0!==t?t:p.includes(e.id)?"Unawakened":"Not Owned"})})))),i.length>0&&k.length>0&&void 0===i[0].awakened&&(c(i.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{awakened:k.includes(e.id),obtained:k.includes(e.id)?"Awakened":e.obtained})}))),g(m.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{awakened:k.includes(e.id),obtained:k.includes(e.id)?"Awakened":e.obtained})}))))}));var ne=function(e,t){if(t&&t.stopPropagation(),K){if(e&&(null===H||void 0===H?void 0:H.sub)){u([].concat(Object(o.a)(d),[e.id]));var n=i.map((function(e){return e.id})).indexOf(e.id);if(n>-1){var s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{likes:i[n].likes+1}),c(s),(null===C||void 0===C?void 0:C.id)===e.id&&T(s[n])}var a=m.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var l=Object(o.a)(m);l[a]=Object(r.a)(Object(r.a)({},m[a]),{},{likes:m[a].likes+1}),g(l)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(H.sub,"/").concat(e.id),{method:"PUT"})}}else Q()},ce=function(e,t){if(t&&t.stopPropagation(),K){if(e&&(null===H||void 0===H?void 0:H.sub)){f([].concat(Object(o.a)(p),[e.id]));var n=i.findIndex((function(t){return t.id===e.id})),s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{owned:!0,obtained:"Unawakened"}),c(s),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(H.sub,"/").concat(e.id),{method:"PUT"})}}else Q()},se=function(e,t){if(t&&t.stopPropagation(),K){if(e&&(null===H||void 0===H?void 0:H.sub)){y([].concat(Object(o.a)(k),[e.id]));var n=i.findIndex((function(t){return t.id===e.id})),s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{awakened:!0,obtained:"Awakened"}),c(s),window.fetch("https://sn-suit-reference-api.herokuapp.com/awakened/".concat(H.sub,"/").concat(e.id),{method:"PUT"})}}else Q()},ae=function(e,t){if(t&&t.stopPropagation(),e&&(null===H||void 0===H?void 0:H.sub)){var n=d.indexOf(e.id);if(n>-1){var s=Object(o.a)(d);s.splice(n,1),u(s)}var a=i.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var l=Object(o.a)(i);l[a]=Object(r.a)(Object(r.a)({},i[a]),{},{likes:i[a].likes-1}),c(l),(null===C||void 0===C?void 0:C.id)===e.id&&T(l[a])}var j=m.map((function(e){return e.id})).indexOf(e.id);if(j>-1){var h=Object(o.a)(m);h[j]=Object(r.a)(Object(r.a)({},m[j]),{},{likes:m[j].likes-1}),g(h)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(H.sub,"/").concat(e.id),{method:"DELETE"})}},oe=function(e,t){if(t&&t.stopPropagation(),e&&(null===H||void 0===H?void 0:H.sub)){var n=p.indexOf(e.id);if(n>-1){var s=Object(o.a)(p);s.splice(n,1),f(s)}if((n=k.indexOf(e.id))>-1){var a=Object(o.a)(k);a.splice(n,1),y(a)}var l=i.findIndex((function(t){return t.id===e.id})),d=Object(o.a)(i);d[l]=Object(r.a)(Object(r.a)({},i[l]),{},{owned:!1,awakened:!1,obtained:"Not Owned"}),c(d),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(H.sub,"/").concat(e.id),{method:"DELETE"})}},re=Object(n.useCallback)((function(e){27===e.keyCode&&de()}),[]);Object(n.useEffect)((function(){return document.addEventListener("keydown",re),function(){document.removeEventListener("keydown",re)}}),[re]);var le=function(e){C===e?de():T(e)},de=function(){T(null)},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forward,i=void 0===t||t;if(C){var n=m.map((function(e){return e.name})).indexOf(C.name),c=n+(i?1:-1);c<0||c>=m.length||T(m[c])}};return i?Object(b.jsxs)("div",{children:[Object(b.jsx)(B,{suits:i,updateFilteredSuits:g,suitCount:m.length,expanded:te,toggleFilterPane:function(){ie(!te)},setActiveSuit:le,isMobile:X,sortTypes:["Alphabetical","# of Likes","1st Release (TW)"],activeSortType:q,isDescending:L,setSortType:function(e){var t=Object(o.a)(i),n=Object(o.a)(m);if(e===q)return t.reverse(),c(t),n.reverse(),g(n),void M(!L);switch(J(e),M(!0),e){case"# of Likes":t.sort((function(e,t){return t.likes-e.likes})),c(t),n.sort((function(e,t){return t.likes-e.likes})),g(n);break;case"Alphabetical":t.sort((function(e,t){return t.name.toUpperCase()<e.name.toUpperCase()?1:-1})),c(t),n.sort((function(e,t){return t.name.toUpperCase()<e.name.toUpperCase()?1:-1})),g(n);break;case"1st Release (TW)":var s=function(e,t){var i,n,c,s,a,o,r,l,d,u,j=null===(i=e.source)||void 0===i||null===(n=i.event)||void 0===n||null===(c=n.releases)||void 0===c||null===(s=c.TW)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.start,h=null===(o=t.source)||void 0===o||null===(r=o.event)||void 0===r||null===(l=r.releases)||void 0===l||null===(d=l.TW)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.start;return j||h?j?h?Date.parse(h)-Date.parse(j):-1:1:0};t.sort(s),c(t),n.sort(s),g(n)}}}),Object(b.jsxs)("div",{className:"suit-page-main-content",children:[Object(b.jsx)(D,{suit:C,closePane:de,nextSuit:ue,isFavourited:d.includes(null===C||void 0===C?void 0:C.id)||!1,favourite:ne,unfavourite:ae,isOwned:p.includes(null===C||void 0===C?void 0:C.id)||!1,isAwakened:k.includes(null===C||void 0===C?void 0:C.id)||!1,setOwned:ce,setAwakened:se,setNotOwned:oe,isMobile:X}),Object(b.jsx)(U,{suits:m,activeSuit:C,setActiveSuit:le,nextSuit:ue,favouriteSuits:d,favourite:ne,unfavourite:ae,ownedSuits:p,awakenedSuits:k,setOwned:ce,setAwakened:se,setNotOwned:oe,filterPaneOpen:null!==C})]})]}):null}var V=i(5);i(83);function H(e){return Object.entries(e.images).filter((function(e){var t=Object(l.a)(e,2);t[0];return!!t[1]})).map((function(t){var i,n,c=Object(l.a)(t,2),s=c[0],a=c[1];return"promo"===s&&Object.values(e.images).slice(1).includes(a)?null:function(e,t,i){return Object(b.jsxs)("div",{className:"suit-img-tile",children:[Object(b.jsx)("div",{className:"suit-tile-title",children:e}),Object(b.jsxs)("div",{className:"suit-tile-img-wrapper",children:[Object(b.jsx)(p,{className:"tile-img suit",src:t,alt:e}),i&&Object(b.jsx)(p,{className:"tile-img reflection",src:i,alt:"reflection"})]})]},e)}(s,a,null===(i=e.reflection)||void 0===i||null===(n=i.images)||void 0===n?void 0:n[s])}))}function K(e){return Object(b.jsxs)("div",{className:"suit-detail-icon-container horizontal",children:[Object(b.jsx)("div",{className:"suit-source full",children:e.source.subtype?"".concat(e.source.type," \xb7 ").concat(e.source.subtype):e.source.type}),Object(b.jsx)("img",{src:"rarity/".concat(e.rarity.toLowerCase(),".png"),className:"suit-icon plain",alt:"rarity"}),e.attribute&&Object(b.jsx)("img",{src:"attribute/".concat(e.attribute.toLowerCase(),".png"),className:"suit-icon",alt:"rarity"})]})}function Q(){var e,t,i,c,s,a,o,r=Object(n.useState)(0),d=Object(l.a)(r,2),u=d[0],j=d[1],h=Object(V.g)().suitId,p=h[0].toUpperCase()+h.replace(/-/g," ").substring(1);Object(n.useEffect)((function(){u||q(h).then(j)}),[u,p]),Object(n.useEffect)((function(){q(h).then(j)}),[h]);var O;return u?Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"suit-detail-info-container",children:[Object(b.jsxs)("div",{className:"suit-title-container",children:[K(u),Object(b.jsx)("div",{className:"suit-detail-header-container",children:Object(b.jsx)("div",{className:"suit-title full",children:"".concat(u.designer," \xb7 ").concat(u.name)})})]}),Object(b.jsxs)("div",{className:"suit-page-infocard-container",children:[Object(b.jsx)(N,{releases:null===(e=u.source)||void 0===e||null===(t=e.event)||void 0===t?void 0:t.releases,eventType:null===(i=u.source)||void 0===i||null===(c=i.event)||void 0===c?void 0:c.type,sourceType:u.source.type,sourceSubype:u.source.subtype}),Object(b.jsx)(m,{event:null===(s=u.source)||void 0===s?void 0:s.event,sourceType:function(){var e,t,i=u.source.subtype?u.source.subtype[0].toUpperCase()+u.source.subtype.substring(1):u.source.type,n=["Single SSR","Double SSR","Single UR","Double UR"];return"event"===u.source.subtype&&n.includes(null===(e=u.source.event)||void 0===e?void 0:e.type)&&(i="".concat(u.source.event.type," event")),"collab"===u.source.subtype&&n.includes(null===(t=u.source.event)||void 0===t?void 0:t.type)&&(i="".concat(u.source.event.type," collab")),i}()}),Object(b.jsx)(f,{iconUrl:null===(a=u.reflection.images)||void 0===a?void 0:a.icon,CoR:null===(o=u.reflection)||void 0===o?void 0:o.CoR,exists:"(N/A - no reflection)"!==u.archive,compress:!0})]})]}),Object(b.jsxs)("div",{className:"suit-img-tiles-container",children:[H(u),(O=u.video,O?Object(b.jsxs)("div",{className:"suit-img-tile",children:[Object(b.jsx)("div",{className:"suit-tile-title",children:"Suit Display Video"}),Object(b.jsx)("div",{className:"suit-tile-img-wrapper",children:Object(b.jsx)(v,{url:O})})]},"video"):null)]})]}):null}var Z=i(14);i(84);function G(){var e=Object(_.b)(),t=e.user,i=e.isAuthenticated,c=e.loginWithRedirect,s=e.logout,a=Object(n.useState)(!1),o=Object(l.a)(a,2),r=o[0],d=o[1];return Object(b.jsxs)("div",{children:[r&&Object(b.jsx)("div",{className:"menu-open-background",onClick:function(){return d(!1)}}),Object(b.jsxs)("nav",{role:"navigation",className:r?"open":"",children:[Object(b.jsxs)("b",{children:[Object(b.jsx)("img",{className:"mobile-hamburger-menu",src:"./menu.png",onClick:function(){return d(!r)}}),"SN Suit Reference"]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/",onClick:function(){return d(!1)},children:"All Suits"})}),(null===t||void 0===t?void 0:t.sub)?Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/wishlist/".concat(t.sub),onClick:function(){return d(!1)},children:"Wishlist"})}):Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",onClick:function(){c(),d(!1)},children:"Wishlist"})}),(null===t||void 0===t?void 0:t.sub)?Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/closet/".concat(t.sub),onClick:function(){return d(!1)},children:"Closet"})}):Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",onClick:function(){c(),d(!1)},children:"Closet"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/credits",onClick:function(){return d(!1)},children:"Credits"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/contact",onClick:function(){return d(!1)},children:"Contact"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#/privacy",onClick:function(){return d(!1)},children:"Privacy"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"https://ko-fi.com/asukii",target:"_blank",onClick:function(){return d(!1)},children:"Donate"})}),!i&&Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",onClick:function(){c(),d(!1)},children:"Log In"})}),i&&Object(b.jsx)("li",{children:Object(b.jsx)("a",{onClick:function(){s({returnTo:window.location.origin.includes("localhost")?window.location.origin:"https://asukii314.github.io/sn-suit-reference"}),d(!1)},children:"Log Out"})})]})]})]})}function X(){return Object(b.jsxs)("div",{className:"infopage",children:[Object(b.jsx)("h2",{children:" Get in touch "}),Object(b.jsxs)("p",{children:["I love hearing from people! Please don't hesitate to reach out if you...",Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Spotted a bug to report"}),Object(b.jsx)("li",{children:"Notice any inaccurate or missing suit/reflection info"}),Object(b.jsx)("li",{children:"Have a suit, photo, or video you want added to the site"}),Object(b.jsx)("li",{children:"Have any feedback or suggestions to share"}),Object(b.jsx)("li",{children:"Would like to collaborate with me"}),Object(b.jsx)("li",{children:"Or any other reason, really!"})]})]}),Object(b.jsxs)("p",{children:["Here's a few ways to reach me:",Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Discord:"})," ",Object(b.jsx)("a",{className:"inline",href:"https://discord.gg/P4rMqBamYc",children:"Join the site's Discord Server"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Email:"})," ",Object(b.jsx)("a",{className:"inline",href:"mailto:asukii314.twitch@gmail.com",children:"asukii314.twitch@gmail.com"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Github:"})," ",Object(b.jsx)("a",{className:"inline",href:"https://github.com/asukii314/sn-suit-reference",children:"Public repo is here"})," - feel free to make a PR!"]})]})]})]})}function $(){return Object(b.jsxs)("div",{className:"infopage",children:[Object(b.jsx)("h2",{children:" Credits "}),Object(b.jsxs)("p",{children:["This site wouldn't have been possible without the massive contributions - both explicit and implicit - from many others in the Shining Nikki community. Here they are:",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Website UI/UX Design Help"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Elisa Lam - ",Object(b.jsx)("a",{className:"inline",href:"https://elisalam.squarespace.com",children:"website"})]}),Object(b.jsxs)("li",{children:["Natasha Djie - ",Object(b.jsx)("a",{className:"inline",href:"mailto:natasha.djie@gmail.com",children:"email"})]})]}),Object(b.jsx)("b",{children:"SN Images + Event Info (Official)"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"inline",href:"https://nikki4.com.tw/newslist",children:"TW Newslist"})}),Object(b.jsxs)("li",{children:["Twitter accounts for ",Object(b.jsx)("a",{className:"inline",href:"https://twitter.com/ShiningNikki_JP",children:"Japan"})," and ",Object(b.jsx)("a",{className:"inline",href:"https://twitter.com/ShiningNikki_SN",children:"Global"})]}),Object(b.jsxs)("li",{children:["Facebook accounts for ",Object(b.jsx)("a",{className:"inline",href:"https://www.facebook.com/ShiningNikkiTW/",children:"Taiwan"})," and ",Object(b.jsx)("a",{className:"inline",href:"https://www.facebook.com/shiningnikki.vietnam",children:"Vietnam"})]})]}),Object(b.jsx)("b",{children:"SN Images (Unofficial)"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("a",{className:"inline",href:"https://lensdump.com/rumi/albums",children:"Rumi's Lensdump"})," ",Object(b.jsx)("i",{children:"(suit images)"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("a",{className:"inline",href:"https://lensdump.com/sakushi/albums/",children:"Saku's Lensdump"})," and ",Object(b.jsx)("a",{className:"inline",href:"https://lensdump.com/a/iKQN9",children:"CrystalRain's lensdump"})," ",Object(b.jsx)("i",{children:"(full reflection art)"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("a",{className:"inline",href:"https://lensdump.com/a/W7Tra/sub",children:"SND Lensdump"})," ",Object(b.jsx)("i",{children:"(reflection icons)"})]}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"inline",href:"https://twitter.com/rei_sh3",children:"R E I - Twitter"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"inline",href:"https://orangecatty-shiningnikki.tumblr.com/",children:"Orangecatty's Tumblr"})})]}),Object(b.jsx)("b",{children:"Event Info (Unofficial)"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("a",{className:"inline",href:"https://docs.google.com/spreadsheets/d/1OyUo4VS1FKWqOvAdD7c48EgtIOeo8o-c_yOAoUQPTyI/edit#gid=1851570774",children:"Shining Nikki TN Event Calendar"})," by Jeanne#2998"]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("a",{className:"inline",href:"https://docs.google.com/spreadsheets/d/1kwS5WTBxfHhDCliR1BTdcTRtKF-dQVSncYcybvCpdB0/edit#gid=326770706",children:"Shining Nikki JP Calendar"})," and ",Object(b.jsx)("a",{className:"inline",href:"https://rebrand.ly/SNFutureEvents",children:"Shining Nikki Future Events"})," by noodle oreo#1037"]}),Object(b.jsxs)("li",{children:["#newsflash channels in ",Object(b.jsx)("a",{className:"inline",href:"https://discord.gg/yDJfk5q",children:"Shining Nikki Discord (SND)"})]}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"inline",href:"https://orangecatty-shiningnikki.tumblr.com/",children:"Orangecatty's Tumblr"})})]}),Object(b.jsx)("b",{children:"Suit Metadata"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("a",{className:"inline",href:"https://docs.google.com/spreadsheets/d/12bhpoIReHTVyQjNewiodA4rhL7zUSAhmq4i-5WV5BiU/edit#gid=0",children:"Suit Archive sheet"})," by luckynozomi#2333"]}),Object(b.jsxs)("li",{children:["Reflection skill data from Kami's ",Object(b.jsx)("a",{className:"inline",href:"https://docs.google.com/spreadsheets/d/1Va9SCIrxni6TUEB1DFxwQK8Vj9mnsCxztsPA9OJja-g/",children:"Shadow Ranking Sheet"})]}),Object(b.jsxs)("li",{children:["Metadata for global suits from the ",Object(b.jsx)("a",{className:"inline",href:"https://shining-nikki.fandom.com/wiki/Shining_Nikki_Wiki",children:"Shining Nikki Wiki"})]}),Object(b.jsx)("li",{children:"Misc data gathering help from Pevemoi#1484 and Cyra#7120 on Discord"})]}),Object(b.jsx)("b",{children:"Misc/Other"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Icons made by ",Object(b.jsx)("a",{className:"inline",href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," from ",Object(b.jsx)("a",{href:"https://www.flaticon.com/",className:"inline",title:"Flaticon",children:"www.flaticon.com"})]}),Object(b.jsxs)("li",{children:["Various info from posts on the official ",Object(b.jsx)("a",{className:"inline",href:"https://discord.gg/shiningnikki",children:"Shining Nikki Discord"})," ",Object(b.jsx)("i",{children:"(in #future-events)"})]}),Object(b.jsxs)("li",{children:["And of course, ",Object(b.jsx)("a",{className:"inline",href:"#/contact",children:"me (asukii)"})," to pull it all together :)"]})]})]})]})}function ee(){return Object(b.jsxs)("div",{className:"infopage",children:[Object(b.jsx)("h2",{children:"Privacy Policy "}),Object(b.jsxs)("p",{children:["By using this ",Object(b.jsx)("a",{className:"inline",href:"#",children:"Shining Nikki Suit Reference"})," website, you hereby consent to its Privacy Policy and agree to the terms below."]}),Object(b.jsxs)("p",{children:["If you have any questions or concerns about this policy, please don\u2019t hesitate to ",Object(b.jsx)("a",{className:"inline",href:"#/contact",children:"contact me"})," directly."]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Information we collect"}),Object(b.jsx)("p",{children:"Shining Nikki Suit Reference does not store any personally identifiable information about its users, anywhere on the site, for any reason. Some anonymized information is collected, as outlined below."}),Object(b.jsx)("b",{children:"3rd Party Sign-in"}),Object(b.jsxs)("p",{children:["If you sign in to Shining Nikki Suit Reference via either Facebook or Discord, the only information stored by the site is an anonymized user ID associated with the 3rd party login method you choose. ",Object(b.jsx)("u",{children:"We do not store your name, email address, or any other such personal information"}),"."]}),Object(b.jsx)("p",{children:"During the log-in process, you will be redirected to a website associated with the 3rd party login provider you choose. While on those sites, be advised that Shining Nikki Suit Reference's Privacy Policy does not apply to either Discord or Facebook themselves. For more detailed information on how they may use your data, or for instructions on how to opt-out of certain practices, please consult their respective Privacy Policies directly."}),Object(b.jsx)("p",{children:"Once you are logged in, Shining Nikki Suit Reference uses cookies to help keep you logged in. These cookies are cleared when you log out. You may also choose to disable cookies through your browser settings, if you prefer."}),Object(b.jsx)("p",{children:"Sign-in is optional; you are free to use the site without linking a 3rd party account. However, if you want to use the site to build your own custom wishlist/closet, you will need to sign in via either Facebook or Discord, so that the site \u201cknows\u201d whose wishlist/closet to associate with you."}),Object(b.jsx)("b",{children:"Log Files"}),Object(b.jsx)("p",{children:"Shining Nikki Suit Reference collects basic, anonymized log files about how the site is used. No personally identifiable information is included in these logs."}),Object(b.jsx)("p",{children:"A basic log entry includes only the page url & the date/time it was accessed. For actions that require login \u2013 for example, modifying your wishlist, marking a suit as owned/awakened, or logging in/out directly \u2013 the type of action is also logged, along with your anonymized user ID."}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"GDPR Rights"}),Object(b.jsx)("p",{children:"All users are entitled to the following standard data protection rights:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"The right to access \u2013 You have the right to request copies of your personal data."}),Object(b.jsx)("li",{children:"The right to rectification \u2013 You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete."}),Object(b.jsx)("li",{children:"The right to erasure \u2013 You have the right to request that that we erase your personal data."}),Object(b.jsx)("li",{children:"The right to restrict processing \u2013 You have the right to request that we restrict the processing of your personal data."}),Object(b.jsx)("li",{children:"The right to object to processing \u2013 You have the right to object to the processing of your personal data."}),Object(b.jsx)("li",{children:"The right to data portability \u2013 You have the right to request that we transfer the data that we have collected to another organization, or directly to you."})]}),Object(b.jsxs)("p",{children:["If you would like to exercise any of these rights, please email ",Object(b.jsx)("a",{className:"inline",href:"mailto:asukii314.twitch@gmail.com",children:"asukii314.twitch@gmail.com"}),"."]})]})}function te(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),i=t[0],c=t[1],s=Object(n.useState)([]),a=Object(l.a)(s,2),d=a[0],u=a[1],j=Object(n.useState)([]),h=Object(l.a)(j,2),p=h[0],f=h[1],v=Object(n.useState)([]),O=Object(l.a)(v,2),m=O[0],g=O[1],x=Object(n.useState)([]),w=Object(l.a)(x,2),k=w[0],y=w[1],N=Object(n.useState)(null),S=Object(l.a)(N,2),C=S[0],T=S[1],A=Object(n.useState)("Alphabetical"),P=Object(l.a)(A,2),F=P[0],R=P[1],E=Object(n.useState)(!0),I=Object(l.a)(E,2),L=I[0],M=I[1],W=Object(_.b)().user,z=Object(V.g)().userid,q=Object(_.b)(),J=q.isAuthenticated,H=q.loginWithRedirect,K=(q.logout,Object(n.useState)(window.innerWidth)),Q=Object(l.a)(K,2);Q[0],Q[1];var Z=!0,G=Object(n.useState)(!1),X=Object(l.a)(G,2),$=X[0],ee=X[1],te=!1;Object(n.useEffect)((function(){i.length||te||(te=!0,Promise.all([Y(),window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(z)).then((function(e){return e.json()}))]).then((function(e){var t=Object(l.a)(e,3),i=t[0],n=t[1],s=(t[2],i.filter((function(e){return n.includes(e.id)})));c(s),y(s),(null===W||void 0===W?void 0:W.sub)&&((null===W||void 0===W?void 0:W.sub)===z?Promise.all([window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub)).then((function(e){return e.json()})).then(f),u(n)]):Promise.all([window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub)).then((function(e){return e.json()})).then(f),window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(null===W||void 0===W?void 0:W.sub)).then((function(e){return e.json()})).then(u),window.fetch("https://sn-suit-reference-api.herokuapp.com/awakened/".concat(W.sub)).then((function(e){return e.json()})).then(g)]))}))),i.length>0&&p.length>0&&void 0===i[0].owned&&(c(i.map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{owned:p.includes(e.id),obtained:null!==(t=e.obtained)&&void 0!==t?t:p.includes(e.id)?"Unawakened":"Not Owned"})}))),y(k.map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{owned:p.includes(e.id),obtained:null!==(t=e.obtained)&&void 0!==t?t:p.includes(e.id)?"Unawakened":"Not Owned"})})))),i.length>0&&m.length>0&&void 0===i[0].awakened&&(c(i.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{awakened:m.includes(e.id),obtained:m.includes(e.id)?"Awakened":e.obtained})}))),y(k.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{awakened:m.includes(e.id),obtained:m.includes(e.id)?"Awakened":e.obtained})}))))}));var ie=function(e,t){if(t&&t.stopPropagation(),e&&(null===W||void 0===W?void 0:W.sub)){u([].concat(Object(o.a)(d),[e.id]));var n=i.map((function(e){return e.id})).indexOf(e.id);if(n>-1){var s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{likes:i[n].likes+1}),c(s),(null===C||void 0===C?void 0:C.id)===e.id&&T(s[n])}var a=k.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var l=Object(o.a)(k);l[a]=Object(r.a)(Object(r.a)({},k[a]),{},{likes:k[a].likes+1}),y(l)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(W.sub,"/").concat(e.id),{method:"PUT"})}},ne=function(e,t){if(t&&t.stopPropagation(),e&&(null===W||void 0===W?void 0:W.sub)){var n=d.indexOf(e.id);if(n>-1){var s=Object(o.a)(d);s.splice(n,1),u(s)}var a=i.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var l=Object(o.a)(i);l[a]=Object(r.a)(Object(r.a)({},i[a]),{},{likes:i[a].likes-1}),c(l),(null===C||void 0===C?void 0:C.id)===e.id&&T(l[a])}var j=k.map((function(e){return e.id})).indexOf(e.id);if(j>-1){var h=Object(o.a)(k);h[j]=Object(r.a)(Object(r.a)({},k[j]),{},{likes:k[j].likes-1}),y(h)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(W.sub,"/").concat(e.id),{method:"DELETE"})}},ce=function(e,t){if(t&&t.stopPropagation(),J){if(e&&(null===W||void 0===W?void 0:W.sub)){f([].concat(Object(o.a)(p),[e.id]));var n=i.findIndex((function(t){return t.id===e.id})),s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{owned:!0,obtained:"Unawakened"}),c(s),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub,"/").concat(e.id),{method:"PUT"})}}else H()},se=function(e,t){if(t&&t.stopPropagation(),J){if(e&&(null===W||void 0===W?void 0:W.sub)){g([].concat(Object(o.a)(m),[e.id]));var n=i.findIndex((function(t){return t.id===e.id})),s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{awakened:!0,obtained:"Awakened"}),c(s),window.fetch("https://sn-suit-reference-api.herokuapp.com/awakened/".concat(W.sub,"/").concat(e.id),{method:"PUT"})}}else H()},ae=function(e,t){if(t&&t.stopPropagation(),e&&(null===W||void 0===W?void 0:W.sub)){var n=p.indexOf(e.id);if(n>-1){var s=Object(o.a)(p);s.splice(n,1),f(s)}if((n=m.indexOf(e.id))>-1){var a=Object(o.a)(m);a.splice(n,1),g(a)}var l=i.findIndex((function(t){return t.id===e.id})),d=Object(o.a)(i);d[l]=Object(r.a)(Object(r.a)({},i[l]),{},{owned:!1,awakened:!1,obtained:"Not Owned"}),c(d),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub,"/").concat(e.id),{method:"DELETE"})}},oe=Object(n.useCallback)((function(e){27===e.keyCode&&le()}),[]);Object(n.useEffect)((function(){return document.addEventListener("keydown",oe),function(){document.removeEventListener("keydown",oe)}}),[oe]);var re=function(e){C===e?le():T(e)},le=function(){T(null)},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forward,i=void 0===t||t;if(C){var n=k.map((function(e){return e.name})).indexOf(C.name),c=n+(i?1:-1);c<0||c>=k.length||T(k[c])}};return i?Object(b.jsxs)("div",{children:[Object(b.jsx)(B,{suits:i,updateFilteredSuits:y,suitCount:k.length,expanded:$,toggleFilterPane:function(){ee(!$)},setActiveSuit:re,isMobile:Z,sortTypes:["Alphabetical","# of Likes","1st Release (TW)"],activeSortType:F,isDescending:L,setSortType:function(e){var t=Object(o.a)(i),n=Object(o.a)(k);if(e===F)return t.reverse(),c(t),n.reverse(),y(n),void M(!L);switch(R(e),M(!0),e){case"# of Likes":t.sort((function(e,t){return t.likes-e.likes})),c(t),n.sort((function(e,t){return t.likes-e.likes})),y(n);break;case"Alphabetical":t.sort((function(e,t){return t.name.toUpperCase()<e.name.toUpperCase()?1:-1})),c(t),n.sort((function(e,t){return t.name.toUpperCase()<e.name.toUpperCase()?1:-1})),y(n);break;case"1st Release (TW)":var s=function(e,t){var i,n,c,s,a,o,r,l,d,u,j=null===(i=e.source)||void 0===i||null===(n=i.event)||void 0===n||null===(c=n.releases)||void 0===c||null===(s=c.TW)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.start,h=null===(o=t.source)||void 0===o||null===(r=o.event)||void 0===r||null===(l=r.releases)||void 0===l||null===(d=l.TW)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.start;return j||h?j?h?Date.parse(h)-Date.parse(j):-1:1:0};t.sort(s),c(t),n.sort(s),y(n)}}}),Object(b.jsxs)("div",{className:"suit-page-main-content",children:[Object(b.jsx)(D,{suit:C,closePane:le,nextSuit:de,isFavourited:d.includes(null===C||void 0===C?void 0:C.id)||!1,favourite:ie,unfavourite:ne,isOwned:p.includes(null===C||void 0===C?void 0:C.id)||!1,setOwned:ce,isAwakened:m.includes(null===C||void 0===C?void 0:C.id)||!1,setAwakened:se,setNotOwned:ae,isMobile:Z}),Object(b.jsx)(U,{suits:k,activeSuit:C,setActiveSuit:re,nextSuit:de,favouriteSuits:d,favourite:ie,unfavourite:ne,ownedSuits:p,awakenedSuits:m,setOwned:ce,setAwakened:se,setNotOwned:ae})]})]}):null}function ie(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),i=t[0],c=t[1],s=Object(n.useState)([]),a=Object(l.a)(s,2),d=a[0],u=a[1],j=Object(n.useState)([]),h=Object(l.a)(j,2),p=h[0],f=h[1],v=Object(n.useState)([]),O=Object(l.a)(v,2),m=O[0],g=O[1],x=Object(n.useState)([]),w=Object(l.a)(x,2),k=w[0],y=w[1],N=Object(n.useState)(null),S=Object(l.a)(N,2),C=S[0],T=S[1],A=Object(n.useState)("Alphabetical"),P=Object(l.a)(A,2),F=P[0],R=P[1],E=Object(n.useState)(!0),I=Object(l.a)(E,2),L=I[0],M=I[1],W=Object(_.b)().user,z=Object(V.g)().userid,q=Object(_.b)(),J=q.isAuthenticated,H=q.loginWithRedirect,K=(q.logout,Object(n.useState)(window.innerWidth)),Q=Object(l.a)(K,2);Q[0],Q[1];var Z=!0,G=Object(n.useState)(!1),X=Object(l.a)(G,2),$=X[0],ee=X[1];Object(n.useEffect)((function(){i.length||Promise.all([Y(),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(z)).then((function(e){return e.json()}))]).then((function(e){var t=Object(l.a)(e,2),i=t[0],n=t[1],s=i.filter((function(e){return n.includes(e.id)}));c(s),y(s),(null===W||void 0===W?void 0:W.sub)&&((null===W||void 0===W?void 0:W.sub)===z?Promise.all([f(n),window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(null===W||void 0===W?void 0:W.sub)).then((function(e){return e.json()})).then(u)]):Promise.all([window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub)).then((function(e){return e.json()})).then(f),window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(null===W||void 0===W?void 0:W.sub)).then((function(e){return e.json()})).then(u),window.fetch("https://sn-suit-reference-api.herokuapp.com/awakened/".concat(W.sub)).then((function(e){return e.json()})).then((function(e){return g(e)})).then((function(){return console.log("ASDASD",m)}))]))})),i.length>0&&p.length>0&&void 0===i[0].owned&&(c(i.map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{owned:p.includes(e.id),obtained:null!==(t=e.obtained)&&void 0!==t?t:p.includes(e.id)?"Unawakened":"Not Owned"})}))),y(k.map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{owned:p.includes(e.id),obtained:null!==(t=e.obtained)&&void 0!==t?t:p.includes(e.id)?"Unawakened":"Not Owned"})})))),i.length>0&&m.length>0&&void 0===i[0].awakened&&(c(i.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{awakened:m.includes(e.id),obtained:m.includes(e.id)?"Awakened":e.obtained})}))),y(k.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{awakened:m.includes(e.id),obtained:m.includes(e.id)?"Awakened":e.obtained})}))))}));var te=function(e,t){if(t&&t.stopPropagation(),e&&(null===W||void 0===W?void 0:W.sub)){u([].concat(Object(o.a)(d),[e.id]));var n=i.map((function(e){return e.id})).indexOf(e.id);if(n>-1){var s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{likes:i[n].likes+1}),c(s),(null===C||void 0===C?void 0:C.id)===e.id&&T(s[n])}var a=k.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var l=Object(o.a)(k);l[a]=Object(r.a)(Object(r.a)({},k[a]),{},{likes:k[a].likes+1}),y(l)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(W.sub,"/").concat(e.id),{method:"PUT"})}},ie=function(e,t){if(t&&t.stopPropagation(),e&&(null===W||void 0===W?void 0:W.sub)){var n=d.indexOf(e.id);if(n>-1){var s=Object(o.a)(d);s.splice(n,1),u(s)}var a=i.map((function(e){return e.id})).indexOf(e.id);if(a>-1){var l=Object(o.a)(i);l[a]=Object(r.a)(Object(r.a)({},i[a]),{},{likes:i[a].likes-1}),c(l),(null===C||void 0===C?void 0:C.id)===e.id&&T(l[a])}var j=k.map((function(e){return e.id})).indexOf(e.id);if(j>-1){var h=Object(o.a)(k);h[j]=Object(r.a)(Object(r.a)({},k[j]),{},{likes:k[j].likes-1}),y(h)}window.fetch("https://sn-suit-reference-api.herokuapp.com/favourites/".concat(W.sub,"/").concat(e.id),{method:"DELETE"})}},ne=function(e,t){if(t&&t.stopPropagation(),J){if(e&&(null===W||void 0===W?void 0:W.sub)){f([].concat(Object(o.a)(p),[e.id]));var n=i.findIndex((function(t){return t.id===e.id})),s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{owned:!0,obtained:"Unawakened"}),c(s),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub,"/").concat(e.id),{method:"PUT"})}}else H()},ce=function(e,t){if(t&&t.stopPropagation(),e&&(null===W||void 0===W?void 0:W.sub)){var n=p.indexOf(e.id);if(n>-1){var s=Object(o.a)(p);s.splice(n,1),f(s)}if((n=m.indexOf(e.id))>-1){var a=Object(o.a)(m);a.splice(n,1),g(a)}var l=i.findIndex((function(t){return t.id===e.id})),d=Object(o.a)(i);d[l]=Object(r.a)(Object(r.a)({},i[l]),{},{owned:!1,awakened:!1,obtained:"Not Owned"}),c(d),window.fetch("https://sn-suit-reference-api.herokuapp.com/owned/".concat(W.sub,"/").concat(e.id),{method:"DELETE"})}},se=Object(n.useCallback)((function(e){27===e.keyCode&&oe()}),[]);Object(n.useEffect)((function(){return document.addEventListener("keydown",se),function(){document.removeEventListener("keydown",se)}}),[se]);var ae=function(e){C===e?oe():T(e)},oe=function(){T(null)},re=function(e,t){if(t&&t.stopPropagation(),J){if(e&&(null===W||void 0===W?void 0:W.sub)){g([].concat(Object(o.a)(m),[e.id]));var n=i.findIndex((function(t){return t.id===e.id})),s=Object(o.a)(i);s[n]=Object(r.a)(Object(r.a)({},i[n]),{},{awakened:!0,obtained:"Awakened"}),c(s),window.fetch("https://sn-suit-reference-api.herokuapp.com/awakened/".concat(W.sub,"/").concat(e.id),{method:"PUT"})}}else H()},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forward,i=void 0===t||t;if(C){var n=k.map((function(e){return e.name})).indexOf(C.name),c=n+(i?1:-1);c<0||c>=k.length||T(k[c])}};return i?Object(b.jsxs)("div",{children:[Object(b.jsx)(B,{suits:i,updateFilteredSuits:y,suitCount:k.length,expanded:$,toggleFilterPane:function(){ee(!$)},setActiveSuit:ae,isMobile:Z,sortTypes:["Alphabetical","# of Likes","1st Release (TW)"],activeSortType:F,isDescending:L,setSortType:function(e){var t=Object(o.a)(i),n=Object(o.a)(k);if(e===F)return t.reverse(),c(t),n.reverse(),y(n),void M(!L);switch(R(e),M(!0),e){case"# of Likes":t.sort((function(e,t){return t.likes-e.likes})),c(t),n.sort((function(e,t){return t.likes-e.likes})),y(n);break;case"Alphabetical":t.sort((function(e,t){return t.name.toUpperCase()<e.name.toUpperCase()?1:-1})),c(t),n.sort((function(e,t){return t.name.toUpperCase()<e.name.toUpperCase()?1:-1})),y(n);break;case"1st Release (TW)":var s=function(e,t){var i,n,c,s,a,o,r,l,d,u,j=null===(i=e.source)||void 0===i||null===(n=i.event)||void 0===n||null===(c=n.releases)||void 0===c||null===(s=c.TW)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.start,h=null===(o=t.source)||void 0===o||null===(r=o.event)||void 0===r||null===(l=r.releases)||void 0===l||null===(d=l.TW)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.start;return j||h?j?h?Date.parse(h)-Date.parse(j):-1:1:0};t.sort(s),c(t),n.sort(s),y(n)}}}),Object(b.jsxs)("div",{className:"suit-page-main-content",children:[Object(b.jsx)(D,{suit:C,closePane:oe,nextSuit:le,isFavourited:d.includes(null===C||void 0===C?void 0:C.id)||!1,favourite:te,unfavourite:ie,isOwned:p.includes(null===C||void 0===C?void 0:C.id)||!1,setOwned:ne,isAwakened:m.includes(null===C||void 0===C?void 0:C.id)||!1,setAwakened:re,setNotOwned:ce,isMobile:Z}),Object(b.jsx)(U,{suits:k,activeSuit:C,setActiveSuit:ae,nextSuit:le,favouriteSuits:d,favourite:te,unfavourite:ie,ownedSuits:p,setOwned:ne,setNotOwned:ce,awakenedSuits:m,setAwakened:re})]})]}):null}var ne=function(){return window.location.hash&&"#_=_"===window.location.hash&&(window.location.hash=""),Object(b.jsx)(Z.a,{children:Object(b.jsx)(_.a,{domain:"dev-semwqhjw.us.auth0.com",clientId:"96kzE3AqjHdAz8fzOJvTuENJO7AQj0wb",redirectUri:window.location.origin.includes("localhost")?window.location.origin:"https://asukii314.github.io/sn-suit-reference",children:Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)(G,{}),Object(b.jsx)("img",{className:"hack",src:"./menu.png"}),Object(b.jsxs)(V.c,{children:[Object(b.jsx)(V.a,{exact:!0,path:"/",element:Object(b.jsx)(J,{})}),Object(b.jsx)(V.a,{path:":suitId",element:Object(b.jsx)(Q,{})}),Object(b.jsx)(V.a,{path:"/credits",element:Object(b.jsx)($,{})}),Object(b.jsx)(V.a,{path:"/contact",element:Object(b.jsx)(X,{})}),Object(b.jsx)(V.a,{path:"/privacy",element:Object(b.jsx)(ee,{})}),Object(b.jsx)(V.a,{path:"/wishlist/:userid",element:Object(b.jsx)(te,{})}),Object(b.jsx)(V.a,{path:"/closet/:userid",element:Object(b.jsx)(ie,{})})]})]})})})})},ce=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,86)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;i(e),n(e),c(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[85,1,2]]]);
//# sourceMappingURL=main.b3319ee4.chunk.js.map